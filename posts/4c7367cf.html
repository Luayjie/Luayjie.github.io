<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>LinuxåŸºç¡€æ€»ç»“ç‰ˆ | é£ç­ä¸Šçš„çŒ«</title><meta name="keywords" content="Java,MySQL,ç®—æ³•,ä»£ç ,åšå®¢,Butterfly,Hexo,LuayğŸ¥,Luay"><meta name="author" content="LuayğŸ¥"><meta name="copyright" content="LuayğŸ¥"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="åŸºç¡€ä¸œè¥¿éƒ½åœ¨è¿™é‡Œäº†ï¼Œå­¦å®Œå½»åº•å‘Šåˆ«å°ç™½ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="LinuxåŸºç¡€æ€»ç»“ç‰ˆ">
<meta property="og:url" content="https://lukme.top/posts/4c7367cf.html">
<meta property="og:site_name" content="é£ç­ä¸Šçš„çŒ«">
<meta property="og:description" content="åŸºç¡€ä¸œè¥¿éƒ½åœ¨è¿™é‡Œäº†ï¼Œå­¦å®Œå½»åº•å‘Šåˆ«å°ç™½ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cos.lukme.top/lukme/article_cover/cover_1.webp">
<meta property="article:published_time" content="2024-07-25T03:17:04.000Z">
<meta property="article:modified_time" content="2024-10-13T07:02:09.927Z">
<meta property="article:author" content="LuayğŸ¥">
<meta property="article:tag" content="Java,MySQL,ç®—æ³•,ä»£ç ,åšå®¢,Butterfly,Hexo,LuayğŸ¥,Luay">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cos.lukme.top/lukme/article_cover/cover_1.webp"><link rel="shortcut icon" href="/"><link rel="canonical" href="https://lukme.top/posts/4c7367cf"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.js',
      css: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'LinuxåŸºç¡€æ€»ç»“ç‰ˆ',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-10-13 15:02:09'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><span id="fps"></span><style id="defineBg"></style><style id="menu_shadow"></style><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="é£ç­ä¸Šçš„çŒ«" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://luay-1302975046.cos.ap-shanghai.myqcloud.com/lukme/touxiang.jpg" onerror="onerror=null;src='/assets/r1.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">55</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">10</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> ä¼‘é—²</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> å…«éŸ³ç›’</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½±é™¢</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> å…«å®ç®±</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> ç”»å»Š</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> åŠ¨ç”»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘å€å¯¼èˆª</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> ç•™è¨€æ¿</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> æ—§æ—¶å…‰</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">é£ç­ä¸Šçš„çŒ«</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> ä¼‘é—²</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> å…«éŸ³ç›’</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½±é™¢</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> å…«å®ç®±</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> ç”»å»Š</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> åŠ¨ç”»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘å€å¯¼èˆª</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> ç•™è¨€æ¿</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> æ—§æ—¶å…‰</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="æ£€ç´¢ç«™å†…ä»»ä½•ä½ æƒ³è¦çš„ä¿¡æ¯"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg><span> æœç´¢</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="ç¾åŒ–è®¾ç½®-è‡ªå®šä¹‰ä½ çš„é£æ ¼" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">LinuxåŸºç¡€æ€»ç»“ç‰ˆ</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">å‘è¡¨äº </span><time class="post-meta-date-created" datetime="2024-07-25T03:17:04.000Z" title="å‘è¡¨äº 2024-07-25 11:17:04">2024-07-25</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2024-10-13T07:02:09.927Z" title="æ›´æ–°äº 2024-10-13 15:02:09">2024-10-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-biaoqian"></use></svg><a class="post-meta-categories" href="/categories/Linux%E6%95%B2%E9%97%A8/">Linuxæ•²é—¨</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">4.9w</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>209åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="LinuxåŸºç¡€æ€»ç»“ç‰ˆ"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="ã€1ã€‘LinuxåŸºç¡€">ã€1ã€‘LinuxåŸºç¡€</h2>
<h3 id="1-ç½‘ç»œç›¸å…³">1.ç½‘ç»œç›¸å…³</h3>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ipåœ°å€ï¼šè®¾å¤‡ä¹‹é—´äº’ç›¸é€šä¿¡ xxx.xxx.xxx.xxx <span class="number">4</span>æ®µ ç‚¹åˆ†åè¿›åˆ¶ èŒƒå›´ï¼š<span class="number">0</span>-<span class="number">255</span> <span class="number">0</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">0</span> -<span class="number">255</span>.<span class="number">255</span>.<span class="number">255</span>.<span class="number">255</span></span><br><span class="line">å­ç½‘æ©ç ï¼šåˆ’åˆ†ç½‘æ®µï¼Œåˆ¤æ–­ipæ˜¯å¦åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘å†… <span class="number">255</span>.<span class="number">255</span>.<span class="number">255</span>.<span class="number">0</span> å­ç½‘ä¸€æ ·å°±æ˜¯åœ¨åŒä¸€ç½‘æ®µ</span><br><span class="line">ç½‘å…³ï¼šè®©è®¾å¤‡ä¸Šå±€åŸŸç½‘ä»¥å¤–çš„ç½‘ç«™ï¼Œéœ€è¦å‡ºç½‘å…³ï¼ˆå‡ºå›½çš„æµ·å…³ï¼‰ç½‘å…³åœ°å€å°±æ˜¯è·¯ç”±å™¨çš„IP</span><br><span class="line">DNSï¼šdomain name server åŸŸåè§£ææœåŠ¡</span><br><span class="line">è‹¥å­ä¸‹é¢ä¸¤ä¸ªipç½‘æ©ç å‰ä¸‰ä½ä¸€æ ·ï¼Œæœ€åä¸€ä½ä¸ä¸€æ ·ï¼Œåˆ™å‰ä¸‰ä½æ˜¯ç½‘ç»œä½ï¼‰</span><br><span class="line">å­ç½‘æ©ç             ç½‘ç»œä½       ä¸»æœºä½</span><br><span class="line"><span class="number">255.255.255.0</span>        <span class="number">192</span>.<span class="number">168</span>.<span class="number">0</span>.   <span class="number">69</span></span><br><span class="line"><span class="number">255.255.255.1</span>        <span class="number">192</span>.<span class="number">168</span>.<span class="number">0</span>.   <span class="number">37</span></span><br><span class="line">è‹¥å­ä¸‹é¢ä¸¤ä¸ªipç½‘æ©ç å‰ä¸¤ä½ä¸€æ ·ï¼Œæœ€åä¸¤ä½ä¸ä¸€æ ·ï¼Œåˆ™å‰ä¸¤ä½æ˜¯ç½‘ç»œä½</span><br><span class="line">å­ç½‘æ©ç             ç½‘ç»œä½       ä¸»æœºä½</span><br><span class="line"><span class="number">255.255.0.241</span>      <span class="number">192</span>.<span class="number">168</span>.     <span class="number">1</span>.<span class="number">5</span>       </span><br><span class="line"><span class="number">255.255.1.67</span>       <span class="number">192</span>.<span class="number">168</span>.     <span class="number">0</span>.<span class="number">241</span></span><br><span class="line"></span><br><span class="line">Windowsï¼šcmdä¸­  ipconfig -allæŸ¥çœ‹ip</span><br></pre></td></tr></table></figure>
<h4 id="1-è™šæ‹Ÿæœºçš„ç½‘ç»œæ¨¡å¼">1.è™šæ‹Ÿæœºçš„ç½‘ç»œæ¨¡å¼</h4>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ¡¥æ¥æ¨¡å¼ï¼šå°†ç‰©ç†æœºçš„ç½‘å¡å’Œè™šæ‹Ÿæœºçš„ç½‘å¡è¿æ¥åœ¨ä¸€å—ï¼ˆç½‘æ¡¥ï¼‰ä½œç”¨ï¼šå…±äº«ç‰©ç†æœºçš„ç½‘ç»œï¼Œè®©è™šæ‹Ÿæœºçš„IPå’Œç‰©ç†æœºçš„IPåœ¨åŒä¸€ä¸ªç½‘æ®µï¼ˆå±€åŸŸç½‘ï¼‰</span><br><span class="line"><span class="number">192.168.10.142</span></span><br><span class="line"><span class="number">192</span>.<span class="number">168</span>.<span class="number">10</span>.xxx</span><br><span class="line">NATæ¨¡å¼ï¼šå°†ç‰©ç†æœºçš„IPåœ°å€ï¼ŒåŠ¨æ€è½¬æ¢æˆè™šæ‹Ÿæœºçš„ç§ç½‘IPï¼Œè¿™ä¸ªç§ç½‘IPä¹Ÿå¯ä»¥è‡ªå®šä¹‰</span><br><span class="line">ä»…ä¸»æœºæ¨¡å¼ï¼šå°†ç‰©ç†æœºçœ‹æˆæ˜¯ä¸€ä¸ªæ²¡æœ‰è·¯ç”±å™¨çš„äº¤æ¢æœºï¼Œæ‰€æœ‰çš„è™šæ‹Ÿæœºéƒ½è¿æ¥åœ¨è¿™ä¸ªäº¤æ¢æœºä¸Šï¼Œæ‰€æœ‰è™šæ‹Ÿæœºä¹‹é—´å¯ä»¥äº’ç›¸é€šä¿¡ï¼Œä½†æ˜¯æ— æ³•ä¸Šå¤–ç½‘</span><br></pre></td></tr></table></figure>
<p><strong>NATæ¨¡å¼åŸç†å›¾</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240328140421320.png" alt="image-20240328140421320"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240328140752681.png" alt="image-20240328140752681"></p>
<h4 id="2-è™šæ‹Ÿæœºç½‘å¡é…ç½®">2.è™šæ‹Ÿæœºç½‘å¡é…ç½®</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240328140923241.png" alt="image-20240328140923241"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240328141009976.png" alt="image-20240328141009976"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240328141241797.png" alt="image-20240328141241797"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240328141353938.png" alt="image-20240328141353938"></p>
<h4 id="3-ç³»ç»Ÿå†…é…ç½®ç½‘å¡">3.ç³»ç»Ÿå†…é…ç½®ç½‘å¡</h4>
<p><strong>nmtuiå‘½ä»¤</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/nmtui%E5%91%BD%E4%BB%A4%E6%AD%A5%E9%AA%A4.png" alt="image-20240328135426458"></p>
<p><strong>å‘½ä»¤è¡Œé…ç½®</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240328142122532.png" alt="image-20240328142122532"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240328142637912.png" alt="image-20240328142637912"></p>
<h4 id="4-Xshellè¿æ¥ä¸ä¸Šè™šæ‹Ÿæœºæ’æŸ¥">4.Xshellè¿æ¥ä¸ä¸Šè™šæ‹Ÿæœºæ’æŸ¥</h4>
<p><strong>1.æŸ¥çœ‹è™šæ‹Ÿæœºç½‘å¡é…ç½®</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240401212405053.png" alt="image-20240401212405053"></p>
<p><strong>2.æ£€æŸ¥è·¯ç”±å™¨ (è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨)é…ç½®</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240401212612086.png" alt="image-20240401212612086"></p>
<p><strong>3.è™šæ‹Ÿæœºç½‘å¡é…ç½®æ–‡ä»¶å†…å®¹</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line">BOOTPROTO=none			none/dhcp/static</span><br><span class="line">DEFROUTE=<span class="built_in">yes</span></span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">NAME=ens33</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBOOT=<span class="built_in">yes</span>			å¼€æœºå¯åŠ¨ç½‘å¡</span><br><span class="line">IPADDR=10.0.0.250		ip</span><br><span class="line">NETMASK=255.255.255.0	å­ç½‘æ©ç </span><br><span class="line">GATEWAY=10.0.0.2		ç½‘å…³</span><br><span class="line">DNS1=223.5.5.5			é¦–é€‰DNS</span><br><span class="line">DNS2=223.6.6.6			å¤‡ç”¨DNS</span><br><span class="line">IPV6INIT=no</span><br><span class="line">UUID=c96bc909-188e-ec64-3a96-6a90982b08ad</span><br></pre></td></tr></table></figure>
<p><strong>4.æµ‹è¯•è™šæ‹Ÿæœºæ˜¯å¦èƒ½ä¸Šå¤–ç½‘ ping <a target="_blank" rel="noopener" href="http://baidu.com">baidu.com</a></strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æµ‹è¯•è™šæ‹Ÿæœºæ˜¯å¦èƒ½ä¸Šå¤–ç½‘</span></span><br><span class="line">ping baidu.com</span><br><span class="line">åœ¨xshellé‡Œping10.0.0.250ï¼Œè°è¿æ¥è°ï¼Œå°±ç”¨è°å»pingè°</span><br></pre></td></tr></table></figure>
<p>5.æ£€æŸ¥ä¸‹ç«¯å£æ˜¯ä¸æ˜¯22ï¼ˆsshåè®®ç«¯å£22ï¼‰</p>
<p>telnet 10.0.0.250 22 [c:~]$ telnet 10.0.0.250 22</p>
<p>Windowså¼€å¯telnet</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240401213429309.png" alt="image-20240401213429309"></p>
<h3 id="2-C6-C7å®‰è£…">2.C6 &amp; C7å®‰è£…</h3>
<h4 id="1-Centos-6-å®‰è£…">1. Centos 6 å®‰è£…</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429164147100.png" alt="image-20240429164147100"></p>
<p><strong>1.é€‰ç¬¬ä¸€ä¸ªï¼Œå›è½¦</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/202405202206220.png" alt="image-20240520220605042"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429150439219.png" alt="image-20240429150439219"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429150817328.png" alt="image-20240429150817328"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429150932495.png" alt="image-20240429150932495"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429151041651.png" alt="image-20240429151041651"></p>
<p><strong>é€‰æ‹©æ—¶åŒºå’Œå¡«å†™å¯†ç ç­‰çœç•¥</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429151453854.png" alt="image-20240429151453854"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429151714208.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429151940449.png" alt="image-20240429151940449"></p>
<p>é€‰æ‹©baseå’Œdevelopå·¥å…·</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429152056178.png" alt="image-20240429152056178"></p>
<h4 id="2-é…ç½®CentOS6ç½‘å¡">2.é…ç½®CentOS6ç½‘å¡</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vi /etc/sysconfig/network-scripts/ifcfg-eth0 </span><br><span class="line">DEVICE=eth0</span><br><span class="line">HWADDR=00:0C:29:5A:FC:82</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">UUID=65c55f51-b929-49fa-b8c9-541e6230e11b</span><br><span class="line">ONBOOT=<span class="built_in">yes</span></span><br><span class="line">NM_CONTROLLED=<span class="built_in">yes</span></span><br><span class="line">BOOTPROTO=none</span><br><span class="line">IPADDR=10.0.0.10</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">GETEWAY=10.0.0.254</span><br><span class="line">DNS=223.5.5.5</span><br><span class="line">:wq</span><br><span class="line">é‡å¯ç½‘å¡ </span><br><span class="line">1./etc/init.d/network restart</span><br><span class="line">2.service network restart</span><br></pre></td></tr></table></figure>
<h4 id="3-CentOS7å®‰è£…">3.CentOS7å®‰è£…</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/%E8%99%9A%E6%8B%9F%E6%9C%BAstep01.png" alt="image-20240328135426458"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/%E8%99%9A%E6%8B%9F%E6%9C%BAstep02.png" alt="image-20240328135426458"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/%E8%99%9A%E6%8B%9F%E6%9C%BAstep03.png" alt="image-20240328135426458"></p>
<h3 id="3-å˜é‡">3.å˜é‡</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## å¦‚ä½•å®šä¹‰å˜é‡</span></span><br><span class="line">å˜é‡å=å˜é‡å€¼     age=18</span><br><span class="line">[root@localhost tmp]# <span class="built_in">echo</span> <span class="variable">$age</span>		<span class="comment">#è°ƒç”¨å˜é‡</span></span><br><span class="line">18</span><br><span class="line"><span class="comment">##  name=oldboy</span></span><br><span class="line">1.<span class="built_in">echo</span> <span class="string">&#x27;$oldboy&#x27;</span> ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ </span><br><span class="line"><span class="variable">$oldboy</span></span><br><span class="line">2.<span class="built_in">echo</span> <span class="string">&#x27;$name&#x27;</span> ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</span><br><span class="line"><span class="variable">$name</span></span><br><span class="line">3.<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$name</span>&quot;</span> ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</span><br><span class="line">oldboy </span><br><span class="line">4.1.<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$oldboy</span>&#x27; ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ </span></span><br><span class="line"><span class="string">ç©ºå€¼</span></span><br><span class="line"><span class="string">echo &#123;1..5..2&#125;æ¯éš”2ä¸ªæ•°åœ¨1-5å–æ•°</span></span><br></pre></td></tr></table></figure>
<p><strong>ç¯å¢ƒå˜é‡ï¼ˆç³»ç»Ÿå˜é‡ï¼‰</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~] <span class="built_in">declare</span>    <span class="comment">#å¯ä»¥æŸ¥çœ‹ç³»ç»Ÿè‡ªå¸¦çš„æ‰€æœ‰å˜é‡ </span></span><br><span class="line">1.[root@localhost ~]# ll /root/.bashrc</span><br><span class="line">2.[root@localhost ~]# ll /etc/bashrc </span><br><span class="line">3.[root@localhost ~]# ll /etc/profile</span><br><span class="line">4.[root@localhost ~]# ll /etc/profile.d/</span><br></pre></td></tr></table></figure>
<p><strong>å‘½ä»¤æç¤ºç¬¦å˜é‡</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# <span class="built_in">echo</span> <span class="variable">$PS1</span></span><br><span class="line">[\u@\h \W]\$</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240327165009589.png" alt="image-20240327165009589"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ä¿®æ”¹ç¯å¢ƒå˜é‡æ–‡ä»¶æ°¸ä¹…ç”Ÿæ•ˆ</span><br><span class="line">[root@lb01 ~]# vi ~/.bashrc  	   /root/.bashrc</span><br><span class="line">[lgj@lb01 root]$ vi ~/.bashrc      /home/lgj/.bushrc</span><br><span class="line">è‹¥rootç”¨æˆ·ä¿®æ”¹</span><br><span class="line">è¶…çº§ç”¨æˆ·å’Œæ™®é€šç”¨æˆ·å®¶ç›®å½•ï¼š</span><br><span class="line">è¶…çº§ç”¨æˆ·rootï¼š/root</span><br><span class="line">æ™®é€šç”¨æˆ·ï¼š/home/æ™®é€šç”¨æˆ·å</span><br></pre></td></tr></table></figure>
<h4 id="BASHç‰¹æ€§">BASHç‰¹æ€§</h4>
<p><strong>BASHç‰¹æ€§â€”â€”Tabè¡¥å…¨</strong></p>
<p><strong>BASHç‰¹æ€§â€”â€”å¿«æ·é”®</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Ctrl + w <span class="comment"># å°†å…‰æ ‡æ‰€åœ¨å­—ç¬¦å‰é¢çš„å†…å®¹åˆ é™¤ï¼Œä¸€ç›´åˆ é™¤åˆ°ç©ºæ ¼</span></span><br><span class="line">Ctrl + z <span class="comment"># å°†ä¸€ä¸ªè¿›ç¨‹æ”¾åœ¨åå°è¿è¡Œ</span></span><br><span class="line">Ctrl + k <span class="comment"># å°†å…‰æ ‡æ‰€åœ¨å­—ç¬¦å’Œåé¢æ‰€æœ‰å†…å®¹ï¼Œå…¨éƒ¨åˆ é™¤</span></span><br><span class="line">Ctrl + u <span class="comment"># å°†å…‰æ ‡æ‰€åœ¨å­—ç¬¦å‰é¢çš„å†…å®¹å…¨éƒ¨åˆ é™¤ï¼ˆå…‰æ ‡æ‰€åœ¨å­—ç¬¦ä¸ä¼šåˆ é™¤ï¼‰</span></span><br><span class="line">Ctrl + s <span class="comment"># é”å±</span></span><br><span class="line">Ctrl + q <span class="comment"># è§£é”</span></span><br><span class="line">Ctrl + å·¦å³ <span class="comment"># æŒ‰ç…§å•è¯è·³è½¬å…‰æ ‡</span></span><br><span class="line"><span class="comment">###########################################</span></span><br><span class="line">Ctrl + a <span class="comment"># å°†å…‰æ ‡ç§»åŠ¨åˆ°å‘½ä»¤è¡Œé¦–</span></span><br><span class="line">Ctrl + e <span class="comment"># å°†å…‰æ ‡ç§»åŠ¨åˆ°å‘½ä»¤è¡Œæœ«</span></span><br><span class="line">Ctrl + c <span class="comment"># å°†å‘½ä»¤ç»ˆæ­¢</span></span><br><span class="line">Ctrl + l <span class="comment"># æ¸…å±</span></span><br><span class="line">BASHç‰¹æ€§â€”â€”å†å²å‘½ä»¤</span><br><span class="line">BASHç‰¹æ€§â€”â€”å‘½ä»¤åˆ«å</span><br><span class="line">Ctrl + d <span class="comment"># é€€å‡ºå½“å‰ä¸€ä¸ªBASHç»ˆç«¯ ï¼ˆæ³¨é”€å½“å‰ç”¨æˆ·ï¼‰</span></span><br><span class="line">Ctrl + r <span class="comment"># æœç´¢å†å²å‘½ä»¤</span></span><br><span class="line">ESC + . <span class="comment"># å°†ä¸Šä¸€æ¡å‘½ä»¤æœ€åä¸€ä¸ªç©ºæ ¼ åé¢çš„å†…å®¹ï¼Œè¡¥å…¨åˆ°å½“å‰å‘½ä»¤è¡Œ</span></span><br><span class="line"><span class="string">&#x27;äº•å·&#x27;</span> <span class="comment"># :åœ¨BASHä¸­ä»£è¡¨æ³¨é‡Šï¼Œç³»ç»Ÿä¸è®¤è¯†ï¼Œbashä¹Ÿä¸ä¼šç¿»è¯‘</span></span><br></pre></td></tr></table></figure>
<p><strong>BASHç‰¹æ€§â€”â€”å†å²å‘½ä»¤</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æŸ¥çœ‹å†å²å‘½ä»¤ </span></span><br><span class="line">[root@localhost ~]# <span class="built_in">history</span> </span><br><span class="line">    1  age=18</span><br><span class="line">    2  <span class="built_in">echo</span> age</span><br><span class="line">    3  <span class="built_in">echo</span> <span class="string">&quot;age&quot;</span></span><br><span class="line">    4  jjjsjsjsjsjsjjsjjsjsjjjsjss</span><br><span class="line">    5  <span class="built_in">history</span> </span><br><span class="line"><span class="comment">## ä¿å­˜å†å²è®°å½•(write)     å†å²è®°å½•ä¿å­˜åœ¨ ~/.bash_history    æ™®é€šç”¨æˆ·/home/lgj/.bash_history</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">history</span> -w</span><br><span class="line"><span class="comment">## æ¸…é™¤æ‰€æœ‰å†å²è®°å½•ï¼ˆclearï¼‰</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">history</span> -c</span><br><span class="line"><span class="comment">## åˆ é™¤æŒ‡å®šçš„ä¸€æ¡å†å²è®°å½•ï¼ˆdeleteï¼‰</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">history</span> -d 4</span><br><span class="line"></span><br><span class="line"><span class="comment">## æ‰§è¡Œä¸Šä¸€æ¡å¼€å¤´æ˜¯viçš„å‘½ä»¤</span></span><br><span class="line">[root@localhost ~]# !vi</span><br><span class="line"><span class="comment">## æ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤</span></span><br><span class="line">[root@localhost ~]# !!</span><br><span class="line"><span class="comment">## ä½¿ç”¨!+ç¼–å·ï¼Œé‡æ–°æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">[root@localhost ~]# !10</span><br></pre></td></tr></table></figure>
<p><strong>BASHç‰¹æ€§â€”â€”å‘½ä»¤åˆ«å</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æŸ¥çœ‹ç³»ç»Ÿä¸­çš„æ‰€æœ‰åˆ«åï¼ˆæŸ¥ï¼‰    alias</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">alias</span></span><br><span class="line"><span class="built_in">alias</span> <span class="built_in">cp</span>=<span class="string">&#x27;cp -i&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> egrep=<span class="string">&#x27;egrep --color=auto</span></span><br><span class="line"><span class="string">alias ens33=&#x27;</span>ip address show ens33<span class="string">&#x27;</span></span><br><span class="line"><span class="string">alias fgrep=&#x27;</span>fgrep --color=auto<span class="string">&#x27;</span></span><br><span class="line"><span class="string">alias grep=&#x27;</span>grep --color=auto<span class="string">&#x27;</span></span><br><span class="line"><span class="string">alias l.=&#x27;</span><span class="built_in">ls</span> -d .* --color=auto<span class="string">&#x27;</span></span><br><span class="line"><span class="string">alias ll=&#x27;</span><span class="built_in">ls</span> -l --color=auto<span class="string">&#x27;</span></span><br><span class="line"><span class="string">alias ls=&#x27;</span><span class="built_in">ls</span> --color=auto<span class="string">&#x27;</span></span><br><span class="line"><span class="string">alias mv=&#x27;</span><span class="built_in">mv</span> -i<span class="string">&#x27;</span></span><br><span class="line"><span class="string">alias net=&#x27;</span>vi /etc/sysconfig/network-scripts/ifcfg-ens33<span class="string">&#x27;</span></span><br><span class="line"><span class="string">alias rm=&#x27;</span><span class="built_in">rm</span> -i<span class="string">&#x27;</span></span><br><span class="line"><span class="string">alias which=&#x27;</span><span class="built_in">alias</span> | /usr/bin/which --tty-only --read-alias --show-dot --showtilde<span class="string">&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## è®¾ç½®åˆ«åï¼ˆå¢ï¼‰ä¸´æ—¶</span></span><br><span class="line"><span class="string">alias åˆ«å=&#x27;</span>å‘½ä»¤<span class="string">&#x27;</span></span><br><span class="line"><span class="string">[root@localhost ~]# alias ens33=&#x27;</span>ip address show ens33<span class="string">&#x27;	</span></span><br><span class="line"><span class="string">## åˆ é™¤åˆ«åï¼ˆåˆ ï¼‰</span></span><br><span class="line"><span class="string">unalias åˆ«å</span></span><br><span class="line"><span class="string">[root@localhost ~]# unalias ens33</span></span><br><span class="line"><span class="string">## ä¿®æ”¹åˆ«åï¼ˆæ”¹ï¼‰</span></span><br><span class="line"><span class="string">alias åˆ«å=&#x27;</span>å‘½ä»¤<span class="string">&#x27;</span></span><br><span class="line"><span class="string">alias net=&#x27;</span>vi /etc/sysconfig/network-scripts/ifcfg-ens34</span><br><span class="line"><span class="comment">## åˆ«åæ°¸ä¹…ç”Ÿæ•ˆ</span></span><br><span class="line">[root@localhost ~]# vi ~/.bashrc</span><br><span class="line"><span class="built_in">alias</span> net=<span class="string">&#x27;vi /etc/sysconfig/network-scripts/ifcfg-ens33&#x27;</span></span><br></pre></td></tr></table></figure>
<p><strong>BASHç‰¹æ€§â€”â€”è·å–å‘½ä»¤å¸®åŠ©</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">man å‘½ä»¤</span><br><span class="line">å‘½ä»¤ --<span class="built_in">help</span></span><br><span class="line">http://linux.51yip.com/</span><br></pre></td></tr></table></figure>
<h3 id="4-å•ç”¨æˆ·æ¨¡å¼">4.å•ç”¨æˆ·æ¨¡å¼</h3>
<ul>
<li>å¿˜è®°rootè´¦æˆ·å¯†ç å¯¼è‡´æ— æ³•ç™»é™†ç³»ç»Ÿæ—¶ï¼Œåªéœ€è¦è¿›å…¥emergency modeï¼ˆå•ç”¨æˆ·æ¨¡å¼ï¼‰æ›´æ–°rootè´¦æˆ·çš„å¯†ç å³å¯ã€‚</li>
<li>å•ç”¨æˆ·æ¨¡å¼å¯ä»¥ç”¨æ¥ä¿®æ”¹æ–‡ä»¶ç³»ç»ŸæŸåã€è¿˜åŸé…ç½®æ–‡ä»¶ã€ç§»åŠ¨ç”¨æˆ·æ•°æ®ç­‰ã€‚</li>
</ul>
<h4 id="1-ä¿®æ”¹å¯†ç ">1.ä¿®æ”¹å¯†ç </h4>
<p><strong>CentOS6</strong></p>
<p><strong>1ï¼‰é‡å¯ç³»ç»Ÿï¼Œåˆ°grubèœå•ç•Œé¢</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429164346037.png" alt="image-20240429164346037"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429164633863.png" alt="image-20240429164633863"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429165101506.png" alt="image-20240429165101506"></p>
<p><strong>å›è½¦è¿”å›å†…æ ¸èœå•</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429164943845.png" alt="image-20240429164943845"></p>
<p><strong>è¿›å…¥åå°±å¯ä»¥é‡æ–°è®¾ç½®å¯†ç äº†</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429165410448.png" alt="image-20240429165410448"></p>
<p>å¯†ç è®¾ç½®å¥½é‡å¯å°±OKäº†</p>
<p><strong>CentOs7</strong></p>
<p><strong>1.é‡å¯ç³»ç»Ÿ</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429170437706.png" alt="image-20240429170437706"></p>
<p><strong>2.è¿›å…¥grub2èœå•</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429170649081.png" alt="image-20240429170649081"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨linux16è¡Œçš„æœ«å°¾è¾“å…¥,ç„¶åæŒ‰ä¸‹   Ctrl+Xå¼•å¯¼   ç»„åˆé”®æ¥è¿è¡Œä¿®æ”¹è¿‡çš„å†…æ ¸ç¨‹åº</span></span><br><span class="line">enforcing=0 init=/bin/bash</span><br><span class="line">enforcing=0   å…³é—­selinuxï¼ˆä¸´æ—¶çš„ï¼‰ï¼Œè¿›å…¥å•ç”¨æˆ·åé…ç½®æ–‡ä»¶é‡Œå…³é—­selinuxï¼Œå¦åˆ™é‡æ–°å¼€æœºåå¯†ç å°±ä¸ç”Ÿæ•ˆäº†</span><br></pre></td></tr></table></figure>
<p><strong>ä¸æŒ‚è½½æ–¹å¼</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429173119985.png" alt="image-20240429173119985"></p>
<p><strong>3.è¿›å…¥å•ç”¨æˆ·æ¨¡å¼</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.é‡æ–°æŒ‚è½½/ç›®å½•</span></span><br><span class="line">mount -o rw,remount /</span><br><span class="line"><span class="comment"># 2.ä¿®æ”¹å¯†ç </span></span><br><span class="line">passwd root</span><br><span class="line"><span class="comment"># 3.é‡æ–°å¼•å¯¼ç³»ç»Ÿ</span></span><br><span class="line"><span class="built_in">exec</span> /sbin/init</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429171621119.png" alt="image-20240429171621119"></p>
<h4 id="2-ä¿®æ”¹è¿è¡Œçº§åˆ«">2.ä¿®æ”¹è¿è¡Œçº§åˆ«</h4>
<p><strong>å¦‚æœcentos7è¢«è®¾ç½®ä¸ºè¿è¡Œçº§åˆ«6ï¼Œå¯¼è‡´æ— é™é‡å¯æ€ä¹ˆè§£å†³ï¼Ÿ</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æŸ¥çœ‹</span></span><br><span class="line">[root@yum_repo ~]# systemctl get-default</span><br><span class="line">multi-user.target    <span class="comment">#å®Œæ•´å¤šç”¨æˆ·æ¨¡å¼</span></span><br><span class="line"><span class="comment">## ä¿®æ”¹</span></span><br><span class="line">[root@yum_repo ~]# systemctl set-default reboot.target     <span class="comment">#è®¾ç½®è¿è¡Œçº§åˆ«6é‡å¯ï¼ˆæ— é™é‡å¯ï¼‰</span></span><br></pre></td></tr></table></figure>
<p><strong>è§£å†³åŠæ³•</strong></p>
<p>1.è¿›å…¥ç¼–è¾‘æ¨¡å¼</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429173139767.png" alt="image-20240429173139767"></p>
<p>2.#åœ¨linux16è¡Œçš„æœ«å°¾è¾“å…¥,ç„¶åæŒ‰ä¸‹   Ctrl+X   ç»„åˆé”®æ¥è¿è¡Œä¿®æ”¹è¿‡çš„å†…æ ¸ç¨‹åº</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429175105690.png" alt="image-20240429175105690"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429180423234.png" alt="image-20240429180423234"></p>
<p>exité€€å‡ºï¼Œrebooté‡å¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.é‡æ–°æŒ‚è½½/sysrootç›®å½•</span></span><br><span class="line">mount -o rw,remount /sysroot</span><br><span class="line"><span class="comment"># 2.è·å–rootæƒé™</span></span><br><span class="line"><span class="built_in">chroot</span> /sysroot</span><br><span class="line"><span class="comment"># 3.ä¿®æ”¹å¯†ç </span></span><br><span class="line">passwd root</span><br><span class="line"><span class="comment"># 4.ä¿®æ”¹è¿è¡Œçº§åˆ«</span></span><br><span class="line">systemctl set-default multi-user.target</span><br><span class="line"><span class="comment"># 5.é€€å‡º</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment"># 6.é‡å¯</span></span><br><span class="line">reboot</span><br><span class="line"><span class="comment">## å…³é—­selinux</span></span><br><span class="line"><span class="comment"># ä¸´æ—¶å…³é—­</span></span><br><span class="line">[root@yum_repo ~]# setenforce 0</span><br><span class="line"><span class="comment"># æ°¸ä¹…å…³é—­ï¼ˆé‡å¯ç³»ç»Ÿç”Ÿæ•ˆï¼‰</span></span><br><span class="line">[root@yum_repo ~]# vi /etc/sysconfig/selinux</span><br><span class="line">SELINUX=disabled</span><br><span class="line"><span class="comment">## ä¸¤ç§è¿›å…¥å•ç”¨æˆ·æ–¹æ³•</span></span><br><span class="line">1ï¼‰enforcing=0 init=/bin/bash // ä¿®æ”¹å¯†ç </span><br><span class="line">2ï¼‰rd.break // ä¿®æ”¹è¿è¡Œçº§åˆ«</span><br></pre></td></tr></table></figure>
<h2 id="ã€2ã€‘æ–‡ä»¶å’Œç›®å½•ç®¡ç†">ã€2ã€‘æ–‡ä»¶å’Œç›®å½•ç®¡ç†</h2>
<h3 id="1-ç›®å½•ç»“æ„">1.ç›®å½•ç»“æ„</h3>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  å‡ ä¹æ‰€æœ‰çš„è®¡ç®—æœºæ“ä½œç³»ç»Ÿéƒ½æ˜¯ä½¿ç”¨ç›®å½•ç»“æ„ç»„ç»‡æ–‡ä»¶ã€‚å…·ä½“æ¥è¯´å°±æ˜¯åœ¨ä¸€ä¸ªç›®å½•ä¸­å­˜æ”¾å­ç›®å½•å’Œæ–‡ä»¶ï¼Œè€Œåœ¨å­ç›®å½•ä¸­åˆä¼šè¿›ä¸€æ­¥å­˜æ”¾å­ç›®å½•å’Œæ–‡ä»¶ï¼Œä»¥æ­¤ç±»æ¨å½¢æˆä¸€ä¸ªæ ‘çŠ¶çš„æ–‡ä»¶ç»“æ„ï¼Œç”±äºå…¶ç»“æ„å¾ˆåƒä¸€æ£µæ ‘çš„åˆ†æ”¯ï¼Œæ‰€ä»¥è¯¥ç»“æ„åˆè¢«ç§°ä¸ºç›®å½•æ ‘ã€‚</span><br><span class="line">windowsï¼šä¸€å¤šæ ¹çš„æ–¹å¼ç»„ç»‡æ–‡ä»¶C:<span class="string">\</span> D:<span class="string">\</span></span><br><span class="line">Linuxï¼šä»¥å•æ ¹çš„æ–¹å¼ç»„ç»‡æ–‡ä»¶ /</span><br></pre></td></tr></table></figure>
<p><strong>ç›®å½•å±‚æ¬¡çš„æ ‡å‡†FHS</strong></p>
<figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">FHSå…¨ç§°ï¼ˆ<span class="keyword">File</span><span class="params">system</span> Hierarchy Standardï¼‰ï¼Œä¸­æ–‡æ„æ€æ˜¯ç›®å½•å±‚æ¬¡æ ‡å‡†ï¼Œæ˜¯Linuxçš„ç›®å½•è§„èŒƒæ ‡å‡†ã€‚</span><br><span class="line">FHSå®šä¹‰äº†ä¸¤æ¬¡è§„èŒƒï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>.â€œ/â€ç›®å½•ä¸‹çš„å„ä¸ªç›®å½•åº”è¯¥æ”¾ä»€ä¹ˆæ–‡ä»¶æ•°æ®ã€‚</span><br><span class="line"><span class="number">2</span>.é’ˆå¯¹/usr å’Œ /<span class="keyword">var</span> è¿™ä¸¤ä¸ªç›®å½•çš„å­ç›®å½•æ¥å®šä¹‰ã€‚</span><br></pre></td></tr></table></figure>
<blockquote>
<p>bin -&gt; usr/bin   è¿™ä¸ªæ˜¯usr/binçš„å¿«æ·æ–¹å¼</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r--.   1 root root    0 Mar 28 11:29 1.txt</span><br><span class="line">lrwxrwxrwx.   1 root root    7 Mar 27 12:07 bin -&gt; usr/bin</span><br><span class="line">dr-xr-xr-x.   5 root root 4096 Mar 27 12:11 boot</span><br><span class="line">-å¼€å¤´çš„æ˜¯æ–‡ä»¶</span><br><span class="line">lå¼€å¤´çš„æ˜¯å¿«æ·æ–¹å¼   -&gt;</span><br><span class="line">drå¼€å¤´çš„æ˜¯æ–‡ä»¶å¤¹</span><br><span class="line"><span class="comment">## /ç›®å½•ä¸‹</span></span><br><span class="line"><span class="comment">###ç³»ç»Ÿå‘½ä»¤</span></span><br><span class="line">bin -&gt; usr/bin 			<span class="comment"># å­˜æ”¾ç³»ç»Ÿå‘½ä»¤ï¼ˆæ™®é€šç”¨æˆ·å¯ä»¥æ‰§è¡Œï¼‰</span></span><br><span class="line">sbin -&gt; usr/sbin 		<span class="comment"># å­˜æ”¾ç³»ç»Ÿå‘½ä»¤ï¼ˆå¤§éƒ¨åˆ†å‘½ä»¤åªèƒ½è¶…çº§ç”¨æˆ·æ‰§è¡Œï¼‰</span></span><br><span class="line"><span class="comment">#ç³»ç»Ÿåº“æ–‡ä»¶ç›®å½•</span></span><br><span class="line">lib -&gt; usr/lib 			<span class="comment"># åº“æ–‡ä»¶ï¼ˆæ“ä½œç³»ç»Ÿéœ€è¦ç”¨åˆ°çš„ç»„ä»¶ æ’ä»¶...ï¼‰</span></span><br><span class="line">lib64 -&gt; usr/lib64 		<span class="comment"># åº“æ–‡ä»¶ï¼ˆ64ä½æ“ä½œç³»ç»Ÿåº“æ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="comment"># ç³»ç»Ÿå¯åŠ¨æ—¶æ–‡ä»¶ç›®å½•</span></span><br><span class="line">boot 				   <span class="comment"># å­˜æ”¾ç³»ç»Ÿå¯åŠ¨æ–‡ä»¶</span></span><br><span class="line"><span class="comment">#ç©ºæ–‡ä»¶å¤¹</span></span><br><span class="line">media				   <span class="comment"># åª’ä½“åº“ç›®å½•ï¼ˆå¯ä»¥å­˜æ”¾è§†é¢‘ï¼Œå›¾ç‰‡...ï¼‰      //åª’ä½“åº“ å­˜æ”¾è§†é¢‘ï¼Œå›¾ç‰‡ï¼ŒéŸ³ä¹</span></span><br><span class="line">mnt 	 			   <span class="comment"># mount å¦‚æœæœ‰Uç›˜ å…‰é©±ä»¥å¤–çš„è®¾å¤‡ï¼ŒæŒ‚è½½ç›®å½•     //æŒ‚è½½ç›®å½•   mount </span></span><br><span class="line"><span class="comment">#ä¸´æ—¶æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿã€‚æ¯”å¦‚cdrom,uç›˜ç­‰ï¼Œç›´æ¥æ’å…¥å…‰é©±æ— æ³•ä½¿ç”¨ï¼Œè¦å…ˆæŒ‚è½½åä½¿ç”¨  /dev/cdrom /mnt</span></span><br><span class="line"></span><br><span class="line">opt 			  	   <span class="comment"># å­˜æ”¾ç¬¬ä¸‰æ–¹åº”ç”¨å®‰è£…åŒ…çš„ç›®å½•</span></span><br><span class="line">srv 				   <span class="comment"># ç½‘ç«™æ•°æ®å­˜æ”¾ç›®å½•</span></span><br><span class="line"></span><br><span class="line">*****é‡ç‚¹*****</span><br><span class="line">1ï¼‰root 				   <span class="comment"># è¶…çº§ç”¨æˆ·rootçš„å®¶ç›®å½•</span></span><br><span class="line">2ï¼‰home 				   <span class="comment"># æ™®é€šç”¨æˆ·çš„å®¶ç›®å½•</span></span><br><span class="line">3ï¼‰run 				   <span class="comment"># å­˜æ”¾ç³»ç»Ÿä¸­è¿è¡Œçš„æ‰€æœ‰è¿›ç¨‹PIDæ–‡ä»¶(#ç³»ç»Ÿå¯åŠ¨å, è¿è¡Œçš„ç¨‹åºäº§ç”Ÿçš„è¿è¡Œæ—¶æ•°æ®, åŒ…æ‹¬è¿›ç¨‹çš„pidæ–‡ä»¶,é”æ–‡ä»¶ç­‰)</span></span><br><span class="line">4ï¼‰sys 				   <span class="comment"># æ“ä½œç³»ç»Ÿç›¸å…³æ–‡ä»¶å­˜æ”¾ç›®å½•</span></span><br><span class="line">5)tmp			 	  	   <span class="comment"># æ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥æ“ä½œçš„ç›®å½•ï¼ˆå›æ”¶ç«™ï¼‰å­˜æ”¾ä¸´æ—¶æ–‡ä»¶, ä¸€èˆ¬å­˜æ”¾è¶…è¿‡10å¤©ä»¥ä¸Šéƒ½ä¼šè‡ªåŠ¨åˆ é™¤,å¯ä»¥æ›´æ”¹åˆ é™¤ä¸´æ—¶æ–‡ä»¶çš„æœŸé™</span></span><br><span class="line">6)usr					   <span class="comment"># ç”¨æˆ·æ–‡ä»¶å­˜æ”¾ç›®å½•</span></span><br><span class="line"> <span class="comment">#é»˜è®¤è½¯ä»¶éƒ½ä¼šå­˜äºè¯¥ç›®å½•ä¸‹ã€‚ç”¨äºå­˜å‚¨åªè¯»ç”¨æˆ·æ•°æ®çš„ç¬¬äºŒå±‚æ¬¡ï¼›åŒ…å«ç»å¤§å¤šæ•°çš„(å¤š)ç”¨æˆ·å·¥å…·å’Œåº”ç”¨ç¨‹åºã€‚</span></span><br><span class="line">7)dev 				   <span class="comment"># è®¾å¤‡æ–‡ä»¶</span></span><br><span class="line">8)etc 				   <span class="comment"># ç³»ç»Ÿé…ç½®æ–‡ä»¶ .conf .cfg .configure .cnf ä»¥åŠå¸¸ç”¨é…ç½®æ–‡ä»¶</span></span><br><span class="line">9)proc 				   <span class="comment"># ç³»ç»Ÿä¿¡æ¯éƒ½å­˜æ”¾è¿™ç›®å½•ä¸‹ï¼ˆç¡¬ä»¶ä¿¡æ¯ï¼Œè¿›ç¨‹ä¿¡æ¯ å˜åŒ–ä¿¡æ¯)</span></span><br><span class="line">10)var 				   <span class="comment"># å­˜æ”¾ä¸€äº›ç³»ç»Ÿä¸­å˜é‡æ–‡ä»¶ï¼Œå’Œä¸€äº›ä¸æ–­å‘ç”Ÿå˜åŒ–çš„å¯å˜æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>
<h4 id="â‘ -devç›®å½•">â‘  /devç›®å½•</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/dev/sda 	<span class="comment"># ç³»ç»Ÿä¸­çš„ç¬¬ä¸€å—ç¡¬ç›˜</span></span><br><span class="line">/dev/sda1 	<span class="comment"># ç³»ç»Ÿä¸­çš„ç¬¬ä¸€å—ç¡¬ç›˜çš„ç¬¬ä¸€ä¸ªåˆ†åŒº</span></span><br><span class="line">/dev/sda2 	<span class="comment"># ç³»ç»Ÿä¸­çš„ç¬¬ä¸€å—ç¡¬ç›˜çš„ç¬¬äºŒä¸ªåˆ†åŒº</span></span><br><span class="line">/dev/sdb 	<span class="comment"># ç³»ç»Ÿä¸­çš„ç¬¬äºŒå—ç¡¬ç›˜</span></span><br><span class="line">/dev/random 	<span class="comment"># ç”Ÿæˆéšæœºæ•°çš„</span></span><br><span class="line">/dev/null 	<span class="comment"># é»‘æ´ï¼Œå°†ç»ˆç«¯ä¸Šè¾“å‡ºçš„å†…å®¹ï¼Œæ”¾å…¥é»‘æ´</span></span><br><span class="line">/dev/cdrom 	<span class="comment"># å…‰é©±</span></span><br><span class="line">/dev/pts/&#123;0 1 2 3&#125; 	<span class="comment"># è¿æ¥æœåŠ¡å™¨çš„è™šæ‹Ÿç»ˆç«¯è®¾å¤‡</span></span><br></pre></td></tr></table></figure>
<h4 id="â‘¡-etcç›®å½•">â‘¡ /etcç›®å½•</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/etc/hosts <span class="comment"># æœ¬åœ°DNSè§£ææ–‡ä»¶      ip åŸŸå</span></span><br><span class="line">/etc/passwd <span class="comment"># å­˜æ”¾ç”¨æˆ·ä¿¡æ¯æ–‡ä»¶</span></span><br><span class="line">/etc/sysconfig/network-scripts/ifcfg-ç½‘å¡å <span class="comment"># ç½‘å¡é…ç½®æ–‡ä»¶</span></span><br><span class="line">/etc/hostname <span class="comment"># ä¸»æœºåé…ç½®æ–‡ä»¶</span></span><br><span class="line">/etc/resolv.conf <span class="comment"># DNSé…ç½®æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>
<h4 id="â‘¢-etcå…¶å®ƒç›®å½•-äº†è§£">â‘¢ /etcå…¶å®ƒç›®å½•     *äº†è§£</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/etc/opt/       <span class="comment">#/opt/çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">/etc/X11/       <span class="comment">#X_Windowç³»ç»Ÿ(ç‰ˆæœ¬11)çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">/etc/sgml/      <span class="comment">#SGMLçš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">/etc/xml/       <span class="comment">#XMLçš„é…ç½®æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240328131046094.png" alt="image-20240328131046094"></p>
<h4 id="â‘£-procå’Œ-varç›®å½•">â‘£ /procå’Œ/varç›®å½•</h4>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/proc/m</span>eminfo <span class="comment"># å†…å­˜ä¿¡æ¯</span></span><br><span class="line"><span class="regexp">/proc/</span>cpuinfo <span class="comment"># CPUä¿¡æ¯</span></span><br><span class="line">åœ¨Linuxä¸­ï¼Œå¯¹åº”Procfsæ ¼å¼æŒ‚è½½ã€‚è¯¥ç›®å½•ä¸‹æ–‡ä»¶åªèƒ½çœ‹ä¸èƒ½æ”¹ï¼ˆåŒ…æ‹¬rootï¼‰</span><br></pre></td></tr></table></figure>
<p><strong>/varç›®å½•</strong></p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/var/<span class="built_in">log</span>/messages <span class="meta"># ç³»ç»Ÿæ—¥å¿—</span></span><br><span class="line">/var/<span class="built_in">log</span>/secure <span class="meta"># ç³»ç»Ÿç™»å½•æ—¥å¿—</span></span><br><span class="line"><span class="meta">#å˜é‡æ–‡ä»¶â€”â€”åœ¨æ­£å¸¸è¿è¡Œçš„ç³»ç»Ÿä¸­å…¶å†…å®¹ä¸æ–­å˜åŒ–çš„æ–‡ä»¶ï¼Œå¦‚æ—¥å¿—ï¼Œè„±æœºæ–‡ä»¶å’Œä¸´æ—¶ç”µå­é‚®ä»¶æ–‡ä»¶ã€‚æœ‰æ—¶æ˜¯ä¸€ä¸ªå•ç‹¬çš„åˆ†åŒºã€‚å¦‚æœä¸å•ç‹¬åˆ†åŒºï¼Œæœ‰å¯èƒ½ä¼šæŠŠæ•´ä¸ªåˆ†åŒºå……æ»¡ã€‚å¦‚æœå•ç‹¬åˆ†åŒºï¼Œç»™å¤§ç»™å°éƒ½ä¸åˆé€‚ã€‚</span></span><br></pre></td></tr></table></figure>
<p><strong>æ–‡ä»¶çš„è·¯å¾„å®šä½</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240328131213563.png" alt="image-20240328131213563"></p>
<p><strong>ç‰¹æ®Šç›®å½•â€™.â€™ å’Œâ€™â€¦â€™</strong></p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">.. </span>ï¼šå½“å‰ç›®å½•çš„ä¸Šä¸€çº§ç›®å½•</span><br><span class="line"><span class="bullet">. </span>ï¼šå½“å‰ç›®å½•</span><br></pre></td></tr></table></figure>
<h4 id="â‘¤-å…¶å®ƒç›®å½•">â‘¤ å…¶å®ƒç›®å½•</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/lost+found     <span class="comment">#åœ¨ext3æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå½“ç³»ç»Ÿæ„å¤–å´©æºƒæˆ–æœºå™¨æ„å¤–å…³æœºï¼Œä¼šäº§ç”Ÿä¸€äº›æ–‡ä»¶ç¢ç‰‡åœ¨è¿™é‡Œã€‚å½“ç³»ç»Ÿåœ¨å¼€æœºå¯åŠ¨çš„è¿‡ç¨‹ä¸­fsckå·¥å…·ä¼šæ£€æŸ¥è¿™é‡Œï¼Œå¹¶ä¿®å¤å·²ç»æŸåçš„æ–‡ä»¶ç³»ç»Ÿã€‚å½“ç³»ç»Ÿå‘ç”Ÿé—®é¢˜ã€‚å¯èƒ½ä¼šæœ‰æ–‡ä»¶è¢«ç§»åŠ¨åˆ°è¿™ä¸ªç›®å½•ä¸­ï¼Œå¯èƒ½éœ€è¦ç”¨æ‰‹å·¥çš„æ–¹å¼æ¥ä¿®å¤ï¼Œæˆ–ç§»åˆ°æ–‡ä»¶åˆ°åŸæ¥çš„ä½ç½®ä¸Šã€‚</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## /etc/ç›®å½•</span></span><br><span class="line"></span><br><span class="line">/etc/rc /etc/rc.d   ***** <span class="comment">#/etc/rc*.d å¯åŠ¨ã€æˆ–æ”¹å˜è¿è¡Œçº§æ—¶è¿è¡Œçš„scriptsæˆ–scriptsçš„ç›®å½•.</span></span><br><span class="line">/etc/hosts          ***** <span class="comment">#æœ¬åœ°åŸŸåè§£ææ–‡ä»¶</span></span><br><span class="line">/etc/sysconfig/network  ***** <span class="comment">#IPã€æ©ç ã€ç½‘å…³ã€ä¸»æœºåé…ç½®</span></span><br><span class="line">/etc/resolv.conf    ***** <span class="comment">#DNSæœåŠ¡å™¨é…ç½®</span></span><br><span class="line">/etc/fstab          ***** <span class="comment">#å¼€æœºè‡ªåŠ¨æŒ‚è½½ç³»ç»Ÿï¼Œæ‰€æœ‰åˆ†åŒºå¼€æœºéƒ½ä¼šè‡ªåŠ¨æŒ‚è½½</span></span><br><span class="line">/etc/inittab        ***** <span class="comment">#è®¾å®šç³»ç»Ÿå¯åŠ¨æ—¶Initè¿›ç¨‹å°†æŠŠç³»ç»Ÿè®¾ç½®æˆä»€ä¹ˆæ ·çš„runlevelåŠåŠ è½½ç›¸å…³çš„å¯åŠ¨æ–‡ä»¶é…ç½®</span></span><br><span class="line">/etc/exports        ***** <span class="comment">#è®¾ç½®NFSç³»ç»Ÿç”¨çš„é…ç½®æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">/etc/init.d/        ***** <span class="comment">#è¿™ä¸ªç›®å½•æ¥å­˜æ”¾ç³»ç»Ÿå¯åŠ¨è„šæœ¬</span></span><br><span class="line">/etc/profile        ***** <span class="comment">#å…¨å±€ç³»ç»Ÿç¯å¢ƒé…ç½®å˜é‡</span></span><br><span class="line">/etc/csh.login,  /etc/csh.cshrc</span><br><span class="line">/etc/issue          ***** <span class="comment">#è®¤è¯å‰çš„è¾“å‡ºä¿¡æ¯ï¼Œé»˜è®¤è¾“å‡ºç‰ˆæœ¬å†…æ ¸ä¿¡æ¯</span></span><br><span class="line">/etc/motd           <span class="comment">#è®¾ç½®è®¤è¯åçš„è¾“å‡ºä¿¡æ¯</span></span><br><span class="line">/etc/mtab           <span class="comment">#å½“å‰å®‰è£…çš„æ–‡ä»¶ç³»ç»Ÿåˆ—è¡¨.ç”±scriptsåˆå§‹åŒ–ï¼Œå¹¶ç”±mount å‘½ä»¤è‡ªåŠ¨æ›´æ–°.éœ€è¦ä¸€ä¸ªå½“å‰å®‰è£…çš„æ–‡ä»¶ç³»ç»Ÿçš„åˆ—è¡¨æ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚df å‘½ä»¤</span></span><br><span class="line">/etc/group          ***** <span class="comment">#ç±»ä¼¼/etc/passwd ï¼Œä½†è¯´æ˜çš„ä¸æ˜¯ç”¨æˆ·è€Œæ˜¯ç»„.</span></span><br><span class="line">/etc/passwd         ***** <span class="comment">#ç”¨æˆ·æ•°æ®åº“ï¼Œå…¶ä¸­çš„åŸŸç»™å‡ºäº†ç”¨æˆ·åã€çœŸå®å§“åã€å®¶ç›®å½•ã€åŠ å¯†çš„å£ä»¤å’Œç”¨æˆ·çš„å…¶ä»–ä¿¡æ¯.</span></span><br><span class="line">/etc/shadow         ****** <span class="comment">#åœ¨å®‰è£…äº†å½±å­å£ä»¤è½¯ä»¶çš„ç³»ç»Ÿä¸Šçš„å½±å­å£ä»¤æ–‡ä»¶.å½±å­å£ä»¤æ–‡ä»¶å°†/etc/passwd æ–‡ä»¶ä¸­çš„åŠ å¯†å£ä»¤ç§»åŠ¨åˆ°/etc/shadow ä¸­ï¼Œè€Œåè€…åªå¯¹rootå¯è¯».è¿™ä½¿ç ´è¯‘å£ä»¤æ›´å›°éš¾.</span></span><br><span class="line">/etc/sudoers        ***** <span class="comment">#å¯ä»¥sudoå‘½ä»¤çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">/etc/syslog.conf    ***** <span class="comment">#ç³»ç»Ÿæ—¥å¿—å‚æ•°é…ç½®</span></span><br><span class="line">/etc/login.defs     <span class="comment">#è®¾ç½®ç”¨æˆ·å¸å·é™åˆ¶çš„æ–‡ä»¶</span></span><br><span class="line">/etc/securetty      <span class="comment">#ç¡®è®¤å®‰å…¨ç»ˆç«¯ï¼Œå³å“ªä¸ªç»ˆç«¯å…è®¸rootç™»å½•.ä¸€èˆ¬åªåˆ—å‡ºè™šæ‹Ÿæ§åˆ¶å°ï¼Œè¿™æ ·å°±ä¸å¯èƒ½(è‡³å°‘å¾ˆå›°éš¾)é€šè¿‡modemæˆ–ç½‘ç»œé—¯å…¥ç³»ç»Ÿå¹¶å¾—åˆ°è¶…çº§ç”¨æˆ·ç‰¹æƒ.</span></span><br><span class="line">/etc/printca        <span class="comment">#ç±»ä¼¼/etc/termcap ï¼Œä½†é’ˆå¯¹æ‰“å°æœº.è¯­æ³•ä¸åŒ.</span></span><br><span class="line">/etc/shells         <span class="comment">#åˆ—å‡ºå¯ä¿¡ä»»çš„shell.chsh å‘½ä»¤å…è®¸ç”¨æˆ·åœ¨æœ¬æ–‡ä»¶æŒ‡å®šèŒƒå›´å†…æ”¹å˜ç™»å½•shell.æä¾›ä¸€å°æœºå™¨FTPæœåŠ¡çš„æœåŠ¡è¿›ç¨‹ftpd æ£€æŸ¥ç”¨æˆ·shellæ˜¯å¦åˆ—åœ¨ /etc/shells æ–‡ä»¶ä¸­ï¼Œå¦‚æœä¸æ˜¯å°†ä¸å…è®¸è¯¥ç”¨æˆ·ç™»å½•.</span></span><br><span class="line">/etc/xinetd.d       <span class="comment">#å¦‚æœæœåŠ¡å™¨æ˜¯é€šè¿‡xinetdæ¨¡å¼è¿è¡Œçš„ï¼Œå®ƒçš„è„šæœ¬è¦æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚æœ‰äº›ç³»ç»Ÿæ²¡æœ‰è¿™ä¸ªç›®å½•ï¼Œæ¯”å¦‚Slackwareï¼Œæœ‰äº›è€çš„ç‰ˆæœ¬ä¹Ÿæ²¡æœ‰ã€‚åœ¨Redhat Fedoraä¸­æ¯”è¾ƒæ–°çš„ç‰ˆæœ¬ä¸­å­˜åœ¨ã€‚</span></span><br><span class="line">/etc/opt/           <span class="comment">#/opt/çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">/etc/X11/           <span class="comment">#X_Windowç³»ç»Ÿ(ç‰ˆæœ¬11)çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">/etc/sgml/          <span class="comment">#SGMLçš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">/etc/xml/           <span class="comment">#XMLçš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">/etc/skel/          ***** <span class="comment">#é»˜è®¤åˆ›å»ºç”¨æˆ·æ—¶ï¼ŒæŠŠè¯¥ç›®å½•æ‹·è´åˆ°å®¶ç›®å½•ä¸‹</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##usr/ç›®å½•</span></span><br><span class="line"></span><br><span class="line">/usr/X11R6          <span class="comment">#å­˜æ”¾X-Windowsçš„ç›®å½•ï¼›</span></span><br><span class="line">/usr/games          <span class="comment">#å­˜æ”¾ç€XteamLinuxè‡ªå¸¦çš„å°æ¸¸æˆï¼›</span></span><br><span class="line">/usr/doc            <span class="comment">#LinuxæŠ€æœ¯æ–‡æ¡£ï¼›</span></span><br><span class="line">/usr/include        <span class="comment">#ç”¨æ¥å­˜æ”¾Linuxä¸‹å¼€å‘å’Œç¼–è¯‘åº”ç”¨ç¨‹åºæ‰€éœ€è¦çš„å¤´æ–‡ä»¶ï¼›</span></span><br><span class="line">/usr/lib            <span class="comment">#å­˜æ”¾ä¸€äº›å¸¸ç”¨çš„åŠ¨æ€é“¾æ¥å…±äº«åº“å’Œé™æ€æ¡£æ¡ˆåº“ï¼›</span></span><br><span class="line">/usr/man            <span class="comment">#å¸®åŠ©æ–‡æ¡£æ‰€åœ¨çš„ç›®å½•ï¼›</span></span><br><span class="line">/usr/src            <span class="comment">#Linuxå¼€æ”¾çš„æºä»£ç ï¼Œå°±å­˜åœ¨è¿™ä¸ªç›®å½•ï¼Œçˆ±å¥½è€…ä»¬åˆ«æ”¾è¿‡å“¦ï¼›</span></span><br><span class="line">/usr/bin/           <span class="comment">#éå¿…è¦å¯æ‰§è¡Œæ–‡ä»¶ (åœ¨å•ç”¨æˆ·æ¨¡å¼ä¸­ä¸éœ€è¦)ï¼›é¢å‘æ‰€æœ‰ç”¨æˆ·ã€‚</span></span><br><span class="line">/usr/lib/           <span class="comment">#/usr/bin/å’Œ/usr/sbin/ä¸­äºŒè¿›åˆ¶æ–‡ä»¶çš„åº“ã€‚</span></span><br><span class="line">/usr/sbin/          <span class="comment">#éå¿…è¦çš„ç³»ç»ŸäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šå¤§é‡ç½‘ç»œæœåŠ¡çš„å®ˆæŠ¤è¿›ç¨‹ã€‚</span></span><br><span class="line">/usr/share/         <span class="comment">#ä½“ç³»ç»“æ„æ— å…³ï¼ˆå…±äº«ï¼‰æ•°æ®ã€‚</span></span><br><span class="line">/usr/src/           <span class="comment">#æºä»£ç ,ä¾‹å¦‚:å†…æ ¸æºä»£ç åŠå…¶å¤´æ–‡ä»¶ã€‚</span></span><br><span class="line">/usr/X11R6/         <span class="comment">#X Windowç³»ç»Ÿç‰ˆæœ¬ 11, Release 6.</span></span><br><span class="line">/usr/local/         <span class="comment">#æœ¬åœ°æ•°æ®çš„ç¬¬ä¸‰å±‚æ¬¡ï¼Œå…·ä½“åˆ°æœ¬å°ä¸»æœºã€‚é€šå¸¸è€Œè¨€æœ‰è¿›ä¸€æ­¥çš„å­ç›®å½•ï¼Œä¾‹å¦‚ï¼šbin/ã€lib/ã€share/.è¿™æ˜¯æä¾›ç»™ä¸€èˆ¬ç”¨æˆ·çš„/usrç›®å½•ï¼Œåœ¨è¿™é‡Œå®‰è£…ä¸€èˆ¬çš„åº”ç”¨è½¯ä»¶ï¼›</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## /var/ç›®å½•  </span></span><br><span class="line"></span><br><span class="line">/var/log/message            ***** <span class="comment">#ç³»ç»Ÿæ—¥å¿—ä¿¡æ¯ï¼ŒæŒ‰å‘¨è‡ªåŠ¨è½®è¯¢</span></span><br><span class="line">/var/spool/cron/root        ***** <span class="comment">#å®šæ—¶å™¨é…ç½®æ–‡ä»¶ç›®å½•ï¼Œé»˜è®¤æŒ‰ç”¨æˆ·å‘½å</span></span><br><span class="line">/var/log/secure             ***** <span class="comment">#è®°å½•ç™»é™†ç³»ç»Ÿå­˜å–ä¿¡æ¯çš„æ–‡ä»¶ï¼Œä¸ç®¡è®¤è¯æˆåŠŸè¿˜æ˜¯è®¤è¯å¤±è´¥éƒ½ä¼šè®°å½•</span></span><br><span class="line">/var/log/wtmp               <span class="comment">#è®°å½•ç™»é™†è€…ä¿¡æ¯çš„æ–‡ä»¶ï¼Œlast,who,wå‘½ä»¤ä¿¡æ¯æ¥æºäºæ­¤</span></span><br><span class="line">/var/spool/clientmqueue/    <span class="comment">#å½“é‚®ä»¶æœåŠ¡æœªå¼€å¯æ—¶ï¼Œæ‰€æœ‰åº”å‘ç»™ç³»ç»Ÿç®¡ç†å‘˜çš„é‚®ä»¶éƒ½å°†å †æ”¾åœ¨æ­¤</span></span><br><span class="line">/var/spool/mail/            <span class="comment">#é‚®ä»¶ç›®å½•</span></span><br><span class="line">/var/tmp                    <span class="comment">#æ¯”/tmp å…è®¸çš„å¤§æˆ–éœ€è¦å­˜åœ¨è¾ƒé•¿æ—¶é—´çš„ä¸´æ—¶æ–‡ä»¶. (è™½ç„¶ç³»ç»Ÿç®¡ç†å‘˜å¯èƒ½ä¸å…è®¸/var/tmp æœ‰å¾ˆæ—§çš„æ–‡ä»¶.)</span></span><br><span class="line">/var/lib                    <span class="comment">#ç³»ç»Ÿæ­£å¸¸è¿è¡Œæ—¶è¦æ”¹å˜çš„æ–‡ä»¶.  </span></span><br><span class="line">/var/local                  <span class="comment">#/usr/local ä¸­å®‰è£…çš„ç¨‹åºçš„å¯å˜æ•°æ®(å³ç³»ç»Ÿç®¡ç†å‘˜å®‰è£…çš„ç¨‹åº).æ³¨æ„ï¼Œå¦‚æœå¿…è¦ï¼Œå³ä½¿æœ¬åœ°å®‰è£…çš„ç¨‹åºä¹Ÿä¼šä½¿ç”¨å…¶ä»–/var ç›®å½•ï¼Œä¾‹å¦‚/var/lock .  </span></span><br><span class="line">/var/lock                   <span class="comment">#é”å®šæ–‡ä»¶.è®¸å¤šç¨‹åºéµå¾ªåœ¨/var/lock ä¸­äº§ç”Ÿä¸€ä¸ªé”å®šæ–‡ä»¶çš„çº¦å®šï¼Œä»¥æ”¯æŒä»–ä»¬æ­£åœ¨ä½¿ç”¨æŸä¸ªç‰¹å®šçš„è®¾å¤‡æˆ–æ–‡ä»¶.å…¶ä»–ç¨‹åºæ³¨æ„åˆ°è¿™ä¸ªé”å®šæ–‡ä»¶ï¼Œå°†ä¸è¯•å›¾ä½¿ç”¨è¿™ä¸ªè®¾å¤‡æˆ–æ–‡ä»¶.</span></span><br><span class="line">/var/log/                   ***** <span class="comment">#å„ç§ç¨‹åºçš„Logæ–‡ä»¶ï¼Œç‰¹åˆ«æ˜¯login   (/var/log/wtmp logæ‰€æœ‰åˆ°ç³»ç»Ÿçš„ç™»å½•å’Œæ³¨é”€) å’Œsyslog (/var/log/messages é‡Œå­˜å‚¨æ‰€æœ‰æ ¸å¿ƒå’Œç³»ç»Ÿç¨‹åºä¿¡æ¯. /var/log é‡Œçš„æ–‡ä»¶ç»å¸¸ä¸ç¡®å®šåœ°å¢é•¿ï¼Œåº”è¯¥å®šæœŸæ¸…é™¤.  </span></span><br><span class="line">/var/run                    <span class="comment">#ä¿å­˜åˆ°ä¸‹æ¬¡å¼•å¯¼å‰æœ‰æ•ˆçš„å…³äºç³»ç»Ÿçš„ä¿¡æ¯æ–‡ä»¶.ä¾‹å¦‚ï¼Œ /var/run/utmp åŒ…å«å½“å‰ç™»å½•çš„ç”¨æˆ·çš„ä¿¡æ¯.</span></span><br><span class="line">/var/cache/                 <span class="comment">#åº”ç”¨ç¨‹åºç¼“å­˜æ•°æ®ã€‚è¿™äº›æ•°æ®æ˜¯åœ¨æœ¬åœ°ç”Ÿæˆçš„ä¸€ä¸ªè€—æ—¶çš„I/Oæˆ–è®¡ç®—ç»“æœã€‚åº”ç”¨ç¨‹åºå¿…é¡»èƒ½å¤Ÿå†ç”Ÿæˆ–æ¢å¤æ•°æ®ã€‚ç¼“å­˜çš„æ–‡ä»¶å¯ä»¥è¢«åˆ é™¤è€Œä¸å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## /proc/ç›®å½•</span></span><br><span class="line"></span><br><span class="line">/proc/meminfo           ***** <span class="comment">#æŸ¥çœ‹å†…å­˜ä¿¡æ¯</span></span><br><span class="line">/proc/loadavg           ***** <span class="comment">#è¿˜è®°å¾— top ä»¥åŠ uptime å§ï¼Ÿæ²¡é”™ï¼ä¸Šå¤´çš„ä¸‰ä¸ªå¹³å‡æ•°å€¼å°±æ˜¯è®°å½•åœ¨æ­¤ï¼</span></span><br><span class="line">/proc/uptime            ***** <span class="comment">#å°±æ˜¯ç”¨ uptime çš„æ—¶å€™ï¼Œä¼šå‡ºç°çš„èµ„è®¯å•¦ï¼</span></span><br><span class="line">/proc/cpuinfo           ***** <span class="comment">#å…³äºå¤„ç†å™¨çš„ä¿¡æ¯ï¼Œå¦‚ç±»å‹ã€å‚å®¶ã€å‹å·å’Œæ€§èƒ½ç­‰ã€‚</span></span><br><span class="line">/proc/cmdline           <span class="comment">#åŠ è½½ kernel æ—¶æ‰€ä¸‹è¾¾çš„ç›¸å…³å‚æ•°ï¼æŸ¥é˜…æ­¤æ–‡ä»¶ï¼Œå¯äº†è§£ç³»ç»Ÿæ˜¯å¦‚ä½•å¯åŠ¨çš„ï¼</span></span><br><span class="line">/proc/filesystems       <span class="comment">#ç›®å‰ç³»ç»Ÿå·²ç»åŠ è½½çš„æ–‡ä»¶ç³»ç»Ÿç½—ï¼</span></span><br><span class="line">/proc/interrupts        <span class="comment">#ç›®å‰ç³»ç»Ÿä¸Šé¢çš„ IRQ åˆ†é…çŠ¶æ€ã€‚</span></span><br><span class="line">/proc/ioports           <span class="comment">#ç›®å‰ç³»ç»Ÿä¸Šé¢å„ä¸ªè£…ç½®æ‰€é…ç½®çš„ I/O ä½å€ã€‚</span></span><br><span class="line">/proc/kcore             <span class="comment">#è¿™ä¸ªå°±æ˜¯å†…å­˜çš„å¤§å°å•¦ï¼å¥½å¤§å¯¹å§ï¼ä½†æ˜¯ä¸è¦è¯»ä»–å•¦ï¼</span></span><br><span class="line">/proc/modules           <span class="comment">#ç›®å‰æˆ‘ä»¬çš„ Linux å·²ç»åŠ è½½çš„æ¨¡å—åˆ—è¡¨ï¼Œä¹Ÿå¯ä»¥æƒ³æˆæ˜¯é©±åŠ¨ç¨‹åºå•¦ï¼</span></span><br><span class="line">/proc/mounts            <span class="comment">#ç³»ç»Ÿå·²ç»æŒ‚è½½çš„æ•°æ®ï¼Œå°±æ˜¯ç”¨ mount è¿™ä¸ªå‘½ä»¤å‘¼å«å‡ºæ¥çš„æ•°æ®å•¦ï¼</span></span><br><span class="line">/proc/swaps             <span class="comment">#åˆ°åº•ç³»ç»ŸæŒ‚åŠ è½½çš„å†…å­˜åœ¨å“ªé‡Œï¼Ÿå‘µå‘µï¼ä½¿ç”¨æ‰çš„ partition å°±è®°å½•åœ¨æ­¤å•¦ï¼</span></span><br><span class="line">/proc/partitions        <span class="comment">#ä½¿ç”¨ fdisk -l ä¼šå‡ºç°ç›®å‰æ‰€æœ‰çš„ partition å§ï¼Ÿåœ¨è¿™ä¸ªæ–‡ä»¶å½“ä¸­ä¹Ÿæœ‰çºªå½•å–”ï¼</span></span><br><span class="line">/proc/pci               <span class="comment">#åœ¨ PCI æ±‡æµæ’ä¸Šé¢ï¼Œæ¯ä¸ªè£…ç½®çš„è¯¦ç»†æƒ…å†µï¼å¯ç”¨ lspci æ¥æŸ¥é˜…ï¼</span></span><br><span class="line">/proc/version           <span class="comment">#æ ¸å¿ƒçš„ç‰ˆæœ¬ï¼Œå°±æ˜¯ç”¨ uname -a æ˜¾ç¤ºçš„å†…å®¹å•¦ï¼</span></span><br><span class="line">/proc/bus/*             <span class="comment">#ä¸€äº›æ±‡æµæ’çš„è£…ç½®ï¼Œè¿˜æœ‰ Uç›˜çš„è£…ç½®ä¹Ÿè®°å½•åœ¨æ­¤å–”ï¼</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#/dev/ç›®å½•Â·</span></span><br><span class="line"></span><br><span class="line">/dev/hd[a-t]            <span class="comment">#IDEè®¾å¤‡</span></span><br><span class="line">/dev/sd[a-z]            <span class="comment">#SCSIè®¾å¤‡</span></span><br><span class="line">/dev/fd[0-7]            <span class="comment">#æ ‡å‡†è½¯é©±</span></span><br><span class="line">/dev/md[0-31]           <span class="comment">#è½¯raidè®¾å¤‡</span></span><br><span class="line">/dev/loop[0-7]          <span class="comment">#æœ¬åœ°å›ç¯è®¾å¤‡</span></span><br><span class="line">/dev/ram[0-15]          <span class="comment">#å†…å­˜</span></span><br><span class="line">/dev/null               <span class="comment">#æ— é™æ•°æ®æ¥æ”¶è®¾å¤‡,ç›¸å½“äºé»‘æ´</span></span><br><span class="line">/dev/zero               <span class="comment">#æ— é™é›¶èµ„æº</span></span><br><span class="line">/dev/tty[0-63]          <span class="comment">#è™šæ‹Ÿç»ˆç«¯</span></span><br><span class="line">/dev/ttyS[0-3]          <span class="comment">#ä¸²å£</span></span><br><span class="line">/dev/lp[0-3]            <span class="comment">#å¹¶å£</span></span><br><span class="line">/dev/console            <span class="comment">#æ§åˆ¶å°</span></span><br><span class="line">/dev/fb[0-31]           <span class="comment">#framebuffer</span></span><br><span class="line">/dev/cdrom              <span class="comment">#=&gt; /dev/hdc</span></span><br><span class="line">/dev/modem              <span class="comment">#=&gt; /dev/ttyS[0-9]</span></span><br><span class="line">/dev/pilot              <span class="comment">#=&gt; /dev/ttyS[0-9]</span></span><br><span class="line">/dev/random             <span class="comment">#éšæœºæ•°è®¾å¤‡</span></span><br><span class="line">/dev/urandom            <span class="comment">#éšæœºæ•°è®¾å¤‡</span></span><br></pre></td></tr></table></figure>
<h3 id="2-æŸ¥çœ‹ç›¸å…³å‘½ä»¤">2.æŸ¥çœ‹ç›¸å…³å‘½ä»¤</h3>
<h4 id="â‘ -cat">â‘  cat</h4>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-n</td>
<td>æ˜¾ç¤ºè¡Œå·</td>
</tr>
<tr>
<td>-T</td>
<td>ç”¨æ¥åŒºåˆ†æ–‡ä»¶ä¸­æ˜¯å¦æœ‰åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td>-E</td>
<td>åˆ¤æ–­æ–‡ä»¶ä¸­å†…å®¹æ¯ä¸€è¡Œç»“æŸä½ç½®</td>
</tr>
<tr>
<td>-A</td>
<td>ç›¸å½“äº-E -T</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## è¯­æ³•</span></span><br><span class="line"><span class="built_in">cat</span> [é€‰é¡¹]... [æ–‡ä»¶]...</span><br><span class="line"><span class="built_in">cat</span> [OPTION]... [FILE]...</span><br><span class="line"><span class="comment">## æŸ¥çœ‹/etc/passwdæ–‡ä»¶å†…å®¹</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> /etc/passwd</span><br><span class="line"><span class="comment">## æŸ¥çœ‹å¤šä¸ªæ–‡ä»¶å†…å®¹</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> 1.txt 2.txt</span><br><span class="line">123</span><br><span class="line">abc</span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> 2.txt 1.txt</span><br><span class="line">abc</span><br><span class="line">123</span><br><span class="line"><span class="comment">## æ ‡å‡†è¾“å‡ºï¼šå½“æ‰§è¡Œä¸€ä¸ªå‘½ä»¤åï¼Œå‘½ä»¤æ‰§è¡Œæ­£ç¡®ï¼Œæ‰€äº§ç”Ÿçš„ç»“æœï¼ˆåœ¨ç»ˆç«¯ä¸Šèƒ½çœ‹åˆ°çš„è¾“å‡ºç»“æœï¼‰</span></span><br><span class="line">OOMï¼š out of memory å†…å­˜æº¢å‡º</span><br><span class="line">OOM killer</span><br><span class="line"><span class="comment">## -nï¼šæ˜¾ç¤ºè¡Œå·</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> -n /etc/passwd</span><br><span class="line">1 root:x:0:0:root:/root:/bin/bash</span><br><span class="line">2 bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">3 daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">4 adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">5 lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line">6 <span class="built_in">sync</span>:x:5:0:<span class="built_in">sync</span>:/sbin:/bin/sync</span><br><span class="line">7 shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">8 halt:x:7:0:halt:/sbin:/sbin/halt</span><br><span class="line">9 mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">10 operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line"><span class="comment">## -Tï¼šç”¨æ¥åŒºåˆ†æ–‡ä»¶ä¸­æ˜¯å¦æœ‰åˆ¶è¡¨ç¬¦ï¼ˆä¸€ä¸ªåˆ¶è¡¨ç¬¦ç”¨^Iæ¥è¡¨ç¤ºï¼‰</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> -T 1.txt</span><br><span class="line">abc 123 789</span><br><span class="line">qwe^Iwww^I777</span><br><span class="line">a^I^I^I^I</span><br><span class="line">aaaaa</span><br><span class="line">bbbb</span><br><span class="line"><span class="comment">## -Eï¼šåˆ¤æ–­æ–‡ä»¶ä¸­å†…å®¹æ¯ä¸€è¡Œç»“æŸä½ç½®ï¼ˆæŸ¥çœ‹æ˜¯å¦æœ‰å¤šä½™çš„ç©ºæ ¼ï¼‰ç»“å°¾ç”¨$è¡¨ç¤º</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> -E 1.txt</span><br><span class="line">abc 123 789$</span><br><span class="line">$</span><br><span class="line">qwe www 777 $</span><br><span class="line">aaaa$</span><br><span class="line">$</span><br><span class="line">$</span><br><span class="line"><span class="comment">## -Aï¼šç›¸å½“äº-E -T</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> -A 1.txt</span><br><span class="line">abc 123 789$</span><br><span class="line">$</span><br><span class="line">qwe^Iwww^I777 $</span><br><span class="line">aaaa$</span><br><span class="line">$</span><br><span class="line">Tab åˆ¶è¡¨ç¬¦</span><br><span class="line">å›è½¦ æ¢è¡Œç¬¦</span><br><span class="line"><span class="comment">## å¾€æ–‡ä»¶ä¸­å†™å…¥å†…å®¹</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> &gt;&gt; suibian.txt &lt;&lt;<span class="string">EOF(ä¸ä¸€å®šæ˜¯Eofï¼Œèµ·åˆ°ç»ˆæ­¢ä½œç”¨)</span></span><br><span class="line"><span class="string">ä½†ä½¿é¾™åŸfreeå°†åœ¨</span></span><br><span class="line"><span class="string">xxx</span></span><br><span class="line"><span class="string">aaa</span></span><br><span class="line"><span class="string">ccc</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> &gt;&gt; gushi.txt &lt;&lt;<span class="string">zls ï¼ˆè¿™é‡Œå°±ä¸ä¸€å®šæ˜¯Eofï¼‰</span></span><br><span class="line"><span class="string">&gt; 1111</span></span><br><span class="line"><span class="string">&gt; 2222</span></span><br><span class="line"><span class="string">&gt; 3333</span></span><br><span class="line"><span class="string">&gt; zls</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> &gt; 1.txt &lt;&lt;<span class="string">EOF	#ä¸€ä¸ª &gt; æ˜¯å†™å…¥æ–°å†…å®¹å¹¶è¦†ç›–</span></span><br><span class="line"><span class="string">&gt; abc</span></span><br><span class="line"><span class="string">&gt; EOF</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> 1.txt</span><br><span class="line">abc</span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> &gt;&gt; 1.txt &lt;&lt;<span class="string">EOF  #ä¸¤ä¸ª&gt;&gt;æ˜¯è¿½åŠ å†…å®¹ä¸è¦†ç›–</span></span><br><span class="line"><span class="string">&gt; 123</span></span><br><span class="line"><span class="string">&gt; 456</span></span><br><span class="line"><span class="string">&gt; EOF</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> 1.txt</span><br><span class="line">abc</span><br><span class="line">123</span><br><span class="line">456</span><br></pre></td></tr></table></figure>
<h4 id="â‘¡-tail-head">â‘¡ tail &amp; head</h4>
<p><strong>==tail==</strong></p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-n</td>
<td>æŒ‡å®šæŸ¥çœ‹å¤šå°‘è¡Œ number</td>
</tr>
<tr>
<td>-f</td>
<td>follow è·Ÿéšï¼Œè·Ÿè¸ªæ–‡ä»¶æœ«å°¾</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## é»˜è®¤æƒ…å†µä¸‹tailæŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å10è¡Œå†…å®¹</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">tail</span> /etc/passwd</span><br><span class="line">ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin</span><br><span class="line">nobody:x:99:99:Nobody:/:/sbin/nologin</span><br><span class="line">systemd-network:x:192:192:systemd Network Management:/:/sbin/nologin</span><br><span class="line">dbus:x:81:81:System message bus:/:/sbin/nologin</span><br><span class="line">polkitd:x:999:998:User <span class="keyword">for</span> polkitd:/:/sbin/nologin</span><br><span class="line">sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin</span><br><span class="line">postfix:x:89:89::/var/spool/postfix:/sbin/nologin</span><br><span class="line">zls1:x:1000:1000::/home/zls1:/bin/bash</span><br><span class="line">apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin</span><br><span class="line">zls100:x:1001:1001::/home/zls100:/bin/bash</span><br><span class="line"><span class="comment">## æŸ¥çœ‹æŒ‡å®šè¡Œæ•°</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">tail</span> -n2 /etc/passwd</span><br><span class="line">apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin</span><br><span class="line">zls100:x:1001:1001::/home/zls100:/bin/bash</span><br><span class="line">[root@localhost ~]# <span class="built_in">tail</span> -2 /etc/passwd</span><br><span class="line">apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin</span><br><span class="line">zls100:x:1001:1001::/home/zls100:/bin/bash</span><br><span class="line"><span class="comment">## å®æ—¶è¿½è¸ªæ—¥å¿—æ–‡ä»¶æœ«å°¾tail -f == tailf</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">tail</span> -f 1.txt</span><br><span class="line">å¯ä»¥æŸ¥çœ‹å®æ—¶æ›´æ–°çš„æ—¥</span><br></pre></td></tr></table></figure>
<p><strong>==head==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#é€‰é¡¹ï¼š-n</span></span><br><span class="line">ä½œç”¨ï¼šæŒ‡å®šæŸ¥çœ‹å¤šå°‘è¡Œ number</span><br><span class="line"><span class="comment">## é»˜è®¤æƒ…å†µä¸‹headæŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å‰10è¡Œå†…å®¹</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]# <span class="built_in">head</span> /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"><span class="built_in">sync</span>:x:5:0:<span class="built_in">sync</span>:/sbin:/bin/sync</span><br><span class="line">shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">halt:x:7:0:halt:/sbin:/sbin/halt</span><br><span class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line"><span class="comment">## æŸ¥çœ‹æŒ‡å®šè¡Œæ•°	-n3/-n 3/-3éƒ½å¯ä»¥æŸ¥çœ‹å‰ä¸‰è¡Œå†…å®¹  nä¹Ÿå¯çœç•¥</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]# <span class="built_in">head</span> -n3 /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">[root@localhost ~]# <span class="built_in">head</span> -n 3 /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# <span class="built_in">head</span> -3 /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br></pre></td></tr></table></figure>
<h4 id="â‘¢-more-less">â‘¢ more &amp; less</h4>
<p><strong>==more==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@db04 ~]# more /etc/services</span><br></pre></td></tr></table></figure>
<p><strong>==less==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@db04 ~]# less /etc/services</span><br><span class="line"><span class="comment">#æ˜¾ç¤ºè¡Œå·ï¼Œç¼ºé™·ï¼šæ–‡ä»¶å†…å®¹è¿‡å¤šä¸èƒ½æ˜¾ç¤ºæœ€åä¸€è¡Œçš„å†…å®¹ï¼Œéœ€è¦ä½¿ç”¨ç¿»é¡µé”®PageDownå‘åç¿»</span></span><br><span class="line">[root@db04 ~]# less -N /etc/services</span><br></pre></td></tr></table></figure>
<h4 id="â‘£-grep">â‘£ grep</h4>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-n</td>
<td>æ˜¾ç¤ºè¡Œå·</td>
</tr>
<tr>
<td>-A</td>
<td>After è¿‡æ»¤å…³é”®å­—å¹¶æ‰“å°å‡ºåNè¡Œ</td>
</tr>
<tr>
<td>-B</td>
<td>Before è¿‡æ»¤å…³é”®å­—å¹¶æ‰“å°å‡ºå‰Nè¡Œ</td>
</tr>
<tr>
<td>-C</td>
<td>Center è¿‡æ»¤å…³é”®å­—å¹¶æ‰“å°å‡ºå‰åNè¡Œ</td>
</tr>
<tr>
<td>-v</td>
<td>å–å</td>
</tr>
<tr>
<td>-o</td>
<td>åªæ˜¾ç¤ºå…³é”®å­—å†…å®¹</td>
</tr>
<tr>
<td>-i</td>
<td>å¿½ç•¥å¤§å°å†™</td>
</tr>
<tr>
<td>-w</td>
<td>ç²¾ç¡®åŒ¹é…,æ˜¾ç¤ºåŒ¹é…çš„è¿™ä¸€è¡Œ</td>
</tr>
<tr>
<td>-c</td>
<td>ç›¸å½“äºcountï¼Œç”¨äºç»Ÿè®¡è¡Œæ•°</td>
</tr>
<tr>
<td>-r/-R</td>
<td>é€’å½’æœç´¢ç›®å½•åŠç›®å½•ä¸‹å¾—æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>å…³é”®å­—å¯ä»¥ä½¿ç”¨çš„ç¬¦å·</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>^</td>
<td>ä»¥â€¦å¼€å¤´</td>
</tr>
<tr>
<td>$</td>
<td>ä»¥â€¦ç»“å°¾     ^$å¯ä»¥è¡¨ç¤ºç©ºè¡Œ</td>
</tr>
<tr>
<td>.</td>
<td>ä»»æ„ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>*</td>
<td>*å·å‰é¢çš„å•ä¸ªå­—ç¬¦åŒ¹é…0æ¬¡æˆ–å¤šæ¬¡</td>
</tr>
<tr>
<td>|</td>
<td>æ­£åˆ™è¡¨è¾¾å¼é‡Œé¢æˆ–è€…æ„æ€ï¼Œgrepé»˜è®¤ä¸æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œéœ€è¦ç”¨-E</td>
</tr>
<tr>
<td>\b</td>
<td>è¾¹ç•Œç¬¦</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## è¯­æ³•ï¼š</span></span><br><span class="line">grep [é€‰é¡¹]... <span class="string">&#x27;å…³é”®å­—&#x27;</span> [æ–‡ä»¶å]...</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¿‡æ»¤å…³é”®å­—</span></span><br><span class="line">[root@localhost ~]# grep <span class="string">&#x27;é£æ™¯&#x27;</span> zls.txt</span><br><span class="line">æ±Ÿå±±é£æ™¯ç¾å¦‚ç”»ï¼Œ</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¿‡æ»¤å…³é”®å­—å¹¶æ˜¾ç¤ºè¡Œå·</span></span><br><span class="line">[root@localhost ~]# grep -n <span class="string">&#x27;root&#x27;</span> /etc/passwd</span><br><span class="line">1:root:x:0:0:root:/root:/bin/bash</span><br><span class="line">10:operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> zls.txt</span><br><span class="line">å§æ§½</span><br><span class="line">ä½œè€…ï¼šæ›¾è€æ¹¿</span><br><span class="line">æ±Ÿå±±é£æ™¯ç¾å¦‚ç”»ï¼Œ</span><br><span class="line">æœ¬æƒ³åŸè¯—èµ å¤©ä¸‹ã€‚</span><br><span class="line">å¥ˆä½•è‡ªå·±æ²¡æ–‡åŒ–ï¼Œ</span><br><span class="line">ä¸€å¥å§æ§½é£å¥½å¤§ã€‚</span><br><span class="line">å°±è¿™ä¹ˆåœ°å§ã€‚</span><br><span class="line">è°¢è°¢å¤§å®¶ã€‚</span><br><span class="line">ä¸€äºŒä¸‰å››äº”å…­ä¸ƒï¼Œ</span><br><span class="line">ä¸ƒå…­äº”å››ä¸‰äºŒä¸€ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¿‡æ»¤å‡ºzls.txtæ–‡ä»¶ä¸­ åŒ…å«ä¸€çš„è¡Œ</span></span><br><span class="line">[root@localhost ~]#grep <span class="string">&#x27;ä¸€&#x27;</span> zls.txt</span><br><span class="line">ä¸€å¥å§æ§½é£å¥½å¤§ã€‚</span><br><span class="line">ä¸€äºŒä¸‰å››äº”å…­ä¸ƒï¼Œ</span><br><span class="line">ä¸ƒå…­äº”å››ä¸‰äºŒä¸€ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¿‡æ»¤å‡ºzls.txtæ–‡ä»¶ä¸­ä»¥ä¸€å¼€å¤´çš„è¡Œ</span></span><br><span class="line">[root@localhost ~]#grep <span class="string">&#x27;^ä¸€&#x27;</span> zls.txtt</span><br><span class="line">ä¸€å¥å§æ§½é£å¥½å¤§ã€‚</span><br><span class="line">ä¸€äºŒä¸‰å››äº”å…­ä¸ƒï¼Œ</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¿‡æ»¤å‡ºzls.txtæ–‡ä»¶ä¸­ä»¥ä¸€å¼€å¤´çš„è¡Œï¼Œå¹¶æ˜¾ç¤ºè¡Œå·</span></span><br><span class="line">[root@localhost ~]# grep -n <span class="string">&#x27;^ä¸€&#x27;</span> zls.txt</span><br><span class="line">6:ä¸€å¥å§æ§½é£å¥½å¤§ã€‚</span><br><span class="line">9:ä¸€äºŒä¸‰å››äº”å…­ä¸ƒï¼Œ</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¿‡æ»¤å‡º/etc/passwdæ–‡ä»¶ä¸­ï¼Œä»¥loginç»“å°¾çš„è¡Œ</span></span><br><span class="line">[root@localhost ~]# grep <span class="string">&#x27;login$&#x27;</span> /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¿‡æ»¤å‡ºmailå…³é”®å­—æ‰€åœ¨è¡ŒåŠåä¸¤è¡Œå†…å®¹</span></span><br><span class="line">[root@localhost ~]# grep <span class="string">&#x27;mail&#x27;</span> -A 2 /etc/passwd</span><br><span class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">games:x:12:100:games:/usr/games:/sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¿‡æ»¤å‡ºmailå…³é”®å­—æ‰€åœ¨è¡ŒåŠå‰ä¸¤è¡Œå†…å®¹</span></span><br><span class="line">[root@localhost ~]# grep -B 2 <span class="string">&#x27;mail&#x27;</span> /etc/passwd</span><br><span class="line">shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">halt:x:7:0:halt:/sbin:/sbin/halt</span><br><span class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¿‡æ»¤å‡ºmailå…³é”®å­—æ‰€åœ¨è¡ŒåŠå‰ä¸¤è¡Œå†…å®¹å’Œåä¸‰è¡Œå†…å®¹</span></span><br><span class="line">[root@localhost ~]# grep -A3 -B2 <span class="string">&#x27;mail&#x27;</span> /etc/passwd</span><br><span class="line">shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">halt:x:7:0:halt:/sbin:/sbin/halt</span><br><span class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">games:x:12:100:games:/usr/games:/sbin/nologin</span><br><span class="line">ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="comment">## ## è¿‡æ»¤å‡ºmailå…³é”®å­—æ‰€åœ¨è¡ŒåŠå‰ä¸¤è¡Œå†…å®¹å’Œåä¸¤è¡Œå†…å®¹</span></span><br><span class="line">[root@localhost ~]# grep -C2 <span class="string">&#x27;mail&#x27;</span> /etc/passwd</span><br><span class="line">shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">halt:x:7:0:halt:/sbin:/sbin/halt</span><br><span class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">games:x:12:100:games:/usr/games:/sbin/nologin</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="â‘¤-ls">â‘¤ ls</h4>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>æŸ¥çœ‹ç›®å½•ä¸‹æ–‡ä»¶çš„åå­—å’Œè¯¦ç»†ä¿¡æ¯</td>
</tr>
<tr>
<td>-a</td>
<td>æŸ¥çœ‹ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åŒ…æ‹¬éšè—æ–‡ä»¶</td>
</tr>
<tr>
<td>-hï¼ˆä¸€èˆ¬é…åˆ-lä½¿ç”¨ï¼‰</td>
<td>ä»¥äººç±»å¯è¯»çš„æ–¹å¼æŸ¥çœ‹æ–‡ä»¶è¯¦ç»†ä¿¡æ¯</td>
</tr>
<tr>
<td>-tï¼ˆä¸€èˆ¬é…åˆ-lä½¿ç”¨ï¼‰</td>
<td>æŒ‰ç…§æ–‡ä»¶ä¿®æ”¹æ—¥æœŸæ’åºï¼Œæœ€æ–°çš„åœ¨æœ€ä¸Šé¢</td>
</tr>
<tr>
<td>-rï¼ˆä¸€èˆ¬é…åˆ-lä½¿ç”¨ï¼‰</td>
<td>reverseç¿»è½¬ï¼ˆå€’å™æ’åºï¼‰</td>
</tr>
<tr>
<td>-dï¼ˆä¸€èˆ¬é…åˆ-lä½¿ç”¨ï¼‰</td>
<td>åªæŸ¥çœ‹ç›®å½•æœ¬èº«ä¿¡æ¯ä¸æŸ¥çœ‹æ–‡ä»¶</td>
</tr>
<tr>
<td>-iï¼ˆä¸€èˆ¬é…åˆ-lä½¿ç”¨ï¼‰</td>
<td>æ˜¾ç¤ºinodeå·</td>
</tr>
<tr>
<td>-S(ä¸€èˆ¬é…åˆ-lä½¿ç”¨)</td>
<td>ä¾æ®å†…å®¹å¤§å°å°†æ–‡ä»¶æ’åºæ˜¾ç¤º</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">list <span class="comment">#åˆ—è¡¨</span></span><br><span class="line"><span class="comment">##  æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å(ä¸åŒ…å«éšè—æ–‡ä»¶)</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">ls</span></span><br><span class="line">anaconda-ks.cfg  ip_host.sh  ip_host.sh~</span><br><span class="line"><span class="comment">##æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„åå’Œè¯¦ç»†ä¿¡æ¯(ä¸åŒ…å«éšè—æ–‡ä»¶)</span></span><br><span class="line">-l use a long listing format ä½¿ç”¨ä¸€ä¸ªé•¿çš„åˆ—è¡¨æ ¼å¼</span><br><span class="line">[root@lb02 ~]# <span class="built_in">ls</span> -l</span><br><span class="line">total 12</span><br><span class="line">-rw-------. 1 root root 1447 Mar 27 12:11 anaconda-ks.cfg</span><br><span class="line">-rw-r--r--. 1 root root  377 Mar 27 23:50 ip_host.sh</span><br><span class="line">-rw-r--r--. 1 root root  366 Mar 27 23:33 ip_host.sh~</span><br><span class="line"></span><br><span class="line">[root@lb02 ~]# ll</span><br><span class="line">total 12</span><br><span class="line">-rw-------. 1 root root 1447 Mar 27 12:11 anaconda-ks.cfg</span><br><span class="line">-rw-r--r--. 1 root root  377 Mar 27 23:50 ip_host.sh</span><br><span class="line">-rw-r--r--. 1 root root  366 Mar 27 23:33 ip_host.sh~</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŸ¥çœ‹æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶è¯¦ç»†ä¿¡æ¯ï¼ˆä¸åŒ…å«éšè—æ–‡ä»¶ï¼‰</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">ls</span> -l /etc/sysconfig/</span><br><span class="line">total 84</span><br><span class="line">-rw-r--r--. 1 root root  379 Mar 27 12:11 anaconda</span><br><span class="line">-rw-r--r--. 1 root root  483 Mar 27 12:10 authconfig</span><br><span class="line">drwxr-xr-x. 2 root root   43 Mar 27 12:07 cbq</span><br><span class="line">drwxr-xr-x. 2 root root    6 Oct 31  2018 console</span><br><span class="line"></span><br><span class="line"><span class="comment">#åœ¨linuxä¸­ï¼Œéšè—æ–‡ä»¶åå­—ä»¥&#x27;.&#x27;å¼€å¤´</span></span><br><span class="line"><span class="comment">## æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶åŒ…æ‹¬éšè—æ–‡ä»¶ï¼ˆå¤šä¸ªé€‰é¡¹å¯ä»¥åˆå¹¶æ‰§è¡Œï¼‰</span></span><br><span class="line">-aï¼Œ--all <span class="keyword">do</span> not ignore entries starting with . <span class="comment"># ä¸å¿½ç•¥ä»¥ç‚¹å¼€å¤´çš„æ–‡ä»¶</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">ls</span> -l -a   æˆ–è€…[root@lb02 ~]# <span class="built_in">ls</span> -la/ls -al</span><br><span class="line">[root@lb02 ~]# <span class="built_in">ls</span> -l -a</span><br><span class="line">total 48</span><br><span class="line">dr-xr-x---.  2 root root   195 Mar 27 23:50 .</span><br><span class="line">dr-xr-xr-x. 17 root root   224 Mar 27 12:10 ..</span><br><span class="line">-rw-------.  1 root root  1447 Mar 27 12:11 anaconda-ks.cfg</span><br><span class="line"></span><br><span class="line"><span class="comment">## ä»¥äººç±»å¯è¯»çš„æ–¹å¼æŸ¥çœ‹æ–‡ä»¶è¯¦ç»†ä¿¡æ¯ï¼ˆå¤§å°+å•ä½ é…åˆ-lä½¿ç”¨ï¼‰</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">ls</span> -l /etc/sysconfig/ebtables-config </span><br><span class="line">-rw-------. 1 root root 1390 Apr 11  2018 /etc/sysconfig/ebtables-config</span><br><span class="line">[root@lb02 ~]# <span class="built_in">ls</span> -hl /etc/sysconfig/ebtables-config </span><br><span class="line">-rw-------. 1 root root 1.4K Apr 11  2018 /etc/sysconfig/ebtables-config</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŒ‰ç…§ä¿®æ”¹æ—¥æœŸæ’åºï¼ˆæœ€æ–°çš„åœ¨æœ€ä¸Šé¢ï¼‰</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">ls</span> -l    //ä¸æ’åº</span><br><span class="line">total 12</span><br><span class="line">-rw-------. 1 root root 1447 Mar 27 12:11 anaconda-ks.cfg</span><br><span class="line">-rw-r--r--. 1 root root  377 Mar 27 23:50 ip_host.sh</span><br><span class="line">-rw-r--r--. 1 root root  366 Mar 27 23:33 ip_host.sh~</span><br><span class="line">[root@lb02 ~]# <span class="built_in">ls</span> -lt</span><br><span class="line">total 12</span><br><span class="line">-rw-r--r--. 1 root root  377 Mar 27 23:50 ip_host.sh</span><br><span class="line">-rw-r--r--. 1 root root  366 Mar 27 23:33 ip_host.sh~</span><br><span class="line">-rw-------. 1 root root 1447 Mar 27 12:11 anaconda-ks.cfg</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŒ‰ç…§ä¿®æ”¹æ—¶é—´ï¼Œå€’å™æ’åºï¼ˆæœ€æ–°çš„åœ¨æœ€ä¸‹é¢ï¼‰</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">ls</span> -ltr</span><br><span class="line">total 12</span><br><span class="line">-rw-------. 1 root root 1447 Mar 27 12:11 anaconda-ks.cfg</span><br><span class="line">-rw-r--r--. 1 root root  366 Mar 27 23:33 ip_host.sh~</span><br><span class="line">-rw-r--r--. 1 root root  377 Mar 27 23:50 ip_host.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">## åªæŸ¥çœ‹ç›®å½•æœ¬èº«ï¼Œä¸æŸ¥çœ‹ç›®å½•ä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">ls</span> -ld /etc/sysconfig</span><br><span class="line">drwxr-xr-x. 6 root root 4096 Mar 27 12:11 /etc/sysconfig</span><br></pre></td></tr></table></figure>
<h4 id="â‘¥-tree">â‘¥ tree</h4>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-L</td>
<td>æŒ‡å®šå±‚çº§æ˜¾ç¤ºç»“æ„</td>
</tr>
<tr>
<td>-d</td>
<td>åªæŸ¥çœ‹ç›®å½•ä¸æŸ¥çœ‹æ–‡ä»¶</td>
</tr>
<tr>
<td>-a</td>
<td>æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶å’Œç›®å½•åŒ…æ‹¬éšè—æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## å‘½ä»¤æ‰¾ä¸åˆ°</span></span><br><span class="line">[root@localhost ~]# tree</span><br><span class="line">-bash: tree: <span class="built_in">command</span> not found</span><br><span class="line"><span class="comment">## å®‰è£…å‘½ä»¤</span></span><br><span class="line">[root@localhost ~]# yum install -y tree</span><br><span class="line"><span class="comment">#treeåŠŸèƒ½ï¼šä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤ºæ–‡ä»¶å’Œç›®å½•</span></span><br><span class="line"><span class="comment">## æŸ¥çœ‹ç›®å½•ç»“æ„   </span></span><br><span class="line">[root@lb01 ~]# tree /usr/local/</span><br><span class="line">/usr/local/</span><br><span class="line">â”œâ”€â”€ bin</span><br><span class="line">â”œâ”€â”€ etc</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ applications</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ info</span><br><span class="line">â”‚Â Â  â””â”€â”€ man</span><br><span class="line">â”‚Â Â      â”œâ”€â”€ man1</span><br><span class="line">â”‚Â Â      â”œâ”€â”€ man1x</span><br><span class="line">â”‚Â Â      â”œâ”€â”€ man2</span><br><span class="line">â”‚Â Â      â”œâ”€â”€ man2x</span><br><span class="line">â”‚Â Â      â”œâ”€â”€ man3</span><br><span class="line">â”‚Â Â      â”œâ”€â”€ man9x</span><br><span class="line">â”‚Â Â      â””â”€â”€ mann</span><br><span class="line">â””â”€â”€ src</span><br><span class="line">32 directories, 0 files</span><br><span class="line"></span><br><span class="line"><span class="comment"># -Lï¼šlevel æŸ¥çœ‹æŒ‡å®šå±‚çº§çš„ç›®å½•ç»“æ„   å¦‚æœç›®å½•å±‚çº§å¤ªå¤šï¼Œå¯ä»¥æŸ¥çœ‹æŒ‡å®šå‡ å±‚ç›®å½•</span></span><br><span class="line">[root@lb01 ~]# tree -L 2 /usr/local/</span><br><span class="line"></span><br><span class="line"><span class="comment">## -dï¼šåªæŸ¥çœ‹ç›®å½•ä¸æŸ¥çœ‹æ–‡ä»¶ï¼ŒæŸ¥çœ‹æŒ‡å®šç›®å½•å±‚çº§çš„æ‰€æœ‰ç›®å½•</span></span><br><span class="line">[root@localhost ~]# tree -L 2 -d /etc/</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-å¢åˆ æ”¹æ“ä½œ">3.å¢åˆ æ”¹æ“ä½œ</h3>
<h4 id="â‘ -cp">â‘  cp</h4>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-rã€-R</td>
<td>é€’å½’å¤åˆ¶ç›®å½•ï¼ˆåŒ…æ‹¬ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ï¼‰</td>
</tr>
<tr>
<td>-v</td>
<td>æ˜¾ç¤ºå¤åˆ¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¤åˆ¶è¿‡ç¨‹</td>
</tr>
<tr>
<td>-p</td>
<td>ä¿æŒæ–‡ä»¶å±æ€§</td>
</tr>
<tr>
<td>-a</td>
<td>å³ä¿æŒç›®å½•å±æ€§ï¼Œåˆå¯ä»¥é€’å½’æ‹·è´ç›®å½•</td>
</tr>
<tr>
<td>-i</td>
<td>è¯¢é—® ï¼ˆæ˜¯å¦è¦†ç›–ï¼‰</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">copy å¤åˆ¶ï¼Œæ‹·è´</span><br><span class="line"><span class="comment">#è¯­æ³•</span></span><br><span class="line">1.<span class="built_in">cp</span> [é€‰é¡¹]... [-T] æºæ–‡ä»¶ ç›®æ ‡ ï¼ˆå¤‡ä»½ï¼‰</span><br><span class="line">2.<span class="built_in">cp</span> [é€‰é¡¹]... æºæ–‡ä»¶... ç›®å½•</span><br><span class="line">3.<span class="built_in">cp</span> [é€‰é¡¹]... -t ç›®å½• æºæ–‡ä»¶...</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¯­æ³•ä¸€ï¼šcp [é€‰é¡¹]... [-T] æºæ–‡ä»¶ ç›®æ ‡ ï¼ˆå¤‡ä»½ï¼‰</span></span><br><span class="line"><span class="built_in">cp</span> [OPTION]... [-T] SOURCE DEST</span><br><span class="line"><span class="comment">## å°†saomiao.shè„šæœ¬å¤åˆ¶åˆ°å½“å‰ç›®å½•ä¸‹å¹¶æ”¹åä¸º123</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> saomiao.sh 123</span><br><span class="line"><span class="comment">## å°†saomiao.shè„šæœ¬å¤åˆ¶åˆ°/optç›®å½•ä¸‹å¹¶æ”¹åä¸ºabc</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> saomiao.sh /opt/abc</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¯­æ³•äºŒï¼šcp [é€‰é¡¹]... æºæ–‡ä»¶... ç›®å½•</span></span><br><span class="line"><span class="built_in">cp</span> [OPTION]... SOURCE... DIRECTORY</span><br><span class="line"><span class="comment">## å°†saomiao.shè„šæœ¬å¤åˆ¶åˆ°/tmpç›®å½•ä¸‹</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> saomiao.sh /tmp/</span><br><span class="line"><span class="comment">## å°†saomiao.shè„šæœ¬æ‹·è´åˆ°/tmpä¸‹å¹¶æ”¹åä¸º2.txtï¼Œè‹¥2.txtæ–‡ä»¶å·²å­˜åœ¨ä¼šè¯¢é—®ï¼Œæ˜¯å¦è¦è¦†ç›–</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> saomiao.sh /tmp/2.txt</span><br><span class="line"><span class="comment">## ä¸€æ¬¡æ€§å¤åˆ¶å¤šä¸ªæ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> 123 saomiao.sh cheak_student.sh anaconda-ks.cfg /opt/</span><br><span class="line"><span class="comment">## æŠ¥é”™ç¤ºèŒƒ</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> 123 saomiao.sh cheak_student.sh anaconda-ks.cfg abcï¼ˆå¿…é¡»æ˜¯ç›®å½•ï¼Œä¸èƒ½æ˜¯æ–‡ä»¶ï¼‰</span><br><span class="line"><span class="built_in">cp</span>: target â€˜abcâ€™ is not a directory</span><br><span class="line"><span class="comment">## å¤åˆ¶ç›®å½•</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> -r /opt/ /tmp/	å°†optç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°tmpä¸‹ï¼ŒåŒ…æ‹¬optç›®å½•</span><br><span class="line"><span class="comment">## æ”¹å</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> -r /opt/ /root/xxx</span><br><span class="line"><span class="comment">## å¤åˆ¶ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä½†ä¸å¤åˆ¶ç›®å½•æœ¬èº«</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> -r /opt/* /tmp/</span><br><span class="line"><span class="comment">## å¤åˆ¶å¤šä¸ªæ–‡ä»¶    æ˜¾ç¤ºå¤åˆ¶è¿‡ç¨‹</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> -rv 123 anaconda-ks.cfg </span><br><span class="line">/tmp/</span><br><span class="line">â€˜123â€™ -&gt; â€˜/tmp/123â€™</span><br><span class="line">â€˜anaconda-ks.cfgâ€™ -&gt; â€˜/tmp/anaconda-ks.cfgâ€™</span><br><span class="line"></span><br><span class="line"><span class="comment">## ä¿æŒæ–‡ä»¶å±æ€§</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> -rp /home/zls1 /tmp/</span><br><span class="line"><span class="comment">## è¯­æ³•äºŒï¼šcp [é€‰é¡¹]... æºæ–‡ä»¶... ç›®å½•</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> -a /home/zls1 /tmp/</span><br><span class="line">----</span><br><span class="line"><span class="comment">## è¯­æ³•ä¸‰ï¼šcp [é€‰é¡¹]... -t ç›®å½• æºæ–‡ä»¶... (åäººç±»)</span></span><br><span class="line"><span class="built_in">cp</span> [OPTION]... -t DIRECTORY SOURCE...</span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> -t /tmp/ saomiao.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">## æ€»ç»“ï¼š</span></span><br><span class="line">1.å½“å¤åˆ¶çš„ç›®æ ‡ä¸å­˜åœ¨æ—¶ï¼Œå°†æºæ–‡ä»¶å¤åˆ¶å‡ºæ¥å¹¶æ”¹åä¸ºç›®æ ‡å</span><br><span class="line">2.å½“å¤åˆ¶ç›®æ ‡å­˜åœ¨æ—¶ï¼Œä¸”æ˜¯ä¸€ä¸ªç›®å½•ï¼Œåˆ™ç›´æ¥å°†æ–‡ä»¶å¤åˆ¶åˆ°æŒ‡å®šçš„ç›®å½•ä¸‹ï¼ˆåå­—ä¸å˜ï¼‰</span><br><span class="line">3.å½“å¤åˆ¶ç›®æ ‡å­˜åœ¨æ—¶ï¼Œä¸”æ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶ï¼Œåˆ™æç¤ºæ˜¯å¦è¦è¦†ç›–ï¼Œè¾“å…¥yæ˜¯è¦†ç›–ï¼Œè¾“å…¥næ˜¯ä¸è¦†ç›–</span><br><span class="line">4.å½“å¤åˆ¶å¤šä¸ªæ–‡ä»¶æ—¶ï¼Œæœ€åä¸€ä¸ªå¿…é¡»å†™å·²å­˜åœ¨çš„ç›®å½•ï¼Œå¦åˆ™ä¼šæŠ¥é”™</span><br><span class="line">5.<span class="built_in">cp</span>å‘½ä»¤é»˜è®¤æƒ…å†µä¸‹æ— æ³•æ‹·è´ç›®å½•ï¼Œå¿…é¡»åŠ -ré€‰é¡¹ï¼Œé€’å½’å¤åˆ¶ç›®å½•</span><br></pre></td></tr></table></figure>
<h4 id="â‘¡-mv">â‘¡ mv</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">-i	è¯¢é—®ï¼ˆæ˜¯å¦è¦è¦†ç›–ï¼‰</span><br><span class="line">move ç§»åŠ¨ï¼Œå‰ªåˆ‡</span><br><span class="line">1.<span class="built_in">mv</span> [é€‰é¡¹]... [-T] æºæ–‡ä»¶ ç›®æ ‡ï¼ˆé‡å‘½åï¼‰</span><br><span class="line">2.<span class="built_in">mv</span> [é€‰é¡¹]... æºæ–‡ä»¶... ç›®å½•</span><br><span class="line">3.<span class="built_in">mv</span> [é€‰é¡¹]... -t ç›®å½• æºæ–‡ä»¶... (åäººç±»)</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¯­æ³•ä¸€ï¼šmv [é€‰é¡¹]... [-T] æºæ–‡ä»¶ ç›®æ ‡ï¼ˆé‡å‘½åï¼‰</span></span><br><span class="line"><span class="built_in">mv</span> [OPTION]... [-T] SOURCE DEST</span><br><span class="line"><span class="comment">## ç»™saomiao.shæ–‡ä»¶æ”¹å	å†…å®¹è¦†ç›–å¹¶æ”¹åï¼Œæºæ–‡ä»¶æ¶ˆå¤±</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">mv</span> saomiao.sh zls.sh</span><br><span class="line"><span class="comment">## è¯­æ³•äºŒï¼šmv [é€‰é¡¹]... æºæ–‡ä»¶... ç›®å½•</span></span><br><span class="line"><span class="built_in">mv</span> [OPTION]... SOURCE... DIRECTORY</span><br><span class="line">[root@localhost ~]# <span class="built_in">mv</span> zls.sh /opt/</span><br><span class="line"><span class="comment">## è¦†ç›–æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">mv</span> nginx.conf 123</span><br><span class="line"><span class="built_in">mv</span>: overwrite â€˜123â€™? y</span><br><span class="line"><span class="comment">## ç§»åŠ¨å¤šä¸ªæ–‡ä»¶    ç§»åŠ¨æ–‡ä»¶åˆ°å½“å‰ç›®å½•</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">mv</span> /tmp/&#123;123,anaconda,ks.cfg,cheak_student.sh,nginx.conf.bak&#125; .</span><br><span class="line">[root@localhost ~]# ll</span><br><span class="line">total 8</span><br><span class="line">-rw-r--r--. 1 root root 0 Apr 1 19:18 123</span><br><span class="line">-rw-------. 1 root root 1379 Mar 21 20:58 anaconda-ks.cfg</span><br><span class="line">-rw-r--r--. 1 root root 392 Aug 11 2022 cheak_student.sh</span><br><span class="line">-rw-r--r--. 1 root root 0 Apr 1 19:18 nginx.conf.bak</span><br><span class="line"><span class="comment">## é”™è¯¯æ¼”ç¤º</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">mv</span> 123 anaconda-ks.cfg cheak_student.sh nginx.conf.bak abc	åŒ<span class="built_in">cp</span>ï¼Œabcä¸æ˜¯ç›®å½•</span><br><span class="line"><span class="built_in">mv</span>: target â€˜abcâ€™ is not a directory</span><br><span class="line"></span><br><span class="line"><span class="comment">## æ€»ç»“ï¼š</span></span><br><span class="line">1.å½“ç§»åŠ¨çš„ç›®æ ‡ä¸å­˜åœ¨æ—¶ï¼Œå°†æºæ–‡ä»¶é‡å‘½å</span><br><span class="line">2.å½“ç§»åŠ¨ç›®æ ‡å­˜åœ¨æ—¶ï¼Œä¸”æ˜¯ä¸€ä¸ªç›®å½•ï¼Œåˆ™ç›´æ¥å°†æ–‡ä»¶å‰ªåˆ‡åˆ°æŒ‡å®šçš„ç›®å½•ä¸‹ï¼ˆåå­—ä¸å˜ï¼‰</span><br><span class="line">3.å½“ç§»åŠ¨ç›®æ ‡å­˜åœ¨æ—¶ï¼Œä¸”æ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶ï¼Œåˆ™æç¤ºæ˜¯å¦è¦è¦†ç›–ï¼Œè¾“å…¥yæ˜¯è¦†ç›–ï¼Œè¾“å…¥næ˜¯ä¸è¦†ç›–</span><br><span class="line">4.å½“ç§»åŠ¨å¤šä¸ªæ–‡ä»¶æ—¶ï¼Œæœ€åä¸€ä¸ªå¿…é¡»å†™å·²å­˜åœ¨çš„ç›®å½•ï¼Œå¦åˆ™ä¼šæŠ¥é”™</span><br><span class="line"><span class="comment">## è¯­æ³•ä¸‰ï¼šmv [é€‰é¡¹]... -t ç›®å½• æºæ–‡ä»¶... (åäººç±»)</span></span><br><span class="line"><span class="built_in">mv</span> [OPTION]... -t DIRECTORY SOURCE...</span><br></pre></td></tr></table></figure>
<h4 id="â‘¢-rm">â‘¢ rm</h4>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-i</td>
<td>è¯¢é—®ï¼ˆæ˜¯å¦è¦åˆ é™¤ï¼‰</td>
</tr>
<tr>
<td>-r</td>
<td>é€’å½’åˆ é™¤</td>
</tr>
<tr>
<td>-f</td>
<td>force å¼ºåˆ¶åˆ é™¤</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">remove åˆ é™¤ï¼ˆdeleteï¼‰</span><br><span class="line"><span class="comment">## è¯­æ³•ï¼šrm [é€‰é¡¹]... æ–‡ä»¶...</span></span><br><span class="line"><span class="built_in">rm</span> [OPTION]... FILE...</span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ é™¤æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">rm</span> 123</span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ é™¤ç›®å½•</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">rm</span> -r zls2</span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ é™¤ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ï¼Œä¸åŒ…æ‹¬ç›®å½•æœ¬èº«</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">rm</span> -r zls2/*</span><br><span class="line"><span class="built_in">rm</span>: remove regular empty file â€˜123â€™? y</span><br><span class="line"></span><br><span class="line"><span class="comment">## å¼ºåˆ¶åˆ é™¤</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">rm</span> -rf zls2/</span><br><span class="line">[root@localhost ~]# <span class="built_in">rm</span> -fr /tmp/*</span><br><span class="line">1.<span class="built_in">rm</span>åˆ é™¤æ™®é€šæ–‡ä»¶çš„å‘½ä»¤ï¼Œé»˜è®¤åªèƒ½åˆ é™¤æ™®é€šæ–‡ä»¶</span><br><span class="line">[root@localhost ~]# <span class="built_in">rm</span> zls1</span><br><span class="line"><span class="built_in">rm</span>: cannot remove â€˜zls1â€™: Is a directory</span><br><span class="line">2.åˆ é™¤æ–‡ä»¶ï¼Œä¸æƒ³è¯¢é—®ï¼Œ<span class="built_in">rm</span> -f</span><br><span class="line">3.åˆ é™¤ç›®å½•ï¼Œä¸æƒ³è¯¢é—®ï¼Œ<span class="built_in">rm</span> -fr ã€ <span class="built_in">rm</span> -rf</span><br><span class="line"></span><br><span class="line"><span class="comment">## ä¸¤ç§è®©å‘½ä»¤ä¸èµ°åˆ«åçš„æ–¹æ³•ï¼šä¾‹å¦‚rm -iï¼ˆæé†’ï¼‰åˆ«åæ˜¯alias rm=&#x27;rm -i&#x27;ï¼Œå¦‚æœä¸æƒ³è®©rmèµ°åˆ«åæé†’</span></span><br><span class="line">1.åœ¨å‘½ä»¤å‰é¢åŠ \ï¼ˆè½¬ä¹‰ç¬¦ï¼‰[root@lb01 ~]# \<span class="built_in">rm</span> -r ac</span><br><span class="line">2.ä½¿ç”¨å‘½ä»¤çš„ç»å¯¹è·¯å¾„    æŸ¥çœ‹å‘½ä»¤çš„ç»å¯¹è·¯å¾„åœ¨å“ª<span class="built_in">which</span> <span class="built_in">rm</span>    /usr/bin/rm </span><br><span class="line">ä½¿ç”¨ç»å¯¹è·¯å¾„åˆ é™¤/usr/bin/rm -r ab  å°±æ²¡æœ‰æé†’æ˜¯å¦åˆ é™¤å³ä¸èµ°åˆ«å</span><br></pre></td></tr></table></figure>
<h4 id="â‘£-touch">â‘£ touch</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºæ™®é€šæ–‡ä»¶ï¼ˆå¯ç¼–è¾‘æ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="built_in">touch</span> ç›®æ ‡æ–‡ä»¶</span><br><span class="line"><span class="built_in">touch</span> [OPTION]... FILE...</span><br><span class="line"><span class="comment">## åˆ›å»ºå¤šä¸ªæ–‡ä»¶</span></span><br><span class="line">[root@www ~]# <span class="built_in">touch</span> 1.txt abc/2.txt /tmp/3.txt</span><br><span class="line"><span class="comment">## æŠ¥é”™ï¼šåˆ›å»ºæ–‡ä»¶å‰æï¼Œä¸Šä¸€çº§ç›®å½•å¿…é¡»å­˜åœ¨</span></span><br><span class="line">[root@www ~]# <span class="built_in">touch</span> /iskshda/1.txt</span><br><span class="line"><span class="built_in">touch</span>: cannot <span class="built_in">touch</span> â€˜/iskshda/1.txtâ€™: No such file or directory</span><br><span class="line"><span class="comment">## å½“åˆ›å»ºçš„ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨æ—¶ï¼Œä¸ä¼šæŠ¥é”™ï¼Œä½†ä¼šæ›´æ–°ä¿®æ”¹æ—¶é—´</span></span><br><span class="line">[root@www ~]# <span class="built_in">touch</span> 1.txt</span><br><span class="line"></span><br><span class="line">1ï¼‰å½“åˆ›å»ºçš„ç›®æ ‡æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ™®é€šæ–‡ä»¶</span><br><span class="line">2ï¼‰å½“åˆ›å»ºçš„ç›®æ ‡æ–‡ä»¶å­˜åœ¨æ—¶ï¼Œåˆ™ä¿®æ”¹è¯¥æ–‡ä»¶çš„æ—¶é—´</span><br><span class="line">3ï¼‰å½“åˆ›å»ºçš„ç›®æ ‡æ˜¯ä¸€ä¸ªç›®å½•æ—¶ï¼Œåˆ™ä¿®æ”¹ç›®å½•çš„æ—¶é—´</span><br><span class="line"><span class="comment">#åœ¨linuxç³»ç»Ÿä¸­ï¼Œä¸¥æ ¼åŒºåˆ†å¤§å°å†™</span></span><br></pre></td></tr></table></figure>
<h4 id="â‘¤-mkdir">â‘¤ mkdir</h4>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-p</td>
<td>é€’å½’åˆ›å»ºï¼Œå¦‚æœç›®å½•å·²å­˜åœ¨åˆ™ä¸åˆ›å»ºï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨åˆ™åˆ›å»º</td>
</tr>
<tr>
<td>-v</td>
<td>æ˜¾ç¤ºåˆ›å»ºçš„è¯¦ç»†ä¿¡æ¯ï¼ˆåˆ›å»ºçš„è¿‡ç¨‹ï¼‰</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">make directory</span><br><span class="line"><span class="comment">## è¯­æ³•ï¼š</span></span><br><span class="line"><span class="built_in">mkdir</span> ç›®æ ‡ç›®å½•</span><br><span class="line"><span class="comment">#åŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">mkdir</span> /abc /123 /456  æ¯ä¸ªç›®å½•è¦æœ‰ç©ºæ ¼</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ›å»ºå±‚çº§ç›®å½•</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">mkdir</span> -p /abc/123/456 789  789æ˜¯åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºçš„</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½“è¦åˆ›å»ºçš„ç›®æ ‡ç›®å½•å·²ç»å­˜åœ¨æ—¶ ä¼šæŠ¥é”™</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">mkdir</span> a</span><br><span class="line"><span class="built_in">mkdir</span>: cannot create directory â€˜aâ€™: File exists</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŸ¥çœ‹åˆ›å»ºè¿‡ç¨‹</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">mkdir</span> -pv a/b/c     </span><br><span class="line"><span class="built_in">mkdir</span>: created directory â€˜a/bâ€™   å› ä¸ºaå·²ç»å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨åˆ™ä¼šæœ‰<span class="built_in">mkdir</span>: created directory â€˜aâ€™</span><br><span class="line"><span class="built_in">mkdir</span>: created directory â€˜a/b/câ€™</span><br><span class="line"></span><br><span class="line"><span class="comment">## ä¸èƒ½åœ¨æ–‡ä»¶ä¸‹é¢åˆ›å»ºç›®å½•</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">mkdir</span> /etc/passwd/123</span><br><span class="line"><span class="built_in">mkdir</span>: cannot create directory â€˜/etc/passwd/123â€™: Not a directory     // ä¸æ˜¯ä¸€ä¸ªç›®å½•</span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»ºå¤šä¸ªåºåˆ—ç›®å½•</span></span><br><span class="line">[root@lb01 ~]# <span class="built_in">mkdir</span> &#123;a..c&#125;</span><br><span class="line">[root@lb01 ~]# <span class="built_in">ls</span></span><br><span class="line">a  b  c</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŒ‡å®šç›®å½•ä¸‹åˆ›å»ºå¹³çº§ç›®å½•</span></span><br><span class="line">[root@lb01 ~]#  <span class="built_in">mkdir</span> /tmp/&#123;a,b,c,d&#125;åœ¨/tmpä¸‹åˆ›å»ºa,b,c,då››ä¸ªç›®å½•</span><br><span class="line"></span><br><span class="line"><span class="comment">#-pï¼šé€’å½’åˆ›å»ºç›®å½•ï¼Œæ²¡æŠ¥é”™ï¼ˆå¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œå°±åˆ›å»ºï¼Œç›®å½•å­˜åœ¨ï¼Œå°±ä¸æ‰§è¡Œå‘½ä»¤ï¼‰</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">mkdir</span> -p 111/&#123;2,3&#125;/abc	åˆ†åˆ«åœ¨111/2å’Œ111/3åˆ›å»ºabc</span><br><span class="line">ç›®å½•</span><br><span class="line"><span class="comment"># åˆ›å»ºç›®å½•ï¼š</span></span><br><span class="line">/tmp/a</span><br><span class="line">/tmp/b</span><br><span class="line">/tmp/1</span><br><span class="line">/tmp/2</span><br><span class="line">1.[root@www ~]# <span class="built_in">mkdir</span> &#123;/tmp/a,/tmp/b,/tmp/1,/tmp/2</span><br><span class="line"></span><br><span class="line">2.[root@www ~]# <span class="built_in">mkdir</span> /tmp/&#123;a,b,1,2&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="â‘¥-tr-æ›¿æ¢">â‘¥ tr æ›¿æ¢</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## tråªèƒ½æŒ‰ç…§å­—ç¬¦ ä¸€ä¸€å¯¹åº”å–æ›¿æ¢ï¼Œå¦‚æœå‡ºç°ç›¸åŒçš„å­—ç¬¦ï¼Œé‚£ä¹ˆåé¢çš„èµ‹å€¼ä¼šå°†å‰é¢çš„èµ‹å€¼è¦†ç›–</span></span><br><span class="line"><span class="built_in">tr</span> <span class="string">&#x27;è¢«æ›¿æ¢çš„å†…å®¹&#x27;</span> <span class="string">&#x27;æ›¿æ¢å†…å®¹&#x27;</span> &lt; æ–‡ä»¶å</span><br><span class="line">[root@localhost ~]# <span class="built_in">tr</span> <span class="string">&#x27;name&#x27;</span> <span class="string">&#x27;address&#x27;</span> &lt; 2.txt</span><br><span class="line">addr=10.0.0.100</span><br><span class="line">[root@localhost ~]# <span class="built_in">tr</span> <span class="string">&#x27;nameqws&#x27;</span> <span class="string">&#x27;address&#x27;</span> &lt; 2.txt</span><br><span class="line">address=10.0.0.100</span><br><span class="line"><span class="comment">## è¯­æ³•</span></span><br><span class="line">sed <span class="string">&#x27;s/è¢«æ›¿æ¢å†…å®¹/æ›¿æ¢å†…å®¹/g&#x27;</span> æ–‡ä»¶å</span><br><span class="line">[root@localhost ~]# sed <span class="string">&#x27;s///g&#x27;</span> 2.txt</span><br><span class="line">[root@localhost ~]# sed <span class="string">&#x27;s/name/address/g&#x27;</span> 2.txt</span><br><span class="line">address=10.0.0.100</span><br></pre></td></tr></table></figure>
<h3 id="4-æ–‡ä»¶å¤„ç†å‘½ä»¤">4.æ–‡ä»¶å¤„ç†å‘½ä»¤</h3>
<h4 id="â‘ -sort">â‘  sort</h4>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-k</td>
<td>æŒ‰ç…§æŒ‡å®šåˆ—è¿›è¡Œæ’åºï¼ˆé»˜è®¤ä»¥ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦ï¼‰</td>
</tr>
<tr>
<td>-t</td>
<td>æŒ‡å®šæ–‡ä»¶çš„åˆ†éš”ç¬¦</td>
</tr>
<tr>
<td>-n</td>
<td>ä»¥é˜¿æ‹‰ä¼¯æ•°å­—çš„å½¢å¼è¿›è¡Œæ’åº</td>
</tr>
<tr>
<td>-r</td>
<td>reverse å€’å™æ’åº</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line"><span class="built_in">sort</span> [é€‰é¡¹]... [æ–‡ä»¶]...</span><br><span class="line"><span class="comment">## æ’åº1.txtæ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">sort</span> 1.txt</span><br><span class="line">a:4</span><br><span class="line">b:3</span><br><span class="line">c:2</span><br><span class="line">d:1</span><br><span class="line">e:5</span><br><span class="line">f:11</span><br><span class="line">æ€»ç»“ï¼š</span><br><span class="line">1ï¼‰é»˜è®¤æƒ…å†µä¸‹ <span class="built_in">sort</span>æŒ‰ç…§æ–‡ä»¶æ¯ä¸€è¡Œçš„é¦–å­—æ¯è¿›è¡Œæ’åº</span><br><span class="line">2ï¼‰é»˜è®¤æƒ…å†µä¸‹ åœ¨<span class="built_in">sort</span>çœ¼é‡Œåˆ†éš”ç¬¦åªæœ‰ç©ºæ ¼</span><br><span class="line">3ï¼‰åœ¨<span class="built_in">sort</span>å‘½ä»¤ä¸­ï¼Œåˆ†éš”ç¬¦ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œä¸èƒ½ä¸ºç©º</span><br><span class="line"><span class="comment">## å¦‚æœç¬¬å››åˆ—é»˜è®¤ç›¸åŒï¼Œè¿˜å¯ä»¥åŠ ä¸€ä¸ª-k2å†ä»¥ç¬¬äºŒåˆ—æ’åº</span></span><br><span class="line"><span class="built_in">sort</span> -k2 -k4 11.txt</span><br></pre></td></tr></table></figure>
<h4 id="â‘¡-uniq-å»é‡">â‘¡ uniq å»é‡</h4>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c</td>
<td>ç»Ÿè®¡é‡å¤æ¬¡æ•°ï¼Œå¹¶æ˜¾ç¤º</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uniq</span> [é€‰é¡¹]... [æ–‡ä»¶]...</span><br><span class="line">å‰ææ¡ä»¶ï¼šé‡å¤è¡Œçš„å†…å®¹ï¼Œå¿…é¡»æŒ¨ç€ï¼Œå¦åˆ™æ— æ³•å»é‡</span><br><span class="line"><span class="comment">## æ— æ³•å»é‡</span></span><br><span class="line">abc</span><br><span class="line">123</span><br><span class="line">abc</span><br><span class="line">123</span><br><span class="line"><span class="comment">## å¯ä»¥å»é‡</span></span><br><span class="line">abc</span><br><span class="line">abc</span><br><span class="line">123</span><br><span class="line">123</span><br><span class="line"><span class="comment">## åªå»é‡</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> uniq.txt</span><br><span class="line">abc</span><br><span class="line">123</span><br><span class="line">abc</span><br><span class="line">123</span><br><span class="line">[root@localhost ~]# <span class="built_in">sort</span> uniq.txt |<span class="built_in">uniq</span></span><br><span class="line">123</span><br><span class="line">abc</span><br><span class="line"><span class="comment">## å»é‡å¹¶ç»Ÿè®¡é‡å¤æ¬¡æ•°</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">sort</span> uniq.txt|<span class="built_in">uniq</span> -c</span><br><span class="line">2 123</span><br><span class="line">2 abc</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="â‘¢-cut-æˆªå–">â‘¢ cut æˆªå–</h4>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-d</td>
<td>æŒ‡å®šåˆ†éš”ç¬¦</td>
</tr>
<tr>
<td>-f</td>
<td>æŒ‡å®šåŒºåŸŸ</td>
</tr>
<tr>
<td>-n</td>
<td>æŒ‡å®šè¡Œ</td>
</tr>
<tr>
<td>-c</td>
<td>æŒ‰ç…§å­—ç¬¦æˆªå–</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•</span></span><br><span class="line"><span class="built_in">cut</span> OPTION... [FILE]...</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# <span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f 6 4.txt  </span><br><span class="line"><span class="comment">#æˆªå–ä»¥ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦ï¼Œç¬¬6åˆ—å†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#-få¯ä»¥æˆªå–å¤šæ®µï¼Œ-f </span></span><br><span class="line">[root@lb01 ~]# ifconfig ens33|grep -w <span class="string">&#x27;inet&#x27;</span>|<span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f 10,13</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# <span class="built_in">cut</span> -c 9-10 4.txt</span><br><span class="line"><span class="comment">#æˆªå–ä»¥å­—ç¬¦æ¥ç®—ç¬¬9-10ä¸ºå†…å®¹ï¼ˆéœ€è¦æ•°å­—ç¬¦æ•°ï¼Œä¸å¥½ç”¨ï¼‰</span></span><br><span class="line">ä½¿ç”¨awkå‘½ä»¤æˆªå–ä½¿ç”¨ç¤ºä¾‹</span><br><span class="line">[root@lb02 ~]# ip a|awk -F <span class="string">&#x27;[ /]&#x27;</span> <span class="string">&#x27;NR==9&#123;print $6&#125;&#x27;</span></span><br><span class="line">10.0.0.6</span><br><span class="line">æ³¨æ„ï¼š</span><br><span class="line">1ï¼‰<span class="built_in">cut</span>é»˜è®¤æ²¡æœ‰åˆ†éš”ç¬¦ï¼Œå¿…é¡»æŒ‡å®š</span><br></pre></td></tr></table></figure>
<h4 id="â‘£-wc-ç»Ÿè®¡">â‘£ wc ç»Ÿè®¡</h4>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>line ç»Ÿè®¡è¡Œæ•°</td>
</tr>
<tr>
<td>-w</td>
<td>word ç»Ÿè®¡å•è¯æ•°é‡</td>
</tr>
<tr>
<td>-c</td>
<td>char ç»Ÿè®¡å­—ç¬¦æ•°é‡</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">wc</span> [option]... file...</span><br><span class="line"><span class="comment">## ç»Ÿè®¡æ–‡ä»¶çš„ è¡Œæ•° å•è¯æ•° å­—ç¬¦æ•°</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">wc</span> /etc/services</span><br><span class="line">11176 61033 670293 /etc/services</span><br><span class="line">[root@localhost ~]# <span class="built_in">wc</span> -l /etc/services</span><br><span class="line">11176 /etc/services</span><br><span class="line">[root@localhost ~]# <span class="built_in">wc</span> -w /etc/services</span><br><span class="line">61033 /etc/services</span><br><span class="line">[root@localhost ~]# <span class="built_in">wc</span> -c /etc/services</span><br><span class="line">670293 /etc/services</span><br><span class="line"><span class="comment">## éœ€è¦ç»Ÿè®¡çš„å†…å®¹ï¼Œä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œå·¦è¾¹æ˜¯ä¸€ä¸ªäººå‘½ä»¤è¾“å‡ºç»“æœå¯ä»¥éœ€è¦ä½¿ç”¨ç®¡é“ç¬¦</span></span><br><span class="line">[root@localhost ~]# ifconfig |<span class="built_in">wc</span> -w</span><br><span class="line">108</span><br><span class="line">[root@localhost ~]# ip a |<span class="built_in">wc</span> -w</span><br></pre></td></tr></table></figure>
<h4 id="â‘¤-wget-curl-ä¸‹è½½">â‘¤ wget &amp; curl ä¸‹è½½</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## ä¸‹è½½</span></span><br><span class="line">- O æŒ‡å®šä¸‹è½½è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ç»™ä¸‹è½½çš„æ”¹å</span><br><span class="line"></span><br><span class="line">wget å¯ä»¥ç”¨å¤–ç½‘ä¸‹è½½ä¸œè¥¿åˆ°æœåŠ¡å™¨ä¸­</span><br><span class="line">-bash: wget: <span class="built_in">command</span> not foundæ²¡æœ‰æ‰¾åˆ°wgetå‘½ä»¤</span><br><span class="line">[root@localhost ~]# yum install -y wget</span><br><span class="line">[root@localhost ~]# wget https://dldir1.qq.com/qqfile/qq/QQNT/Linux/QQ_3.2.7_240401_x86_64_01.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment">##æœåŠ¡å™¨ä¸Šä¼ ä¸‹è½½</span></span><br><span class="line">[root@localhost ~]# yum install -y lrzsz</span><br><span class="line"><span class="comment">## è™šæ‹Ÿæœºæ–‡ä»¶ä¸‹è½½åˆ°ç‰©ç†æœº</span></span><br><span class="line">[root@localhost ~]# sz w700d1q75cms.jpg</span><br><span class="line"><span class="comment">## ç‰©ç†æœºæ–‡ä»¶ä¸Šä¼ åˆ°è™šæ‹Ÿæœº</span></span><br><span class="line">[root@localhost ~]# rz</span><br><span class="line"></span><br><span class="line">curl -o é“¾æ¥ å¯ä»¥æŒ‡å®šä¸‹è½½è·¯å¾„ï¼Œè¿˜æœ‰å¯ä»¥ç»™ä¸‹è½½çš„æ–‡ä»¶æ”¹å</span><br></pre></td></tr></table></figure>
<h4 id="6-æ–‡ä»¶å±æ€§">6.æ–‡ä»¶å±æ€§</h4>
<table>
<thead>
<tr>
<th>æ–‡ä»¶å­—ç¬¦ç±»å‹</th>
<th>æ–‡ä»¶ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>file æ™®é€šæ–‡ä»¶</td>
</tr>
<tr>
<td>d</td>
<td>directory ç›®å½•</td>
</tr>
<tr>
<td>c</td>
<td>char å­—ç¬¦è®¾å¤‡</td>
</tr>
<tr>
<td>b</td>
<td>block å—è®¾å¤‡</td>
</tr>
<tr>
<td>l</td>
<td>link é“¾æ¥æ–‡ä»¶</td>
</tr>
<tr>
<td>s</td>
<td>socket å®‰å…¨ ï¼ˆå¥—æ¥å­—ï¼‰æ–‡ä»¶</td>
</tr>
<tr>
<td>p</td>
<td>pipe ç®¡é“æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–‡ä»¶ç±»å‹ æ–‡ä»¶æƒé™rï¼šread è¯» wï¼šwrite å†™ xï¼šexecuteæ‰§è¡Œ </span></span><br><span class="line">             ç¡¬é“¾æ¥æ•° æ‰€å±ç”¨æˆ· æ‰€å±ç”¨æˆ·ç»„ æ–‡ä»¶å¤§å°      æ—¶é—´        æ–‡ä»¶å</span><br><span class="line">- rw-r--r--.    1     root     root       289    Apr 7 16:40     11.txt</span><br><span class="line">d rwxr-xr-x.    4     root     root       41     Apr 3 18:04     zls</span><br><span class="line"><span class="comment">## æ–‡ä»¶ç±»å‹</span></span><br><span class="line">[root@localhost ~]# ll /dev/null -d</span><br><span class="line">crw-rw-rw-. 1 root root 1, 3 Apr 7 16:21 /dev/null</span><br><span class="line">[root@localhost ~]# ll /dev/sda1</span><br><span class="line">brw-rw----. 1 root disk 8, 1 Apr 7 16:21 /dev/sda1</span><br><span class="line">[root@localhost ~]# ll /run/systemd/initctl/fifo</span><br><span class="line">prw-------. 1 root root 0 Apr 7 16:21 /run/systemd/initctl/fifo</span><br><span class="line">[root@localhost ~]# ll /dev/log</span><br><span class="line">srw-rw-rw-. 1 root root 0 Apr 7 16:21 /dev/log</span><br><span class="line">[root@localhost ~]# ll -d zls/</span><br><span class="line">drwxr-xr-x. 4 root root 41 Apr 3 18:04 zls/</span><br><span class="line">[root@localhost ~]# ll</span><br><span class="line">-rw-r--r--. 1 root root 289 Apr 7 16:40 11.txt</span><br></pre></td></tr></table></figure>
<h5 id="â‘ -æŸ¥çœ‹æ–‡ä»¶ç±»å‹">â‘  æŸ¥çœ‹æ–‡ä»¶ç±»å‹</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ll *.jpg</span><br><span class="line">-rw-r--r--. 1 root root 20735 Mar 13 09:08 w700d1q75cms.jpg</span><br><span class="line">-rw-r--r--. 1 root root 4 Apr 7 19:50 zls.jpg</span><br><span class="line">[root@localhost ~]# file w700d1q75cms.jpg</span><br><span class="line">w700d1q75cms.jpg: JPEG image data, EXIF standard</span><br><span class="line">[root@localhost ~]# file zls.jpg</span><br><span class="line">zls.jpg: empty</span><br><span class="line">[root@localhost ~]# <span class="built_in">echo</span> 111 &gt; zls.jpg</span><br><span class="line">[root@localhost ~]# file zls.jpg</span><br><span class="line">zls.jpg: ASCII text</span><br><span class="line"><span class="comment">## æŸ¥çœ‹æ–‡ä»¶ç±»å‹</span></span><br><span class="line">[root@localhost ~]# file /dev/null</span><br><span class="line">/dev/null: character special</span><br><span class="line">[root@localhost ~]# file /dev/sda1</span><br><span class="line">/dev/sda1: block special</span><br><span class="line">[root@localhost ~]# file /run/systemd/initctl/fifo</span><br><span class="line">/run/systemd/initctl/fifo: fifo (named pipe)</span><br><span class="line">[root@localhost ~]# file /dev/log</span><br><span class="line">/dev/log: socket</span><br><span class="line">[root@localhost ~]# file /root/zls</span><br><span class="line">/root/zls: directory</span><br><span class="line"><span class="comment">##æ³¨æ„: Linuxæ–‡ä»¶æ‰©å±•åä¸ä»£è¡¨ä»»ä½•å«ä¹‰, ä»…ä»…æ˜¯ä¸ºäº†è¿ç»´äººå‘˜ä¾¿äºè¯†åˆ«</span></span><br></pre></td></tr></table></figure>
<h5 id="â‘¡-ç³»ç»Ÿé“¾æ¥æ–‡ä»¶">â‘¡ ç³»ç»Ÿé“¾æ¥æ–‡ä»¶</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">æ–‡ä»¶æœ‰æ–‡ä»¶åå’Œæ•°æ®ï¼Œåœ¨Linuxä¸Šè¢«åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼šç”¨æˆ·æ•°æ®(user data)ä¸å…ƒæ•°æ®(metadata)</span><br><span class="line"></span><br><span class="line">ç”¨æˆ·æ•°æ®ï¼šæ–‡ä»¶æ•°æ®å—(data block),æ•°æ®å—æ˜¯è®°å½•æ–‡ä»¶çœŸå®å†…å®¹çš„åœ°æ–¹ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸º#Block</span><br><span class="line">å…ƒæ•°æ®ï¼šæ–‡ä»¶çš„é™„åŠ å±æ€§ï¼Œä¾‹å¦‚ï¼šæ–‡ä»¶å¤§å°ï¼Œåˆ›å»ºæ—¶é—´ï¼Œå±ç»„ï¼Œå±ä¸»ç­‰ï¼Œæˆ‘ä»¬ç§°å…¶ä¸º#Inode</span><br><span class="line">åœ¨Linuxä¸­ï¼Œinodeæ˜¯æ–‡ä»¶å…ƒæ•°æ®çš„ä¸€éƒ¨åˆ†ï¼Œä½†å…¶å¹¶ä¸åŒ…å«æ–‡ä»¶åï¼Œinodeå·å³ç´¢å¼•èŠ‚ç‚¹å·</span><br><span class="line">æ–‡ä»¶åä»…æ˜¯ä¸ºäº†æ–¹ä¾¿äººä»¬çš„è®°å¿†å’Œä½¿ç”¨ï¼Œç³»ç»Ÿæˆ–è€…ç¨‹åºé€šè¿‡inodeå·å¯»æ‰¾æ­£ç¡®çš„æ–‡ä»¶æ•°æ®å—ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">#inodeæè¿°</span></span><br><span class="line">åœ¨Linuxä¸­ï¼Œinodeï¼ˆç´¢å¼•èŠ‚ç‚¹ï¼‰æ˜¯æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨æ–‡ä»¶æˆ–ç›®å½•çš„å…ƒæ•°æ®ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç±»å‹ã€æƒé™ã€æ‰€æœ‰è€…ã€å¤§å°ã€æ•°æ®å—çš„ä½ç½®ç­‰ã€‚å®ƒé€šè¿‡ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦æ¥æ ‡è¯†æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¹¶ä¸”åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­å…·æœ‰å›ºå®šçš„ä½ç½®ã€‚ç®€è€Œè¨€ä¹‹ï¼Œinodeæ˜¯æ–‡ä»¶ç³»ç»Ÿä¸­ç”¨äºæè¿°æ–‡ä»¶æˆ–ç›®å½•å±æ€§çš„æ•°æ®ç»“æ„ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">#å…ƒæ•°æ®ï¼šç”¨æ¥æè¿°æ•°æ®çš„æ•°æ®</span></span><br><span class="line"><span class="comment">#çœŸå®æ•°æ®ï¼šç”¨æˆ·äº§ç”Ÿçš„æ•°æ®ï¼ˆæ–‡ä»¶å†…å®¹ï¼‰</span></span><br><span class="line"><span class="comment">#inode:ç”¨äºå­˜å‚¨æ–‡ä»¶æˆ–ç›®å½•å…ƒæ•°æ®ä¿¡æ¯çš„æ•°æ®ç»“æ„ã€‚</span></span><br><span class="line"><span class="comment">#block:ç”¨äºå­˜æ”¾ç”¨æˆ·çœŸå®æ•°æ®çš„éƒ¨åˆ†</span></span><br><span class="line"><span class="built_in">cat</span> 1.txt</span><br><span class="line">aaa</span><br><span class="line">-rw-r--r--. 1 root root   583919 Oct 29 02:33 1.txt  &gt;&gt;==å…ƒæ•°æ®inode</span><br><span class="line">aaa çœŸå®æ•°æ®   Block</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="â‘¢-æ–‡ä»¶è¯»å–æµç¨‹">â‘¢ æ–‡ä»¶è¯»å–æµç¨‹</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240407164513997.png" alt="image-20240407164513997"></p>
<h5 id="â‘£-blockä»‹ç»">â‘£ blockä»‹ç»</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240407164729805.png" alt="image-20240407164729805"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">blocké»˜è®¤å¤§å°ä¸º4k</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç£ç›˜å­˜å‚¨æ•°æ®ä¼šè¢«åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</span></span><br><span class="line">ä¸€éƒ¨åˆ†å­˜å‚¨å…ƒæ•°æ®ï¼Œå­˜å‚¨å…ƒæ•°æ®çš„éƒ¨åˆ†å«åšinodeï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„inodeå·ï¼Œè¿™ä¸ªinodeå·å¯ä»¥ç†è§£ä¸ºæ–‡ä»¶å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„æˆ¿é—´å·</span><br><span class="line">ä¸€éƒ¨åˆ†å­˜å‚¨çœŸå®æ•°æ®ï¼Œå­˜å‚¨çœŸå®æ•°æ®çš„éƒ¨åˆ†å«åšblockï¼Œä¸€ä¸ªblocké»˜è®¤æ˜¯4k</span><br><span class="line"></span><br><span class="line"><span class="comment">#  å¦‚ä¸Šå›¾ï¼Œå½“å­˜æ”¾çš„ä¸€ä¸ªblockä¸è¶³4kæ—¶ï¼Œå†æ¬¡å­˜æ–°æ–‡ä»¶ä¸ä¼šå ç”¨ä¸Šæ¬¡ä¸è¶³4kçš„block</span></span><br></pre></td></tr></table></figure>
<h5 id="â‘¤-è½¯é“¾æ¥">â‘¤ è½¯é“¾æ¥</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## è½¯é“¾æ¥çš„åˆ›å»ºæ–¹å¼ lnï¼ˆlinkï¼‰</span></span><br><span class="line">è½¯é“¾æ¥ ==&gt; ç¬¦å·é“¾æ¥</span><br><span class="line">soft_link symbolic <span class="built_in">link</span></span><br><span class="line"><span class="built_in">ln</span> -s æºæ–‡ä»¶ï¼ˆè¦ç»™è°åˆ›å»ºå¿«æ·æ–¹å¼ï¼‰ ç›®æ ‡æ–‡ä»¶ï¼ˆå¿«æ·æ–¹å¼çš„ä½ç½®ï¼‰</span><br><span class="line">[root@localhost ~]# ll -i zls111 1.txt</span><br><span class="line">16803484 -rw-r--r--. 1 root root 279 Apr 7 17:55 1.txt</span><br><span class="line">16799371 lrwxrwxrwx. 1 root root 11 Apr 7 22:34 zls111 -&gt; /root/1.txt</span><br><span class="line">[root@localhost ~]# <span class="built_in">ln</span> -s /root/1.txt /opt</span><br><span class="line">æ€»ç»“ï¼š</span><br><span class="line">1ï¼‰åˆ›å»ºè½¯é“¾æ¥æ—¶ï¼Œç›´æ¥æ¥ä¸€ä¸ªå·²å­˜åœ¨çš„ç›®å½•ï¼Œä»¥æºæ–‡ä»¶åå­—æ¥å‘½åæ–°çš„æ–‡ä»¶ååˆ›å»ºåˆ°æŒ‡å®šç›®å½•ä¸‹</span><br><span class="line">2ï¼‰åˆ›å»ºè½¯é“¾æ¥æ—¶ï¼ŒæŒ‡å®šä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè½¯é“¾æ¥å¹¶æ”¹å</span><br><span class="line">2ï¼‰åˆ›å»ºè½¯é“¾æ¥æ—¶ï¼ŒæŒ‡å®šä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¦‚æœè¯¥æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™æŠ¥é”™ï¼Œæ— æ³•åˆ›å»º</span><br><span class="line">[root@localhost ~]# <span class="built_in">ln</span> -s /root/1.txt /tmp/1.txt</span><br><span class="line"><span class="built_in">ln</span>: failed to create symbolic <span class="built_in">link</span> â€˜/tmp/1.txtâ€™: File exists</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="â‘¥-ç¡¬é“¾æ¥">â‘¥ ç¡¬é“¾æ¥</h5>
<p>è‹¥ä¸€ä¸ª inode å·å¯¹åº”å¤šä¸ªæ–‡ä»¶åï¼Œåˆ™ç§°è¿™äº›æ–‡ä»¶ä¸ºç¡¬é“¾æ¥ã€‚æ¢å¥è¯è¯´ï¼Œç¡¬é“¾æ¥å°±æ˜¯åŒä¸€ä¸ªæ–‡ä»¶ä½¿ç”¨äº†å¤š ä¸ªåˆ«åï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º hard link å°±æ˜¯fileçš„ä¸€ä¸ªåˆ«åï¼Œä»–ä»¬æœ‰å…±åŒçš„ inode</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## åˆ›å»ºç¡¬é“¾æ¥æ–¹å¼</span></span><br><span class="line"><span class="built_in">ln</span> æºæ–‡ä»¶ï¼ˆè¦ç»™è°åˆ›å»ºç¡¬é“¾æ¥ï¼‰ ç›®æ ‡æ–‡ä»¶ï¼ˆç¡¬é“¾æ¥çš„ä½ç½®ï¼‰</span><br><span class="line">[root@localhost ~]# ll -i</span><br><span class="line">total 24</span><br><span class="line">16797812 lrwxrwxrwx. 1 root root 11 Apr 7 23:35 123 -&gt; /root/1.txt</span><br><span class="line">16797823 -rw-r--r--. 6 root root 4 Apr 7 23:37 1.txt</span><br><span class="line">16797823 -rw-r--r--. 6 root root 4 Apr 7 23:37 abc</span><br><span class="line">16797823 -rw-r--r--. 6 root root 4 Apr 7 23:37 abc1</span><br><span class="line">16797823 -rw-r--r--. 6 root root 4 Apr 7 23:37 abc2</span><br><span class="line">16797823 -rw-r--r--. 6 root root 4 Apr 7 23:37 abc3</span><br><span class="line">16797823 -rw-r--r--. 6 root root 4 Apr 7 23:37 abc4</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240407201426083.png" alt="image-20240407201426083"></p>
<h5 id="â‘¦-è½¯ç¡¬é“¾æ¥åŒºåˆ«">â‘¦ è½¯ç¡¬é“¾æ¥åŒºåˆ«</h5>
<table>
<thead>
<tr>
<th>åŒºåˆ«</th>
<th>ç¡¬é“¾æ¥</th>
<th>è½¯é“¾æ¥</th>
</tr>
</thead>
<tbody>
<tr>
<td>å‘½ä»¤</td>
<td>ln</td>
<td>ln -s</td>
</tr>
<tr>
<td>inode</td>
<td>å’Œæºæ–‡ä»¶inodeå·ç›¸åŒ</td>
<td>å’Œæºæ–‡ä»¶inodeå·ä¸åŒ</td>
</tr>
<tr>
<td>æºæ–‡ä»¶</td>
<td>åˆ é™¤æºæ–‡ä»¶ä¸å½±å“é“¾æ¥æ–‡ä»¶</td>
<td>åˆ é™¤æºæ–‡ä»¶å½±å“é“¾æ¥æ–‡ä»¶</td>
</tr>
<tr>
<td>è·¨åˆ†åŒºåˆ›å»º</td>
<td>ä¸èƒ½</td>
<td>å¯ä»¥</td>
</tr>
<tr>
<td>ç›®å½•åˆ›å»º</td>
<td>ä¸èƒ½</td>
<td>å¯ä»¥</td>
</tr>
<tr>
<td>æ–‡ä»¶ç±»å‹</td>
<td>æ™®é€šæ–‡ä»¶</td>
<td>l é“¾æ¥æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ç£ç›˜å‘½ä»¤</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">df</span></span><br><span class="line">Filesystem 1K-blocks Used Available Use% Mounted on</span><br><span class="line">/dev/sda3 8913920 1609880 7304040 19% /</span><br><span class="line">devtmpfs 487048 0 487048 0% /dev</span><br><span class="line">tmpfs 497948 0 497948 0% /dev/shm</span><br><span class="line">tmpfs 497948 7748 490200 2% /run</span><br><span class="line">tmpfs 497948 0 497948 0% /sys/fs/cgroup</span><br><span class="line">/dev/sda1 508580 122216 386364 25% /boot</span><br><span class="line">tmpfs 99592 0 99592 0% /run/user/0</span><br><span class="line"><span class="comment"># -hä»¥äººç±»å¯è¯»çš„æ–¹å¼æ˜¾ç¤ºï¼Œç£ç›˜å¤§å°åŠ ä¸Šäº†å•ä½</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">df</span> -h</span><br><span class="line">Filesystem Size Used Avail Use% Mounted on</span><br><span class="line">/dev/sda3 8.6G 1.6G 7.0G 19% /</span><br><span class="line">devtmpfs 476M 0 476M 0% /dev</span><br><span class="line">tmpfs 487M 0 487M 0% /dev/shm</span><br><span class="line">tmpfs 487M 7.6M 479M 2% /run</span><br><span class="line">tmpfs 487M 0 487M 0% /sys/fs/cgroup</span><br><span class="line">/dev/sda1 497M 120M 378M 25% /boot</span><br><span class="line">tmpfs 98M 0 98M 0% /run/user/0</span><br><span class="line"><span class="comment"># -i æŸ¥çœ‹inodeå¯ç”¨ç©ºé—´</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">df</span> -i</span><br><span class="line">Filesystem Inodes IUsed IFree IUse% Mounted on</span><br><span class="line">/dev/sda3 4462080 34791 4427289 1% /</span><br><span class="line">devtmpfs 121762 380 121382 1% /dev</span><br><span class="line">tmpfs 124487 1 124486 1% /dev/shm</span><br><span class="line">tmpfs 124487 699 123788 1% /run</span><br><span class="line">tmpfs 124487 16 124471 1% /sys/fs/cgroup</span><br><span class="line">/dev/sda1 256000 326 255674 1% /boot</span><br><span class="line">tmpfs 124487 1 124486 1% /run/user/0</span><br><span class="line">[root@localhost ~]# <span class="built_in">df</span> -ih</span><br><span class="line">Filesystem Inodes IUsed IFree IUse% Mounted on</span><br><span class="line">/dev/sda3 4.3M 34K 4.3M 1% /</span><br><span class="line">devtmpfs 119K 380 119K 1% /dev</span><br><span class="line">tmpfs 122K 1 122K 1% /dev/shm</span><br><span class="line">tmpfs 122K 699 121K 1% /run</span><br><span class="line">tmpfs 122K 16 122K 1% /sys/fs/cgroup</span><br><span class="line">/dev/sda1 250K 326 250K 1% /boot</span><br><span class="line">tmpfs 122K 1 122K 1% /run/user/0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CentOS 6ï¼šé»˜è®¤ä½¿ç”¨çš„æ˜¯ext4çš„æ–‡ä»¶ç³»ç»Ÿ13ã€‚</span><br><span class="line">CentOS 7ï¼šé»˜è®¤ä½¿ç”¨çš„æ˜¯xfsï¼ˆeXtended File Systemï¼‰æ–‡ä»¶ç³»ç»Ÿç±»å‹</span><br></pre></td></tr></table></figure>
<p>å½“å‰ç£ç›˜ç©ºé—´è¿˜å‰©ä½™500Gï¼Œä½†æ˜¯å°±æ— æ³•å¾€é‡Œé¢å†™å…¥æ•°æ®ï¼ŒæŠ¥é”™ï¼Œç£ç›˜ç©ºé—´æ»¡äº†ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.inodeå·å‚¨å­˜ç£ç›˜ç©ºé—´ä¸è¶³</span><br><span class="line">2.blockå‚¨å­˜ç”¨æˆ·çœŸå®æ•°æ®ç£ç›˜ç©ºé—´ä¸è¶³</span><br></pre></td></tr></table></figure>
<h3 id="3-vimç¼–è¾‘å™¨">3.vimç¼–è¾‘å™¨</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi å’Œ vim å‘½ä»¤æ˜¯linuxä¸­å¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å™¨, ç”±äºLinuxç³»ç»Ÿä¸€åˆ‡çš†æ–‡ä»¶ï¼Œè€Œé…ç½®ä¸€ä¸ªæœåŠ¡å°±æ˜¯åœ¨ä¿®æ”¹å…¶</span><br><span class="line">é…ç½®æ–‡ä»¶çš„å‚æ•°ã€‚</span><br><span class="line">vim ç¼–è¾‘å™¨æ˜¯è¿ç»´å·¥ç¨‹å¸ˆå¿…é¡»æŒæ¡çš„ä¸€ä¸ªå·¥å…·, æ²¡æœ‰å®ƒå¾ˆå¤šå·¥ä½œéƒ½æ— æ³•å®Œæˆã€‚</span><br><span class="line">vim å…¶å®æ˜¯ vi çš„å‡çº§ç‰ˆ</span><br></pre></td></tr></table></figure>
<p><strong>vimä¸‰ç§å·¥ä½œæ¨¡å¼</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vimç¼–è¾‘å™¨ä¸­è®¾ç½®äº†ä¸‰ç§æ¨¡å¼: å‘½ä»¤æ¨¡å¼ã€ç¼–è¾‘æ¨¡å¼ã€æœ«è¡Œæ¨¡å¼ï¼Œæ¯ç§æ¨¡å¼åˆ†åˆ«åˆæ”¯æŒå¤šç§ä¸åŒçš„å‘½ä»¤å¿«æ·é”®ï¼Œå¤§å¤§æé«˜äº†å·¥ä½œæ•ˆç‡ï¼Œè€Œä¸”ç”¨æˆ·åœ¨ä¹ æƒ¯ä¹‹åä¹Ÿä¼šè§‰å¾—ç›¸å½“é¡ºæ‰‹ã€‚è¦æƒ³é«˜æ•ˆç‡åœ°æ“ä½œæ–‡æœ¬ï¼Œå°±å¿…é¡»å…ˆææ¸…è¿™ä¸‰ç§æ¨¡å¼çš„æ“ä½œåŒºåˆ«ä»¥åŠæ¨¡å¼ä¹‹é—´çš„åˆ‡æ¢æ–¹æ³•ã€‚</span><br></pre></td></tr></table></figure>
<h4 id="1-å‘½ä»¤æ¨¡å¼">1.å‘½ä»¤æ¨¡å¼</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è¿›è¡Œå¿«æ·é”®æ“ä½œ</span></span><br><span class="line"><span class="comment">##å…‰æ ‡çš„è·³è½¬</span></span><br><span class="line">Shift + g |G    //å°†å…‰æ ‡è·³è½¬åˆ°æ–‡ä»¶æœ€åä¸€è¡Œ</span><br><span class="line">gg              //å°†å…‰æ ‡è·³è½¬åˆ°æ–‡ä»¶çš„ç¬¬ä¸€è¡Œ</span><br><span class="line">Ngg			   //å°†å…‰æ ‡è·³è½¬åˆ°æŒ‡å®šè¡Œ(Nä¸ºé˜¿æ‹‰ä¼¯æ•°å­—)</span><br><span class="line">Shift +4 |$	    //å°†å…‰æ ‡è·³è½¬åˆ°å½“å‰æ‰€åœ¨è¡Œçš„è¡Œæœ«</span><br><span class="line">Shift +6 |^  |0 // å°†å…‰æ ‡è·³è½¬åˆ°å½“å‰æ‰€åœ¨è¡Œçš„è¡Œé¦–</span><br><span class="line"><span class="comment">## å¤åˆ¶ç²˜è´´</span></span><br><span class="line">yy			   //å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œçš„æ•´è¡Œå†…å®¹</span><br><span class="line">p(å°å†™p)		  //å°†å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹ä¸€è¡Œ</span><br><span class="line">P(å¤§å†™P)		  //å°†å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸Šä¸€è¡Œ</span><br><span class="line">Nyy | yNy	    //å°†å…‰æ ‡æ‰€åœ¨è¡Œæ•´è¡Œå†…å®¹åŠä¸‹é¢N-1è¡Œå†…å®¹å¤åˆ¶(Nä¸ºé˜¿æ‹‰ä¼¯æ•°å­—)</span><br><span class="line"><span class="comment">## å‰ªåˆ‡åˆ é™¤</span></span><br><span class="line"><span class="built_in">dd</span>			   // å°†å…‰æ ‡æ‰€åœ¨è¡Œä¸€æ•´è¡Œå†…å®¹ï¼Œå‰ªåˆ‡(åˆ é™¤)</span><br><span class="line">Ndd | dNd	    //å°†å…‰æ ‡æ‰€åœ¨è¡ŒåŠä¸‹é¢N-1è¡Œå†…å®¹å‰ªåˆ‡(Nä¸ºé˜¿æ‹‰ä¼¯æ•°å­—)</span><br><span class="line">Shift + d|D		// å°†å…‰æ ‡æ‰€åœ¨å­—ç¬¦åŠåé¢æ•´è¡Œå†…å®¹å‰ªåˆ‡(åˆ é™¤)</span><br><span class="line">x			   // åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨å­—ç¬¦</span><br><span class="line">Shift +x|X	    //å°†å…‰æ ‡æ‰€åœ¨å½“å‰å­—ç¬¦çš„å‰ä¸€ä¸ªå­—ç¬¦åˆ é™¤</span><br><span class="line">d+<span class="built_in">shift</span> +g|dG  //å°†å…‰æ ‡æ‰€åœ¨è¡ŒåŠåé¢æ‰€æœ‰è¡Œå†…å®¹åˆ é™¤</span><br><span class="line"><span class="comment">## æ’¤é”€å›æ»šæ›¿æ¢</span></span><br><span class="line">U		        // æ’¤é”€ä¸Šä¸€æ¬¡æ“ä½œ		</span><br><span class="line">Ctrl + r		//æ¢å¤ä¸Šä¸€æ¬¡æ’¤é”€çš„æ“ä½œ</span><br><span class="line">r				// æ›¿æ¢å…‰æ ‡å½“å‰æ‰€åœ¨çš„ä¸€ä¸ªå­—ç¬¦</span><br><span class="line">Shift +r |R		//ä»å…‰æ ‡æ‰€åœ¨å­—ç¬¦å¼€å§‹è¿›è¡Œæ›¿æ¢ç›´åˆ°æŒ‰ESCç»“æŸ</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## ç¿»é¡µ</span></span><br><span class="line">Ctrl + b // å‘å‰ç¿»é¡µ</span><br><span class="line">Ctrl + f // å‘åç¿»é¡µ</span><br></pre></td></tr></table></figure>
<h4 id="2-ç¼–è¾‘æ¨¡å¼">2.ç¼–è¾‘æ¨¡å¼</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-- INSERT --</span><br><span class="line">åƒæ­£å¸¸çš„Windowsæ–‡æœ¬ç¼–è¾‘å™¨ä¸€æ ·ï¼Œå¯ä»¥éšæ„å†™å…¥å†…å®¹</span><br><span class="line"><span class="comment">## ä»å‘½ä»¤æ¨¡å¼å¦‚ä½•è¿›å…¥ç¼–è¾‘æ¨¡å¼</span></span><br><span class="line">i 			// åœ¨å…‰æ ‡æ‰€åœ¨ä½ç½®è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼ˆè¾“å…¥å†…å®¹åœ¨å…‰æ ‡ä¹‹å‰ï¼‰</span><br><span class="line">I 			// å°†å…‰æ ‡è·³è½¬åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œé¦–å¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼ˆè¾“å…¥å†…å®¹åœ¨å…‰æ ‡ä¹‹å‰ï¼‰</span><br><span class="line">a 			// å°†å…‰æ ‡è·³è½¬åˆ°å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„åä¸€ä¸ªå­—ç¬¦å¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼ˆè¾“å…¥å†…å®¹åœ¨å…‰æ ‡ä¹‹å‰ï¼‰</span><br><span class="line">A 			// å°†å…‰æ ‡è·³è½¬åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œæœ«å¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼ˆè¾“å…¥å†…å®¹åœ¨å…‰æ ‡ä¹‹å‰ï¼‰</span><br><span class="line">s 			// å°†å…‰æ ‡æ‰€åœ¨å­—ç¬¦åˆ é™¤å¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼ˆè¾“å…¥å†…å®¹åœ¨å…‰æ ‡ä¹‹å‰ï¼‰</span><br><span class="line">S 			// å°†å…‰æ ‡æ‰€åœ¨è¡Œçš„æ•´è¡Œå†…å®¹åˆ é™¤å¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼</span><br><span class="line">o 			// å°†å…‰æ ‡ç§»åŠ¨åˆ°å½“å‰æ‰€åœ¨è¡Œçš„ä¸‹ä¸€è¡Œå¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼</span><br><span class="line">O 			// å°†å…‰æ ‡ç§»åŠ¨åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸Šä¸€è¡Œå¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼</span><br><span class="line"><span class="comment">## ä»ç¼–è¾‘æ¨¡å¼è¿”å›å‘½ä»¤æ¨¡å¼</span></span><br><span class="line">ESC</span><br></pre></td></tr></table></figure>
<h4 id="3-æœ«è¡Œæ¨¡å¼">3.æœ«è¡Œæ¨¡å¼</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨ç¼–è¾‘å™¨çš„å·¦ä¸‹è§’è¿›è¡Œæ“ä½œ</span></span><br><span class="line">æ˜¾ç¤ºè¡Œå·ã€æœç´¢ã€æ›¿æ¢ã€ä¿å­˜ã€é€€å‡º ...</span><br><span class="line"><span class="comment"># è¿›å…¥æœ«è¡Œæ¨¡å¼çš„æ–¹æ³•</span></span><br><span class="line">1ï¼‰åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œè¾“å…¥å†’å·</span><br><span class="line">2ï¼‰åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œè¾“å…¥/</span><br><span class="line"><span class="comment">## ä¿å­˜é€€å‡º</span></span><br><span class="line">wï¼šwriteå†™å…¥ï¼ˆä¿å­˜</span><br><span class="line">qï¼šquité€€å‡º</span><br><span class="line">:w // åªä¿å­˜ä½†æ˜¯ä¸é€€å‡º</span><br><span class="line">:q // é€€å‡ºä½†ä¸ä¿å­˜ ï¼ˆæ²¡æœ‰æ”¹å†…å®¹ï¼‰</span><br><span class="line">:wq // ä¿å­˜é€€å‡º å¿«æ·é”® Shift + zz | ZZ</span><br><span class="line">:x // ä¿å­˜é€€å‡º å’Œ:wqç›¸ç­‰</span><br><span class="line">:q! // å¼ºåˆ¶é€€å‡º</span><br><span class="line">:w! // å¼ºåˆ¶ä¿å­˜</span><br><span class="line">:wq! // å¼ºåˆ¶ä¿å­˜å¹¶é€€å‡º</span><br><span class="line"><span class="comment">########### é”™è¯¯ ###########</span></span><br><span class="line">:qw // é”™è¯¯å†™æ³•ï¼Œå…ˆé€€å‡ºåä¿å­˜</span><br><span class="line">E37: No write since last change (add ! to override) // æ–‡ä»¶å†™å…¥å†…å®¹ï¼Œæ²¡æœ‰ä¿å­˜ï¼Œæ— æ³•ç›´æ¥é€€å‡ºï¼Œé™¤éå¼ºåˆ¶é€€å‡º</span><br><span class="line">E45: <span class="string">&#x27;readonly&#x27;</span> option is <span class="built_in">set</span> (add ! to override) // åªè¯»æ–‡ä»¶ï¼Œæ— æ³•ä¿å­˜é€€å‡ºï¼Œåªæœ‰rootç”¨æˆ·å¯ä»¥å¼ºåˆ¶ä¿å­˜é€€å‡º</span><br><span class="line">E212: Unable to open and write files // æ–‡ä»¶æ— æ³•å†™å…¥</span><br><span class="line">E212: Can<span class="string">&#x27;t open file for writing // æ–‡ä»¶æ— æ³•å†™å…¥ï¼Œå‡ºç°åŸå› ï¼š1.æ²¡æœ‰å†™å…¥æƒé™2.æ–‡ä»¶å†™å…¥åˆ°ä¸€ä¸ªä¸å­˜åœ¨çš„ç›®å½•ä¸­</span></span><br></pre></td></tr></table></figure>
<p><strong>==æœ«è¡Œæ¨¡å¼â€”æœç´¢==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/æƒ³è¦æœç´¢çš„å†…å®¹</span><br><span class="line">nï¼šä¸‹ç¿»ï¼ŒæŸ¥æ‰¾ä¸‹ä¸€ä¸ª</span><br><span class="line">Nï¼šä¸Šç¿»ï¼ŒæŸ¥æ‰¾ä¸Šä¸€ä¸ª</span><br></pre></td></tr></table></figure>
<p><strong>==æœ«è¡Œæ¨¡å¼â€”æ›¿æ¢==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">:%s#è¦è¢«æ›¿æ¢çš„å†…å®¹#æ›¿æ¢çš„å†…å®¹#g</span><br><span class="line">%ï¼šæ‰€æœ‰è¡Œ</span><br><span class="line">sï¼šsearch æœç´¢</span><br><span class="line">gï¼šå…¨å±€æ›¿æ¢</span><br></pre></td></tr></table></figure>
<p><strong>==æœ«è¡Œæ¨¡å¼â€”å…‰æ ‡è·³è½¬åŠå‘½ä»¤==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æ˜¾ç¤ºè¡Œå·</span></span><br><span class="line">:<span class="built_in">set</span> number ç®€å†™ :<span class="built_in">set</span> nu</span><br><span class="line"><span class="comment">## å–æ¶ˆæ˜¾ç¤ºè¡Œå·</span></span><br><span class="line">:<span class="built_in">set</span> nonumber ç®€å†™ :<span class="built_in">set</span> nonu</span><br><span class="line"><span class="comment">## å…‰æ ‡è·³è½¬åˆ°æŒ‡å®šè¡Œ</span></span><br><span class="line">:N (Nä¸ºé˜¿æ‹‰ä¼¯æ•°å­—)</span><br><span class="line"><span class="comment">## å¿½ç•¥å¤§å°å†™</span></span><br><span class="line">:<span class="built_in">set</span> ic</span><br><span class="line"><span class="comment">## å–æ¶ˆå¿½ç•¥å¤§å°å†™</span></span><br><span class="line">:<span class="built_in">set</span> noic</span><br><span class="line"><span class="comment">## è‡ªåŠ¨ç¼©è¿›</span></span><br><span class="line">:<span class="built_in">set</span> ai</span><br><span class="line"><span class="comment">## å–æ¶ˆè‡ªåŠ¨ç¼©è¿›</span></span><br><span class="line">:<span class="built_in">set</span> noai</span><br><span class="line"><span class="comment">## æ˜¾ç¤ºåˆ¶è¡¨ç¬¦ï¼Œç»“æŸç¬¦...</span></span><br><span class="line">:<span class="built_in">set</span> list</span><br><span class="line"><span class="comment">## å–æ¶ˆ</span></span><br><span class="line">:<span class="built_in">set</span> nolist</span><br><span class="line"><span class="comment">## è®¾ç½®ç¯å¢ƒå˜é‡ åœ¨å½“å‰ç™»å½•ç”¨æˆ·çš„å®¶ç›®å½•ä¸‹ åˆ›å»ºä¸€ä¸ª .vimrc</span></span><br><span class="line"><span class="built_in">set</span> fenc=utf-8</span><br><span class="line"><span class="built_in">set</span> fencs=utf-8,usc-bom,euc-jp,gb18030,gbk,gb2312,cp936</span><br><span class="line"><span class="built_in">set</span> number</span><br><span class="line"><span class="built_in">set</span> autoindent</span><br><span class="line"><span class="built_in">set</span> smartindent</span><br><span class="line"><span class="built_in">set</span> tabstop=4</span><br><span class="line"><span class="built_in">set</span> shiftwidth=4</span><br><span class="line"><span class="built_in">set</span> ruler</span><br><span class="line"><span class="built_in">set</span> incsearch</span><br><span class="line"><span class="built_in">set</span> showmatch</span><br><span class="line"><span class="built_in">set</span> matchtime=10</span><br><span class="line"><span class="built_in">set</span> ignorecase</span><br><span class="line"><span class="built_in">set</span> cursorline</span><br><span class="line"><span class="built_in">set</span> t_Co=256</span><br><span class="line"><span class="comment">#è®¾å®šé»˜è®¤è§£ç </span></span><br><span class="line"><span class="built_in">set</span>?fenc=utf-8?</span><br><span class="line"><span class="built_in">set</span>?fencs=utf-8,usc-bom,euc-jp,gb18030,gbk,gb2312,cp936</span><br><span class="line"><span class="comment">#æ˜¾ç¤ºè¡Œå·</span></span><br><span class="line"><span class="built_in">set</span> number</span><br><span class="line"><span class="comment">#vimä½¿ç”¨è‡ªåŠ¨å¯¹é½ï¼Œä¹Ÿå°±æ˜¯æŠŠå½“å‰è¡Œçš„å¯¹é½æ ¼å¼åº”ç”¨åˆ°ä¸‹ä¸€è¡Œ</span></span><br><span class="line"><span class="built_in">set</span> autoindent </span><br><span class="line"><span class="comment">#ä¾æ®ä¸Šé¢çš„å¯¹é½æ ¼å¼ï¼Œæ™ºèƒ½çš„é€‰æ‹©å¯¹é½æ–¹å¼</span></span><br><span class="line"><span class="built_in">set</span> smartindent </span><br><span class="line"><span class="comment">#è®¾ç½®tabé”®ä¸º4ä¸ªç©ºæ ¼</span></span><br><span class="line"><span class="built_in">set</span> tabstop=4</span><br><span class="line"><span class="comment">#è®¾ç½®å½“è¡Œä¹‹é—´äº¤é”™æ—¶ä½¿ç”¨4ä¸ªç©ºæ ¼</span></span><br><span class="line"><span class="built_in">set</span> shiftwidth=4</span><br><span class="line"><span class="comment">#è®¾ç½®åœ¨ç¼–è¾‘è¿‡ç¨‹ä¸­,äºå³ä¸‹è§’æ˜¾ç¤ºå…‰æ ‡ä½ç½®çš„çŠ¶æ€è¡Œ</span></span><br><span class="line"><span class="built_in">set</span> ruler</span><br><span class="line"><span class="comment">#è®¾ç½®å¢é‡æœç´¢,è¿™æ ·çš„æŸ¥è¯¢æ¯”è¾ƒsmart</span></span><br><span class="line"><span class="built_in">set</span> incsearch </span><br><span class="line"><span class="comment">#é«˜äº®æ˜¾ç¤ºåŒ¹é…çš„æ‹¬å·</span></span><br><span class="line"><span class="built_in">set</span> showmatch </span><br><span class="line"><span class="comment">#åŒ¹é…æ‹¬å·é«˜äº®æ—¶é—´(å•ä½ä¸º 1/10 s)</span></span><br><span class="line"><span class="built_in">set</span> matchtime=10 </span><br><span class="line"><span class="comment">#åœ¨æœç´¢çš„æ—¶å€™å¿½ç•¥å¤§å°å†™</span></span><br><span class="line"><span class="built_in">set</span> ignorecase </span><br><span class="line"><span class="comment">#ç¦æ­¢ç”Ÿæˆä¸´æ—¶</span></span><br><span class="line"><span class="comment">#set nobackup </span></span><br><span class="line"><span class="comment">#å½“å‰è¡Œé«˜äº®</span></span><br><span class="line"><span class="built_in">set</span> cursorline </span><br><span class="line"><span class="comment">#æ”¯æŒ256è‰²</span></span><br><span class="line"><span class="built_in">set</span> t_Co=256</span><br></pre></td></tr></table></figure>
<h4 id="4-è§†å›¾æ¨¡å¼">4.è§†å›¾æ¨¡å¼</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">å—è§†å›¾æ¨¡å¼ -- VISUAL BLOCK -- Ctrl + v</span><br><span class="line"><span class="comment"># æ‰¹é‡æ³¨é‡Š</span></span><br><span class="line">1ï¼‰Ctrl + v è¿›å…¥å—è§†å›¾æ¨¡å¼</span><br><span class="line">2ï¼‰æŒ‰é”®ç›˜çš„ä¸Šä¸‹å·¦å³ï¼Œé€‰ä¸­æƒ³è¦çš„å†…å®¹</span><br><span class="line">3ï¼‰å¦‚æœæ˜¯åœ¨è¡Œå‰åŠ å…¥å†…å®¹ï¼ŒShift + i</span><br><span class="line">4ï¼‰å¦‚æœæ˜¯åœ¨è¡ŒååŠ å…¥å†…å®¹ï¼ŒShift + a</span><br><span class="line">5ï¼‰è¾“å…¥æƒ³è¦çš„å†…å®¹åï¼Œè¿”å›å‘½ä»¤æ¨¡å¼ï¼ˆESCï¼‰</span><br><span class="line">è¡Œè§†å›¾æ¨¡å¼ -- VISUAL LINE -- Shit + v</span><br></pre></td></tr></table></figure>
<h4 id="5-vimæ‰©å±•çŸ¥è¯†">5.vimæ‰©å±•çŸ¥è¯†</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## ç¼–è¾‘æ–‡ä»¶ç›´æ¥è·³è½¬åˆ°æŒ‡å®šè¡Œ</span></span><br><span class="line">[root@localhost ~]# vim +N 1.txt // Nä¸ºé˜¿æ‹‰ä¼¯æ•°å­—</span><br><span class="line">[root@localhost ~]# vim +3 1.txt</span><br><span class="line"><span class="comment">## å¯¹æ¯”æ–‡ä»¶ä¸åŒä¹‹å¤„</span></span><br><span class="line">[root@localhost ~]# vimdiff 1.txt 2.txt</span><br><span class="line">[root@localhost ~]# diff 1.txt 3.txt</span><br><span class="line">3,6c3,6</span><br><span class="line">&lt; http://pxost.baidu.com/index.html</span><br><span class="line">&lt; http://mp3.baiadu.com/index.html</span><br><span class="line">&lt; http://www.baidu.com/3.html</span><br><span class="line">&lt; http://post.baidxu.com/2.html</span><br><span class="line">---</span><br><span class="line">&gt; http:aaaaa//pxost.baidu.com/index.html</span><br><span class="line">&gt; http://mp3xxx.baiadu.com/index.html</span><br><span class="line">&gt; http://www.baxxidu.com/3.html</span><br><span class="line">&gt; http://post.baixxdxu.com/2.html</span><br><span class="line"><span class="comment">## åŒæ—¶ç¼–è¾‘å¤šä¸ªæ–‡ä»¶ ï¼ˆä½¿ç”¨Ctrl + ww è¿›è¡Œåˆ‡æ¢ï¼‰</span></span><br><span class="line">[root@localhost ~]# vim -o 1.txt 2.txt // æ°´å¹³æ‹†åˆ†</span><br><span class="line">[root@localhost ~]# vim -O 1.txt 2.txt // å‚ç›´æ‹†åˆ†</span><br></pre></td></tr></table></figure>
<h4 id="6-vimå†™å…¥æµç¨‹">6.vimå†™å…¥æµç¨‹</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/aaa.jpg" alt="aaa"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">å½“æˆ‘ä»¬åœ¨ä½¿ç”¨vimç¼–è¾‘æ–‡ä»¶æ—¶</span><br><span class="line">1ï¼‰é¦–å…ˆä¼šåœ¨æºæ–‡ä»¶ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª.swpçš„ä¸´æ—¶æ–‡ä»¶</span><br><span class="line">2ï¼‰å¦‚æœviméæ­£å¸¸é€€å‡ºçš„æƒ…å†µä¸‹ï¼Œè¯¥ä¸´æ—¶æ–‡ä»¶ä¸€ç›´å­˜åœ¨</span><br><span class="line">3ï¼‰ä¸‹ä¸€æ¬¡ç¼–è¾‘åˆ™ä¼šæç¤º</span><br><span class="line">[O]pen Read-Only, (E)dit anyway, (R)ecover, (Q)uit, (A)bort:</span><br><span class="line">åªè¯»æ¨¡å¼æ‰“å¼€ ç»§ç»­ç¼–è¾‘ è¦†ç›– é€€å‡º</span><br><span class="line">è§£å†³æ–¹æ¡ˆï¼š</span><br><span class="line">1ï¼‰æŸ¥çœ‹modifiedçŠ¶æ€ å¦‚æœæ˜¯<span class="built_in">yes</span>ï¼Œåˆ™éœ€è¦è¦†ç›–æºæ–‡ä»¶</span><br><span class="line">- vim -r /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">- vim /etc/sysconfig/network-scripts/ifcfg-ens3</span><br><span class="line">(R)ecover æŒ‰ r</span><br><span class="line">2ï¼‰åˆ é™¤.swpä¸´æ—¶æ–‡ä»¶å³å¯</span><br><span class="line"><span class="built_in">rm</span> -f /etc/sysconfig/network-scripts/.ifcfg-ens33.swp</span><br><span class="line">1ï¼‰æŸ¥çœ‹modifiedçŠ¶æ€ å¦‚æœæ˜¯noï¼Œåˆ™éœ€è¦è¦†ç›–æºæ–‡ä»¶</span><br><span class="line">(Q)uit æŒ‰qé€€å‡º</span><br><span class="line">2ï¼‰ç›´æ¥åˆ é™¤.swpä¸´æ—¶æ–‡ä»¶</span><br><span class="line"><span class="built_in">rm</span> -f /etc/sysconfig/network-scripts/.ifcfg-ens33.swp</span><br></pre></td></tr></table></figure>
<h3 id="4-findå‘½ä»¤">4. findå‘½ä»¤</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.å¿˜äº†æŸä¸ªæ–‡ä»¶æ‰€åœ¨çš„ä½ç½®ï¼Œå¯ä»¥é€šè¿‡findæ¥æŸ¥æ‰¾ã€‚</span><br><span class="line">2.å¯ä»¥æŸ¥æ‰¾æŸä¸ªç›®å½•ä¸‹ï¼Œæ‰€æœ‰å°äº1kçš„æ–‡ä»¶ã€‚</span><br><span class="line">3.å¯ä»¥æŸ¥æ‰¾æŸä¸ªç›®å½•ä¸‹ï¼Œ7å¤©ä¹‹å‰åˆ›å»ºçš„æ–‡ä»¶ã€‚</span><br><span class="line">4.å¯ä»¥æŸ¥æ‰¾æŸç›®å½•ä¸‹æ‰€æœ‰ä»¥.shç»“å°¾çš„è„šæœ¬ã€‚</span><br><span class="line"></span><br><span class="line">å®ƒå¯ä»¥æ ¹æ®ä¸åŒçš„æ¡ä»¶æ¥è¿›è¡ŒæŸ¥æ‰¾æ–‡ä»¶:ä¾‹å¦‚æƒé™ã€æ‹¥æœ‰è€…ã€ä¿®æ”¹æ—¥æœŸ/æ—¶é—´ã€æ–‡ä»¶å¤§å°ç­‰ç­‰ã€‚ åŒæ—¶findå‘½ä»¤æ˜¯Linuxä¸‹å¿…é¡»æŒæ¡çš„ã€‚</span><br><span class="line"></span><br><span class="line">[root@lb01 code]# find /code/ -size -4k ! -<span class="built_in">type</span> d -delete</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è·¯å¾„</th>
<th>é€‰é¡¹</th>
<th>è¡¨è¾¾å¼</th>
<th>åŠ¨ä½œ</th>
</tr>
</thead>
<tbody>
<tr>
<td>find</td>
<td>[pathâ€¦]</td>
<td>[optionsâ€¦]</td>
<td>[expression]</td>
<td>[action]</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>é€»è¾‘è¿ç®—ç¬¦</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>ä¸”   &amp;&amp;</td>
</tr>
<tr>
<td>-o</td>
<td>æˆ–  ||</td>
</tr>
<tr>
<td>!</td>
<td>é</td>
</tr>
</tbody>
</table>
<p><strong>findçš„é€‰é¡¹</strong></p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-name<br />-iname</td>
<td>æ ¹æ®æ–‡ä»¶åæŸ¥æ‰¾<br />ä¸åŒºåˆ†æ–‡ä»¶åå¤§å°å†™æŸ¥æ‰¾</td>
</tr>
<tr>
<td>-type</td>
<td>æ ¹æ®æ–‡ä»¶ç±»å‹æŸ¥æ‰¾</td>
</tr>
<tr>
<td>-size</td>
<td>æ ¹æ®æ–‡ä»¶å¤§å°æ‰¾</td>
</tr>
<tr>
<td>-time</td>
<td>æ ¹æ®æ–‡ä»¶çš„æ—¶é—´æ‰¾</td>
</tr>
<tr>
<td>-user <br />-group <br />-nouser <br />-nogroup</td>
<td>æŸ¥æ‰¾æŒ‡å®šç”¨æˆ·<br />æŸ¥æ‰¾æŒ‡å®šç”¨æˆ·ç»„<br />æŸ¥æ‰¾æ²¡æœ‰ç”¨æˆ·çš„æ–‡ä»¶æŸ¥æ‰¾<br />æ²¡æœ‰ç”¨æˆ·ç»„çš„æ–‡ä»¶</td>
</tr>
<tr>
<td>-perm</td>
<td>æ ¹æ®æ–‡ä»¶æƒé™æ‰¾</td>
</tr>
<tr>
<td>-maxdepth</td>
<td>æ ¹æ®å¥æ·±åº¦æŸ¥æ‰¾</td>
</tr>
<tr>
<td>-empty</td>
<td>æŸ¥æ‰¾ç©ºæ–‡ä»¶ï¼ˆå’Œ-type dé…åˆå¯ä»¥æŒ‡å®šç©ºç›®å½•ï¼‰</td>
</tr>
</tbody>
</table>
<h4 id="1-æ ¹æ®æ–‡ä»¶åæŸ¥æ‰¾">1.æ ¹æ®æ–‡ä»¶åæŸ¥æ‰¾</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-name</span><br><span class="line"><span class="comment">## æ‰¾åˆ°/etc/ç›®å½•ä¸‹ç½‘å¡ä¿¡æ¯é…ç½®æ–‡ä»¶åœ¨å“ª</span></span><br><span class="line">[root@localhost ~]# find /etc -name <span class="string">&#x27;*ens33*&#x27;</span>      åŠ ä¸Š*æ˜¯æ¨¡ç³ŠæŸ¥æ‰¾</span><br><span class="line"></span><br><span class="line"><span class="comment">## åœ¨/etc/ç›®å½•ä¸‹æ‰¾ä»¥.confç»“å°¾çš„æ‰€æœ‰é…ç½®æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# find /etc -name <span class="string">&#x27;*.conf&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åœ¨/etc/ç›®å½•ä¸‹æ‰¾åˆ°ä»¥.confç»“å°¾çš„æ–‡ä»¶å’Œ.shç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# find /etc/ -name <span class="string">&#x27;*.conf&#x27;</span> &amp;&amp; find /etc/ -name <span class="string">&#x27;*.sh&#x27;</span></span><br><span class="line">[root@localhost ~]# find /etc/ -name <span class="string">&#x27;*.conf&#x27;</span>;find /etc/ -name <span class="string">&#x27;*.sh&#x27;</span></span><br><span class="line">[root@localhost ~]# find /etc/ -name <span class="string">&#x27;*.conf&#x27;</span> -o -name <span class="string">&#x27;*.sh&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åœ¨/etc/ç›®å½•ä¸‹æ‰¾åˆ°ä¸æ˜¯ä»¥.confç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# find /etc/ ! -name <span class="string">&#x27;*.conf&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## ç²¾ç¡®åŒ¹é…</span></span><br><span class="line">[root@localhost ~]# find /etc/ -name <span class="string">&#x27;ifcfg-ens33&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## ä¸åŒºåˆ†å¤§å°å†™æŸ¥æ‰¾æ–‡ä»¶å</span></span><br><span class="line">[root@localhost ~]# find ./ -iname <span class="string">&#x27;*zls*&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-æ ¹æ®æ–‡ä»¶ç±»å‹æŸ¥æ‰¾">2.æ ¹æ®æ–‡ä»¶ç±»å‹æŸ¥æ‰¾</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-<span class="built_in">type</span></span><br><span class="line"><span class="comment">## æ–‡ä»¶ç±»å‹</span></span><br><span class="line">æ™®é€šæ–‡ä»¶ï¼šf</span><br><span class="line">ç›®å½•ï¼š	d</span><br><span class="line">è½¯é“¾æ¥æ–‡ä»¶ï¼šl</span><br><span class="line">å¥—æ¥å­—æ–‡ä»¶ï¼šs</span><br><span class="line">å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼šc</span><br><span class="line">å—è®¾å¤‡æ–‡ä»¶ï¼šb</span><br><span class="line">ç®¡é“æ–‡ä»¶ï¼šp</span><br><span class="line">//f æ–‡ä»¶</span><br><span class="line">[root@zls ~]# find /dev -<span class="built_in">type</span> f</span><br><span class="line">//d ç›®å½•</span><br><span class="line">[root@zls ~]# find /dev -<span class="built_in">type</span> d</span><br><span class="line">//l é“¾æ¥</span><br><span class="line">[root@zls ~]# find /dev -<span class="built_in">type</span> l</span><br><span class="line">//b å—è®¾å¤‡</span><br><span class="line">[root@zls ~]# find /dev -<span class="built_in">type</span> b</span><br><span class="line">//c å­—ç¬¦è®¾å¤‡</span><br><span class="line">[root@zls ~]# find /dev -<span class="built_in">type</span> c</span><br><span class="line">//s å¥—æ¥å­—</span><br><span class="line">[root@zls ~]# find /dev -<span class="built_in">type</span> s</span><br><span class="line">//p ç®¡é“æ–‡ä»¶</span><br><span class="line">[root@zls ~]# find /dev -<span class="built_in">type</span> p</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŸ¥æ‰¾/etc/ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸­åŒ…å«confçš„ç›®å½•</span></span><br><span class="line">[root@localhost ~]# find /etc -name <span class="string">&#x27;*conf*&#x27;</span> -<span class="built_in">type</span> d</span><br><span class="line">[root@localhost ~]# find /etc -name <span class="string">&#x27;*conf*&#x27;</span> -<span class="built_in">type</span> d -<span class="built_in">ls</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="3-æ ¹æ®æ–‡ä»¶å¤§å°æŸ¥æ‰¾">3.æ ¹æ®æ–‡ä»¶å¤§å°æŸ¥æ‰¾</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-size</span><br><span class="line">+ï¼šå¤§äº</span><br><span class="line">-ï¼šå°äº</span><br><span class="line"><span class="comment">## æ‰¾å°äºå¤šå°‘çš„æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# find /tmp -size -4k</span><br><span class="line"><span class="comment">## æ‰¾å¤§äºå¤šå°‘çš„æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# find /tmp -size +4k</span><br><span class="line"><span class="comment">## æ‰¾ç­‰äºå¤šå°‘</span></span><br><span class="line">[root@localhost ~]# find /tmp -size 4k</span><br><span class="line"></span><br><span class="line"><span class="comment">## æ‰¾åˆ°/codeç›®å½•ä¸‹å°äº4kçš„æ–‡ä»¶å¹¶åˆ é™¤</span></span><br><span class="line">[root@localhost ~]# find /code -size -4k -delete</span><br><span class="line"></span><br><span class="line"><span class="comment">## æ‰¾åˆ°/codeç›®å½•ä¸‹å°äº4kçš„æ–‡ä»¶å¹¶åˆ é™¤ï¼ˆä¸åˆ é™¤ç›®å½•ï¼‰</span></span><br><span class="line">[root@localhost ~]# find /code -size -4k ! -<span class="built_in">type</span> d -delete   </span><br><span class="line"><span class="comment">##! -type d -deleteéç›®å½•</span></span><br></pre></td></tr></table></figure>
<h4 id="4-æ ¹æ®æ–‡ä»¶çš„æ—¶é—´æŸ¥æ‰¾">4.æ ¹æ®æ–‡ä»¶çš„æ—¶é—´æŸ¥æ‰¾</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## ä¸€ä¸ªæ–‡ä»¶çš„æ—¶é—´</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">stat</span> 1.txt</span><br><span class="line">File: â€˜1.txtâ€™</span><br><span class="line">Size: 4 Blocks: 8 IO Block: 4096 regular file</span><br><span class="line">Device: 803h/2051d Inode: 16797763 Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--) Uid: ( 0/ root) Gid: ( 0/ root)</span><br><span class="line">Context: unconfined_u:object_r:admin_home_t:s0</span><br><span class="line">Access: 2024-04-17 19:25:18.951724354 +0800</span><br><span class="line">Modify: 2024-04-17 19:25:18.951724354 +0800</span><br><span class="line">Change: 2024-04-17 19:25:18.951724354 +0800</span><br><span class="line"></span><br><span class="line">-mtimeï¼šModify	ä¿®æ”¹æ—¶é—´</span><br><span class="line">-atimeï¼šAccess	è®¿é—®æ—¶é—´</span><br><span class="line">-ctimeï¼šChange	æ—¶é—´æˆ³ä¿®æ”¹æ—¶é—´</span><br><span class="line"></span><br><span class="line">+ï¼šæŸ¥æ‰¾Nå¤©ä¹‹å‰çš„ï¼ˆä¸åŒ…å«ä»Šå¤©ï¼‰</span><br><span class="line">-ï¼šæŸ¥æ‰¾Nå¤©ä¹‹å†…çš„ï¼ˆåŒ…å«ä»Šå¤©ï¼‰</span><br><span class="line">Nï¼šæŸ¥æ‰¾å¾€å‰æ•°ç¬¬Nå¤©çš„ï¼ˆä¸åŒ…å«ä»Šå¤©ï¼‰  ï¼ˆ-mtimeååªæœ‰æ•°å­—çš„ï¼‰</span><br><span class="line"></span><br><span class="line"><span class="comment">## ä¸åŠ ä»»ä½•ç¬¦å·ï¼šæŸ¥æ‰¾ä¸ç®—ä»Šå¤©å¾€å‰æ•°ç¬¬7å¤©çš„æ–‡ä»¶</span></span><br><span class="line">-mtime 7</span><br><span class="line">[root@localhost find]# find /root/find/ -mtime 7</span><br><span class="line"></span><br><span class="line"><span class="comment">## +7 ä¸ç®—ä»Šå¤©å¾€å‰æ•°ç¬¬ä¸ƒå¤©ä¹‹å‰çš„æ–‡ä»¶</span></span><br><span class="line">[root@localhost find]# find /root/find/ -mtime +7</span><br><span class="line"><span class="comment">## -7 ç®—ä»Šå¤©ï¼Œæœ€è¿‘7å¤©çš„æ–‡ä»¶</span></span><br><span class="line">[root@localhost find]# find /root/find/ -mtime -7</span><br><span class="line"><span class="comment">## éœ€æ±‚ï¼šä¿ç•™ä¸€å‘¨çš„æ•°æ®</span></span><br><span class="line">[root@localhost find]# find /root/find/ ! -mtime -7 -delete</span><br></pre></td></tr></table></figure>
<h4 id="5-æ ¹æ®ç”¨æˆ·æŸ¥æ‰¾">5.æ ¹æ®ç”¨æˆ·æŸ¥æ‰¾</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">-userï¼šæŸ¥æ‰¾æŒ‡å®šç”¨æˆ·</span><br><span class="line">-groupï¼šæŸ¥æ‰¾æŒ‡å®šç”¨æˆ·ç»„</span><br><span class="line">-nouserï¼šæŸ¥æ‰¾æ²¡æœ‰ç”¨æˆ·çš„æ–‡ä»¶</span><br><span class="line">-nogroupï¼šæŸ¥æ‰¾æ²¡æœ‰ç”¨æˆ·ç»„çš„æ–‡ä»¶</span><br><span class="line"><span class="comment">## æŸ¥æ‰¾å±äºrootç”¨æˆ·admç»„çš„æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# find /root/ -user root -group adm -<span class="built_in">ls</span></span><br><span class="line"><span class="comment">## æŸ¥æ‰¾useræ˜¯zlsï¼Œæˆ–groupæ˜¯admç»„çš„æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# find /root/ \( -group adm -o -user zls \) -<span class="built_in">ls</span></span><br><span class="line">16797763 4 -rw-r--r-- 1 zls root 4 Apr 17 2024 /root/1.txt</span><br><span class="line">16797778 4 -rw-r--r-- 1 zls root 4 Apr 16 2024 /root/2.txt</span><br><span class="line">16797816 4 -rw-r--r-- 1 root adm 4 Apr 17 2024</span><br><span class="line">/root/zls.txt</span><br><span class="line">16851189 4 -rw-r--r-- 1 root adm 4 Apr 16 2024</span><br><span class="line">/root/zls1.txt</span><br><span class="line">16851191 4 -rw-r--r-- 1 root adm 4 Apr 16 2024</span><br><span class="line">/root/zls2.txt</span><br><span class="line">16797780 4 -rw-r--r-- 1 root adm 4 Apr 16 2024</span><br><span class="line">/root/zls3.txt</span><br><span class="line">16797813 4 -rw-r--r-- 1 root adm 4 Apr 16 2024</span><br><span class="line">/root/zls4.txt</span><br><span class="line">[root@localhost ~]# find /root/ \( -user zls -o -group adm \)</span><br><span class="line">-rw-r--r--. 1 zls root 4 Apr 17 2024 /root/1.txt</span><br><span class="line">-rw-r--r--. 1 zls root 4 Apr 16 2024 /root/2.txt</span><br><span class="line">-rw-r--r--. 1 root adm 4 Apr 16 2024 /root/zls1.txt</span><br><span class="line">-rw-r--r--. 1 root adm 4 Apr 16 2024 /root/zls2.txt</span><br><span class="line">-rw-r--r--. 1 root adm 4 Apr 16 2024 /root/zls3.txt</span><br><span class="line">-rw-r--r--. 1 root adm 4 Apr 16 2024 /root/zls4.txt</span><br><span class="line">-rw-r--r--. 1 root adm 4 Apr 17 2024 /root/zls.txt</span><br><span class="line"><span class="comment">## æŸ¥æ‰¾æ²¡æœ‰ç”¨æˆ·æˆ–è€…æ²¡æœ‰ç»„çš„æ–‡ä»¶</span></span><br><span class="line">[root@localhost opt]# find /opt/ -nouser -o -nogroup</span><br></pre></td></tr></table></figure>
<h4 id="6-æ ¹æ®æ–‡ä»¶æƒé™æŸ¥æ‰¾">6.æ ¹æ®æ–‡ä»¶æƒé™æŸ¥æ‰¾</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">perm</span><br><span class="line"><span class="comment">## ç²¾ç¡®æŸ¥æ‰¾æ–‡ä»¶çš„æƒé™644</span></span><br><span class="line">[root@localhost opt]# find /opt/ -perm 644 -<span class="built_in">ls</span></span><br><span class="line">16851186 0 -rw-r--r-- 1 1000 oldboyedu 0 Apr 15 2024</span><br><span class="line">/opt/sbit/1.txt</span><br><span class="line">16851188 0 -rw-r--r-- 1 oldboy oldboyedu 0 Apr 15 2024</span><br><span class="line">/opt/sbit/2.txt</span><br><span class="line">8393463 0 -rw-r--r-- 1 1002 root 0 Mar 30 00:19 /opt/1.txt</span><br><span class="line">8393464 0 -rw-r--r-- 1 root 1000 0 Mar 30 00:19 /opt/2.txt</span><br><span class="line"><span class="comment">## -ï¼šä»£è¡¨è¯¥æƒé™ä½ä¸Šï¼Œå¿…é¡»åŒ…å«è¯¥æ•°å­—æƒé™622 rw w w</span></span><br><span class="line">[root@localhost opt]# find /opt/ -perm -622 -<span class="built_in">ls</span></span><br><span class="line">16851181 0 drwxrwxrwt 2 root root 32 Apr 15 2024 /opt/sbit</span><br><span class="line"><span class="comment">## /ï¼šæ‹¥æœ‰è€…è‡³å°‘æœ‰ræˆ–wæƒé™, æˆ–è€…æ‹¥æœ‰ç»„è‡³å°‘æœ‰wæƒé™, æˆ–è€…åŒ¿åè‡³å°‘æœ‰wæƒé™</span></span><br><span class="line">[root@zls ~]# find /home -perm /622</span><br><span class="line">8405111 0 drwxr-xr-x 4 root root 77 Mar 30 00:19 /opt/</span><br><span class="line">16777 0 drwxr-sr-x 2 1000 root 19 Apr 15 2024 /opt/test</span><br><span class="line">16779 0 -rw-rw-r-- 1 1000 root 0 Apr 15 2024</span><br><span class="line">/opt/test/1.txt</span><br><span class="line">16851181 0 drwxrwxrwt 2 root root 32 Apr 15 2024 /opt/sbit</span><br><span class="line">16851186 0 -rw-r--r-- 1 1000 oldboyedu 0 Apr 15 2024</span><br><span class="line">/opt/sbit/1.txt</span><br><span class="line">16851188 0 -rw-r--r-- 1 oldboy oldboyedu 0 Apr 15 2024</span><br><span class="line">/opt/sbit/2.txt</span><br><span class="line">8393448 12 -rw------- 1 root root 9567 Apr 16 2024</span><br><span class="line">/opt/.bash_history</span><br><span class="line">8393463 0 -rw-r--r-- 1 1002 root 0 Mar 30 00:19 /opt/1.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="7-æ ¹æ®æ·±åº¦æŸ¥æ‰¾">7.æ ¹æ®æ·±åº¦æŸ¥æ‰¾</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# find /etc/ -maxdepth 1 -<span class="built_in">type</span> d</span><br></pre></td></tr></table></figure>
<h4 id="8-åŠ¨ä½œ">8.åŠ¨ä½œ</h4>
<table>
<thead>
<tr>
<th>åŠ¨ä½œ</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-print</td>
<td>æ‰“å°ç»“æœï¼ˆfind é»˜è®¤å°±æ‰“å°ç»“æœï¼‰</td>
</tr>
<tr>
<td>-ls</td>
<td>æŸ¥çœ‹æ–‡ä»¶è¯¦ç»†ä¿¡æ¯ï¼ˆå¦‚æœæœ‰é€»è¾‘è¿ç®—ç¬¦ï¼Œå°±åªæŸ¥çœ‹é€»è¾‘è¿ç®—ç¬¦åé¢æ–‡ä»¶è¯¦ç»†ä¿¡æ¯ï¼Œé™¤é ä½¿ç”¨å°æ‹¬å·æ•´ä½“æ‹¬èµ·æ¥ï¼‰</td>
</tr>
<tr>
<td>- delete</td>
<td>åˆ é™¤æŸ¥æ‰¾åˆ°çš„æ–‡ä»¶ï¼ˆå¦‚æœæœ‰é€»è¾‘è¿ç®—ç¬¦ï¼Œå°±åªæŸ¥çœ‹é€»è¾‘è¿ç®—ç¬¦åé¢æ–‡ä»¶è¯¦ç»†ä¿¡æ¯ï¼Œé™¤é ä½¿ç”¨å°æ‹¬å·æ•´ä½“æ‹¬èµ·æ¥ï¼‰</td>
</tr>
<tr>
<td>-ok</td>
<td>æ‰§è¡Œåé¢çš„shellå‘½ä»¤ï¼ˆä¼šè¯¢é—®ï¼‰ï¼ˆå¦‚æœæœ‰é€»è¾‘è¿ç®—ç¬¦ï¼Œå°±åªæŸ¥çœ‹é€»è¾‘è¿ç®—ç¬¦åé¢æ–‡ä»¶è¯¦ ç»†ä¿¡æ¯ï¼Œé™¤éä½¿ç”¨å°æ‹¬å·æ•´ä½“æ‹¬èµ·æ¥ï¼‰</td>
</tr>
<tr>
<td>-exec</td>
<td>æ‰§è¡Œåé¢çš„shellå‘½ä»¤ï¼ˆä¸è¯¢é—®ï¼‰ï¼ˆå¦‚æœæœ‰é€»è¾‘è¿ç®—ç¬¦ï¼Œå°±åªæŸ¥çœ‹é€»è¾‘è¿ç®—ç¬¦åé¢æ–‡ä»¶è¯¦ ç»†ä¿¡æ¯ï¼Œé™¤éä½¿ç”¨å°æ‹¬å·æ•´ä½“æ‹¬èµ·æ¥ï¼‰</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# find /opt/ -<span class="built_in">type</span> f -o -name <span class="string">&#x27;*st&#x27;</span> -<span class="built_in">exec</span> <span class="built_in">rm</span> -fr &#123;&#125; \;</span><br><span class="line">[root@localhost ~]# find /opt/ -<span class="built_in">type</span> f -o -name <span class="string">&#x27;*st&#x27;</span> -ok <span class="built_in">rm</span> -fr &#123;&#125; \;</span><br><span class="line"><span class="comment">## ä»¥ååŠ¨ä½œéƒ½æ”¹ä¸ºxargs åé¢åŠ å‘½ä»¤</span></span><br><span class="line">[root@localhost ~]# find /opt/ -<span class="built_in">type</span> f -o -name <span class="string">&#x27;*st&#x27;</span>|xargs <span class="built_in">rm</span> -fr</span><br><span class="line"><span class="comment">## æ‹·è´</span></span><br><span class="line">[root@localhost ~]# find /root/ -<span class="built_in">type</span> f|xargs <span class="built_in">cp</span> -t /tmp/</span><br><span class="line">[root@localhost ~]# find /root/ -<span class="built_in">type</span> d|xargs -I &#123;&#125; <span class="built_in">cp</span> -r &#123;&#125; /opt/</span><br></pre></td></tr></table></figure>
<h2 id="ã€3ã€‘ç”¨æˆ·ç®¡ç†">ã€3ã€‘ç”¨æˆ·ç®¡ç†</h2>
<h3 id="1-ç”¨æˆ·ç®¡ç†ä¿¡æ¯">1.ç”¨æˆ·ç®¡ç†ä¿¡æ¯</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##Linuxä¸‹çš„ç”¨æˆ·æœ‰ä»€ä¹ˆä½œç”¨</span></span><br><span class="line">1ï¼‰ç³»ç»Ÿä¸Šçš„æ¯ä¸€ä¸ªè¿›ç¨‹(è¿è¡Œçš„ç¨‹åº)éƒ½éœ€è¦ç‰¹å®šçš„ç”¨æˆ·è¿è¡Œ</span><br><span class="line">2ï¼‰æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½æœ‰ç‰¹å®šçš„ç”¨æˆ·æ‹¥æœ‰ï¼Œæ‰€ä»¥è®¿é—®ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•å—åˆ°ç”¨æˆ·çš„é™åˆ¶</span><br><span class="line">3ï¼‰è¿›ç¨‹èƒ½å¤Ÿä»¥ä½•ç§æ–¹å¼è®¿é—®æŸä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•, ä¸è¿›ç¨‹æ‰€å…³è”çš„ç”¨æˆ·æœ‰å…³</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240409145014306.png" alt="image-20240409145014306"></p>
<h4 id="â‘ -ç”¨æˆ·æŸ¥çœ‹å‘½ä»¤">â‘  ç”¨æˆ·æŸ¥çœ‹å‘½ä»¤</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•</span></span><br><span class="line"><span class="built_in">id</span> [option] [user]</span><br><span class="line"><span class="built_in">id</span> [é€‰é¡¹] [ç”¨æˆ·å]</span><br><span class="line">[root@localhost ~]# <span class="built_in">id</span></span><br><span class="line">uid=0(root) gid=0(root) <span class="built_in">groups</span>=0(root)</span><br><span class="line">uidï¼šuser <span class="built_in">id</span>å·</span><br><span class="line">gidï¼šgroup <span class="built_in">id</span>å·</span><br><span class="line"><span class="built_in">groups</span>ï¼šç»„å</span><br><span class="line"><span class="comment">## åªæ˜¾ç¤ºuid</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">id</span> -u root</span><br><span class="line">0</span><br><span class="line"><span class="comment">## åªæ˜¾ç¤ºgid</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">id</span> -g root</span><br><span class="line">0</span><br><span class="line">ç³»ç»Ÿåªè®¤uidï¼Œç”¨æˆ·åæ˜¯ç»™è¿ç»´äººå‘˜çœ‹çš„</span><br><span class="line">åœ¨Linuxç³»ç»Ÿä¸­ï¼Œuidä¸º0çš„ç”¨æˆ·æ‰æ˜¯è¶…çº§ç”¨æˆ·</span><br><span class="line"><span class="comment">## æŸ¥çœ‹ç”¨æˆ·ç™»å½•å“ªä¸ªç»ˆç«¯ï¼Œç™»å½•æ—¶é—´   who</span></span><br><span class="line">root     tty1         2024-04-09 14:54</span><br><span class="line">root     pts/0        2024-04-09 11:09 (10.0.0.1)</span><br><span class="line">root     pts/1        2024-04-09 11:33 (10.0.0.1)</span><br><span class="line"><span class="built_in">tty</span>	ä»£è¡¨çš„æ˜¯æœåŠ¡å™¨ç»ˆç«¯ç™»å½•</span><br><span class="line">ptsä»£è¡¨çš„æ˜¯è¿œç¨‹é“¾æ¥å·¥å…·ç™»å½•</span><br><span class="line">[root@localhost ~]# <span class="built_in">whoami</span>		<span class="comment">## æŸ¥çœ‹å½“å‰ç™»å½•çš„ç”¨æˆ·å</span></span><br><span class="line">root</span><br><span class="line"><span class="comment">## æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> /etc/passwd</span><br></pre></td></tr></table></figure>
<h4 id="â‘¡-etc-passwd">â‘¡ /etc/passwd</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240409145743758.png" alt="image-20240409145743758"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## ä»¥å†’å·ä¸ºåˆ†éš”ç¬¦çš„æƒ…å†µä¸‹ï¼Œæ–‡ä»¶è¢«åˆ†ä¸º7åˆ—</span></span><br><span class="line">[root@lb02 ~]# <span class="built_in">cat</span> /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"><span class="built_in">sync</span>:x:5:0:<span class="built_in">sync</span>:/sbin:/bin/sync</span><br><span class="line"></span><br><span class="line">[zls@localhost ~]# useradd wyl -c <span class="string">&#x27;abc&#x27;</span>  æ·»åŠ å¤‡æ³¨</span><br><span class="line"></span><br><span class="line">ç¬¬ä¸€åˆ—ï¼šç”¨æˆ·å</span><br><span class="line">ç¬¬äºŒåˆ—ï¼šå¯†ç å ä½ç¬¦</span><br><span class="line">ç¬¬ä¸‰åˆ—ï¼šç”¨æˆ·çš„uid</span><br><span class="line">ç¬¬å››åˆ—ï¼šç”¨æˆ·æ‰€åœ¨ç»„çš„gid</span><br><span class="line">ç¬¬äº”åˆ—ï¼šç”¨æˆ·çš„æè¿°ä¿¡æ¯ï¼ˆå¤‡æ³¨ã€æ³¨é‡Šï¼‰</span><br><span class="line">ç¬¬å…­åˆ—ï¼šç”¨æˆ·å®¶ç›®å½•æ‰€åœ¨è·¯å¾„</span><br><span class="line">ç¬¬ä¸ƒåˆ—ï¼šç”¨æˆ·ç™»å½•ä½¿ç”¨çš„bash</span><br><span class="line"><span class="comment">##  /sbin/nologin ä¸å…è®¸ç™»å½•çš„ç”¨æˆ· bash</span></span><br></pre></td></tr></table></figure>
<h4 id="â‘¢-etc-shadow">â‘¢ etc/shadow</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240409150039322.png" alt="image-20240409150039322"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">daemon:*:17834:0:99999:7:2:6627567:</span><br><span class="line">ç¬¬ä¸€åˆ—ï¼š		ç”¨æˆ·å</span><br><span class="line">ç¬¬äºŒåˆ—ï¼š		å¯†ç    *å’Œ!! ä»£è¡¨æ²¡æœ‰å¯†ç </span><br><span class="line">ç¬¬ä¸‰åˆ—ï¼š		å¯†ç ä¿®æ”¹çš„æ—¶é—´ ä»1970å¹´å¼€å§‹è®¡ç®—åˆ°ä¸Šä¸€æ¬¡å˜æ›´å¯†ç çš„æ—¶é—´è¿‡äº†å¤šå°‘å¤©</span><br><span class="line">ç¬¬å››åˆ—ï¼š		å¯†ç æœ€å°‘ä½¿ç”¨å¤©æ•° 0ä»£è¡¨æ— é™åˆ¶</span><br><span class="line">ç¬¬äº”åˆ—ï¼š		å¯†ç æœ€é•¿ä½¿ç”¨å¤©æ•° 99999ä»£è¡¨æ— é™åˆ¶</span><br><span class="line">ç¬¬å…­åˆ—ï¼š		å¯†ç åˆ°æœŸä¹‹å‰å¤šå°‘å¤©å¼€å§‹æé†’ æå‰7å¤©æé†’éœ€è¦æ”¹å¯†ç äº†</span><br><span class="line">ç¬¬ä¸ƒåˆ—ï¼š		å¯†ç è¿‡æœŸåNå¤©å¼ºåˆ¶å˜æ›´å¯†ç  å¯†ç è¿‡æœŸå2å¤©ï¼Œå¼ºåˆ¶æ”¹å¯†ç </span><br><span class="line">ç¬¬å…«åˆ—ï¼š		è´¦æˆ·å¤±æ•ˆæ—¶é—´ï¼Œä»1970å¹´å¼€å§‹è®¡ç®—å¤šå°‘å¤©</span><br><span class="line">ç¬¬ä¹åˆ—ï¼š		ç©º ä¿ç•™åˆ—</span><br></pre></td></tr></table></figure>
<h3 id="2-ç”¨æˆ·ç®¡ç†">2.ç”¨æˆ·ç®¡ç†</h3>
<h4 id="â‘ -åˆ›å»ºç”¨æˆ·æ¡ˆä¾‹">â‘  åˆ›å»ºç”¨æˆ·æ¡ˆä¾‹</h4>
<p>ç»ƒä¹ åˆ›å»º1000ä¸ªç”¨æˆ·ï¼Œå¯†ç éƒ½ä¸º1</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;1&#x27;</span> |passwd --stdin lgj</span><br><span class="line"></span><br><span class="line">ï¼›åˆ†å·å¯ä»¥è¡”æ¥å¤šä¸ªå‘½ä»¤æ‰§è¡Œï¼Œ</span><br><span class="line">&amp;&amp;è¡”æ¥å¤šä¸ªå‘½ä»¤ï¼Œä½†æ˜¯éœ€è¦åˆ¤æ–­å‰é¢çš„å‘½ä»¤æ‰§è¡ŒæˆåŠŸåï¼Œå†æ‰§è¡Œåé¢çš„å‘½ä»¤</span><br><span class="line"><span class="comment">#è¡”æ¥å‘½ä»¤</span></span><br><span class="line">useradd lgj1;<span class="built_in">echo</span> <span class="string">&quot;1&quot;</span> | passwd --stdin lgj1  ==&gt;;åˆ†å·ä¸¤è¾¹åˆ†åˆ«æ‰§è¡Œç»“æœ</span><br><span class="line"></span><br><span class="line">[root@lb01 ~]# <span class="built_in">seq</span> 1000|awk <span class="string">&#x27;&#123;print &quot;useradd lgj&quot;$1&quot;;echo 1|passwd --stdin lgj&quot;$1&#125;&#x27;</span>|bash</span><br><span class="line"></span><br><span class="line"><span class="comment">#è„šæœ¬</span></span><br><span class="line">vim useradd.sh</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..1000&#125;; <span class="keyword">do</span></span><br><span class="line">  username=<span class="string">&quot;lgj<span class="variable">$i</span>&quot;</span></span><br><span class="line">  useradd <span class="variable">$username</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;1&quot;</span> | passwd --stdin <span class="variable">$username</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">è¿è¡Œshæ–‡ä»¶</span><br><span class="line">sh useradd.sh &gt; /dev/null</span><br></pre></td></tr></table></figure>
<h4 id="â‘¡-ç”¨æˆ·çº¦å®šå’Œè§„èŒƒ">â‘¡ ç”¨æˆ·çº¦å®šå’Œè§„èŒƒ</h4>
<p><strong>==Linuxé‡Œç”¨æˆ·è§„èŒƒ==</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">centOS7</th>
<th style="text-align:center"></th>
<th style="text-align:center">centOS7</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ç”¨æˆ·UID</td>
<td style="text-align:center">ä½œç”¨</td>
<td style="text-align:center">ç”¨æˆ·UID</td>
<td style="text-align:center">ä½œç”¨</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">ç³»ç»Ÿç®¡ç†å‘˜ï¼ˆè¶…çº§ç”¨æˆ·ï¼‰</td>
<td style="text-align:center">0</td>
<td style="text-align:center">ç³»ç»Ÿç®¡ç†å‘˜ï¼ˆè¶…çº§ç”¨æˆ·ï¼‰</td>
</tr>
<tr>
<td style="text-align:center">1-200</td>
<td style="text-align:center">ç³»ç»Ÿç”¨æˆ·ï¼Œç”±ç³»ç»Ÿåˆ†é…ç»™è¿›ç¨‹ä½¿ç”¨</td>
<td style="text-align:center">1-500</td>
<td style="text-align:center">ç³»ç»Ÿç”¨æˆ·ï¼Œç”±ç³»ç»Ÿåˆ†é…ç»™è¿›ç¨‹ä½¿ç”¨è¿è¡ŒæœåŠ¡ï¼Œä¸éœ€è¦ç™»å½•ç³»ç»Ÿ</td>
</tr>
<tr>
<td style="text-align:center">201-999</td>
<td style="text-align:center">ç³»ç»Ÿç”¨æˆ·ï¼Œè¿è¡ŒæœåŠ¡ï¼Œä¸éœ€è¦ç™»å½•ç³»ç»Ÿ</td>
<td style="text-align:center">500+</td>
<td style="text-align:center">å¸¸è§„çš„æ™®é€šç”¨æˆ·</td>
</tr>
<tr>
<td style="text-align:center">1000+</td>
<td style="text-align:center">å¸¸è§„çš„æ™®é€šç”¨æˆ·</td>
<td style="text-align:center"><strong>/</strong></td>
<td style="text-align:center"><strong>/</strong></td>
</tr>
</tbody>
</table>
<h4 id="â‘¢-ä¿®æ”¹å¯†ç -chage">â‘¢ ä¿®æ”¹å¯†ç  chage</h4>
<p><strong>==äº†è§£==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">bin:*:17834:0:99999:7:10::</span><br><span class="line">-d //è®¾ç½®æœ€è¿‘ä¸€æ¬¡æ›´æ”¹å¯†ç æ—¶é—´, 0ä¸‹æ¬¡ç™»é™†ç³»ç»Ÿå¼ºåˆ¶ä¿®æ”¹å¯†ç  		// /etc/shadow ç¬¬ä¸‰åˆ—</span><br><span class="line">-m //è®¾ç½®ç”¨æˆ·ä¸¤æ¬¡æ”¹å˜å¯†ç ä¹‹é—´ä½¿ç”¨<span class="string">&quot;æœ€å°å¤©æ•°&quot;</span> 					// /etc/shadow ç¬¬å››åˆ—</span><br><span class="line">-M //è®¾ç½®ç”¨æˆ·ä¸¤æ¬¡æ”¹å˜å¯†ç ä¹‹é—´ä½¿ç”¨<span class="string">&quot;æœ€å¤§å¤©æ•°&quot;</span> 					// /etc/shadow ç¬¬äº”åˆ—</span><br><span class="line">-W //è®¾ç½®å¯†ç æ›´æ”¹è­¦å‘Šæ—¶é—´ å°†è¿‡æœŸè­¦å‘Šå¤©æ•°è®¾ä¸ºâ€œè­¦å‘Šå¤©æ•°â€ 		// /etc/shadow ç¬¬å…­åˆ—</span><br><span class="line">-I //è®¾ç½®å¯†ç è¿‡æœŸå¤©æ•°å, å¯†ç ä¸ºå¤±æ•ˆçŠ¶æ€ 					// /etc/shadow ç¬¬ä¸ƒåˆ—</span><br><span class="line">-E //è®¾ç½®ç”¨æˆ·è¿‡æœŸæ—¶é—´, è´¦æˆ·å¤±æ•ˆåæ— æ³•ç™»é™† 					// /etc/shadow ç¬¬å…«åˆ—</span><br><span class="line">-l //æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯</span><br><span class="line">[root@lgj ~]# chage -l lgj</span><br><span class="line">Last password change : Sep 01, 2014 					   //æœ€è¿‘ä¸€æ¬¡æ›´æ”¹å¯†ç æ—¶é—´</span><br><span class="line">Password expires : Sep 16, 2014 						   //å¯†ç è¿‡æœŸæ—¶é—´</span><br><span class="line">Password inactive : Sep 21, 2014 						   //å¯†ç å¤±æ•ˆæ—¶é—´</span><br><span class="line">Account expires : Aug 31, 2015 							  //ç”¨æˆ·å¤±æ•ˆæ—¶é—´</span><br><span class="line">Minimum number of days between password change : 2 			//å¯†ç æœ€çŸ­ä½¿ç”¨æ—¶é—´</span><br><span class="line">Maximum number of days between password change : 15 		//å¯†ç æœ€é•¿ä½¿ç”¨æ—¶é—´</span><br><span class="line">Number of days of warning before password expires : 7 		//å¯†ç è¿‡æœŸå‰è­¦å‘Šå¤©æ•°</span><br></pre></td></tr></table></figure>
<h4 id="â‘£-åˆ›å»ºç”¨æˆ·ï¼ˆå¢ï¼‰">â‘£ åˆ›å»ºç”¨æˆ·ï¼ˆå¢ï¼‰</h4>
<table>
<thead>
<tr>
<th style="text-align:center">é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-u</td>
<td>æŒ‡å®šuid</td>
</tr>
<tr>
<td style="text-align:center">-g</td>
<td>æŒ‡å®šgidï¼ˆå¿…é¡»æŒ‡å®šä¸€ä¸ªå·²å­˜åœ¨çš„ç»„ï¼‰</td>
</tr>
<tr>
<td style="text-align:center">-c</td>
<td>æŒ‡å®šç”¨æˆ·çš„å¤‡æ³¨ï¼ˆæ³¨é‡Šï¼‰</td>
</tr>
<tr>
<td style="text-align:center">-d</td>
<td>æŒ‡å®šç”¨æˆ·çš„å®¶ç›®å½•</td>
</tr>
<tr>
<td style="text-align:center">-M</td>
<td>ä¸åˆ›å»ºå®¶ç›®å½•</td>
</tr>
<tr>
<td style="text-align:center">-s</td>
<td>æŒ‡å®šç”¨æˆ·ç™»å½•çš„shell</td>
</tr>
<tr>
<td style="text-align:center">-G</td>
<td>æŒ‡å®šé™„åŠ ç»„</td>
</tr>
<tr>
<td style="text-align:center">-r</td>
<td>åˆ›å»ºä¸€ä¸ªç”¨æˆ·uidåœ¨200 - 999ä¹‹é—´</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨useraddåˆ›å»ºç”¨æˆ·å°†å½±å“åˆ°å››ä¸ªæ–‡ä»¶</span><br><span class="line">/etc/passwd		å­˜æ”¾ç”¨æˆ·åç­‰ä¿¡æ¯</span><br><span class="line">/etc/shadow		å­˜æ”¾å¯†ç ç­‰ä¿¡æ¯</span><br><span class="line">/etc/group		å­˜æ”¾ç»„ä¿¡æ¯</span><br><span class="line">/etc/gshadow	å­˜æ”¾ç»„å¯†ç ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">å¦‚æœæ‰‹åŠ¨åˆ›å»ºç”¨æˆ·ä¸ä½¿ç”¨å‘½ä»¤ï¼Œéœ€è¦åˆ†åˆ«åœ¨1./etc/passwd  2./etc/shadow  3./etc/group  4./etc/gshadowåˆ›å»ºç”¨æˆ·åç»„ç­‰ä¿¡æ¯ï¼Œ5.åˆ›å»ºç”¨æˆ·åçš„å®¶ç›®å½•6.æ‹·è´ç¯å¢ƒå˜é‡æ–‡ä»¶<span class="built_in">cp</span> /etc/skel/.bash* /home/abc111/</span><br><span class="line"></span><br><span class="line"><span class="comment">##åˆ›å»ºç”¨æˆ·å‘½ä»¤ useradd</span></span><br><span class="line">useradd [é€‰é¡¹]... ç”¨æˆ·å</span><br><span class="line"></span><br><span class="line">åˆ›å»ºç”¨æˆ·åæ˜¯lgj2 uid1004 ç”¨æˆ·ç»„1001 å¤‡æ³¨-cæ˜¯é«˜æ°å¤§å¤§   <span class="comment">#//å…¶ä¸­-gæŒ‡å®šgidéœ€è¦æŒ‡å®šå·²ç»å­˜åœ¨çš„uid</span></span><br><span class="line">[root@lb01 ~]# useradd -u 1004 -g 1001 -c é«˜æ°å¤§å¤§ lgj2</span><br><span class="line"></span><br><span class="line">-dåˆ›å»ºç”¨æˆ·lgj6å¹¶æŒ‡å®šå®¶ç›®å½•ï¼ˆå¦‚æœæŒ‡å®šçš„å®¶ç›®å½•å·²ç»å­˜åœ¨ï¼Œå¦‚æŒ‡å®šaaaï¼ˆå­˜åœ¨ï¼‰ä¸ºå®¶ç›®å½•ï¼Œä¼šæŠ¥é”™ç›®å½•å®¶ç›®å½•å·²ç»å­˜åœ¨ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šåˆ›å»ºæœ‰lgj6ç”¨æˆ·ï¼Œä½†æ˜¯æ²¡æœ‰ç¯å¢ƒå˜é‡ï¼‰</span><br><span class="line">[root@lb01 ~]# useradd lgj6 -d /root/aaa/lgj666</span><br><span class="line">[root@lb01 ~]# useradd lgj7 -M   ä¸åˆ›å»ºå®¶ç›®å½•</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŒ‡å®šç”¨æˆ·é™„åŠ ç»„</span></span><br><span class="line">[root@lb01 ~]# useradd lgj7 -G 1001,1005</span><br><span class="line">[root@lb01 ~]# useradd lgj8 -G lgj,lgj5    åŒæ ·æŒ‡å®šçš„ç»„éœ€è¦å·²å­˜åœ¨</span><br><span class="line">[root@lb01 ~]# <span class="built_in">id</span> lgj7</span><br><span class="line">uid=1007(lgj7) gid=1007(lgj7) <span class="built_in">groups</span>=1007(lgj7),1001(lgj),1005(lgj5)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="â‘¤-ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯-æ”¹ï¼‰">â‘¤ ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯(æ”¹ï¼‰</h4>
<table>
<thead>
<tr>
<th>ç”¨æˆ·</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-u</td>
<td>æŒ‡å®šç”¨æˆ·çš„uid</td>
</tr>
<tr>
<td>-g</td>
<td>æŒ‡å®šç”¨æˆ·çš„gidï¼Œæ›´æ¢ç”¨æˆ·æ‰€åœ¨çš„ä¸»ç»„ï¼ˆæŒ‡å®šçš„ç»„å¿…é¡»å­˜åœ¨ï¼‰</td>
</tr>
<tr>
<td>-c</td>
<td>ä¿®æ”¹å¤‡æ³¨ä¿¡æ¯</td>
</tr>
<tr>
<td>-d</td>
<td>ä¿®æ”¹ç”¨æˆ·å®¶ç›®å½•ï¼Œä¿®æ”¹/etc/passwdæ–‡ä»¶å†…å®¹</td>
</tr>
<tr>
<td>-m</td>
<td>é…åˆ-dé€‰é¡¹ï¼Œä¿®æ”¹å®Œå®¶ç›®å½•åï¼Œè¿ç§»å®¶ç›®å½•</td>
</tr>
<tr>
<td>-s</td>
<td>ä¿®æ”¹ç”¨æˆ·ç™»å½•çš„shell</td>
</tr>
<tr>
<td>-G</td>
<td>ä¿®æ”¹ç”¨æˆ·çš„é™„åŠ ç»„ï¼Œä¼šæ›¿æ¢åŸæ¥çš„é™„åŠ ç»„</td>
</tr>
<tr>
<td>-a</td>
<td>ä¿®æ”¹ç”¨æˆ·çš„é™„åŠ ç»„ï¼Œé…åˆ-Gä½¿ç”¨ï¼Œè¿½åŠ é™„åŠ ç»„</td>
</tr>
<tr>
<td>-L</td>
<td>é”å®šç”¨æˆ·ï¼ˆå°å·ï¼‰</td>
</tr>
<tr>
<td>-U</td>
<td>è§£é”ç”¨æˆ·ï¼ˆè§£å°ï¼‰</td>
</tr>
<tr>
<td>-l</td>
<td>ä¿®æ”¹ç”¨æˆ·å</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## user modify</span></span><br><span class="line">usermod [é€‰é¡¹]... ç”¨æˆ·å</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹ç”¨æˆ·lgj2çš„uidä¸º1002ï¼Œgidä¸º1000ï¼Œå¤‡æ³¨ä¿¡æ¯æ˜¯ä½ å¥½   <span class="comment">#æŒ‡å®šçš„gidéœ€è¦å·²å­˜åœ¨</span></span><br><span class="line">[root@lb01 ~]# usermod  lgj2 -u 1002 -g 1000 -c ä½ å¥½ </span><br><span class="line"></span><br><span class="line"><span class="comment">## ä¿®æ”¹ç”¨æˆ·å®¶ç›®å½• æ³¨æ„ï¼šä¸èƒ½åªä½¿ç”¨-d</span></span><br><span class="line">[root@localhost ~]# usermod zls000 -d /home/zls000	å®¶ç›®å½•ä¸‹çš„ç¯å¢ƒå˜é‡ä¸ä¼šè¿ç§»è¿‡å»</span><br><span class="line">[root@localhost ~]# usermod zls66 -m -d /opt/zls666   éœ€è¦é…åˆ-mä½¿ç”¨</span><br><span class="line"></span><br><span class="line">å¦‚æœlgj2ä¸»è¦ç»„ä¸åœ¨lgj2é‡Œï¼ˆé€šè¿‡usermodä¿®æ”¹äº†ï¼‰ï¼Œé‚£ä¹ˆä½¿ç”¨userdelåˆ é™¤ç”¨æˆ·çš„æ—¶å€™lgj2ç”¨æˆ·ç»„ä¸ä¼šè¢«åˆ é™¤ï¼Œä¼šæé†’lgj2ç”¨æˆ·çš„ç°åœ¨ç”¨æˆ·ç»„ä¸æ˜¯lgj2çš„ä¸»è¦ç»„</span><br><span class="line"></span><br><span class="line">[root@lb01 ~]# usermod lgj -G 0   ä¿®æ”¹lgjçš„é™„åŠ ç»„ï¼ˆè¦†ç›–åŸæœ‰çš„ï¼‰</span><br><span class="line">[root@lb01 ~]# usermod lgj -aG 100ï¼Œ110   ä¿®æ”¹lgjçš„é™„åŠ ç»„ï¼ˆè¿½åŠ ç”¨æˆ·ç»„ï¼‰</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿®æ”¹ç”¨æˆ·ç™»å½•çš„shell</span></span><br><span class="line">[root@lb01 ~]# usermod lgj -s /sbin/nologin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿®æ”¹ç”¨æˆ·å</span></span><br><span class="line">[root@lb01 ~]# usermod lgj1 -l lgj2  </span><br><span class="line">å¦‚æœä¿®æ”¹å®Œå°†æé†’æ—§çš„é‚®ç®±lgj1å°†ä¸å±äºlgj1ç”¨æˆ·äº†ï¼Œvar/spool/mail/</span><br></pre></td></tr></table></figure>
<h4 id="â‘¥-åˆ é™¤ç”¨æˆ·ï¼ˆåˆ ï¼‰">â‘¥ åˆ é™¤ç”¨æˆ·ï¼ˆåˆ ï¼‰</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># user delete</span></span><br><span class="line">userdel [é€‰é¡¹]... ç”¨æˆ·å</span><br><span class="line"><span class="comment">## ç›´æ¥åˆ é™¤ç”¨æˆ·ï¼Œç±»ä¼¼äºåœ¨/etc/passwdæ–‡ä»¶ä¸­æŠŠè¯¥ç”¨æˆ·è¡Œä¿¡æ¯åˆ é™¤ï¼ˆå®¶ç›®å½•è¿˜åœ¨å’Œæ‰€æœ‰ç”¨æˆ·ç›¸å…³æ–‡ä»¶éƒ½åœ¨ï¼‰</span></span><br><span class="line">[root@localhost ~]# userdel abd</span><br><span class="line"><span class="comment">## é€’å½’åˆ é™¤ç”¨æˆ·åŠç”¨æˆ·æ‰€æœ‰ç›¸å…³æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# userdel -r wyl</span><br><span class="line"></span><br><span class="line"><span class="comment">## å› ä¸ºç”¨æˆ·åˆ›å»ºæ—¶æ²¡æœ‰åˆ›å»ºå®¶ç›®å½•ï¼Œæ‰€ä»¥ä¼šæœ‰æç¤ºï¼Œä½†æ˜¯ç”¨æˆ·å®é™…ä¸Šè¿˜æ˜¯è¢«åˆ é™¤äº†</span></span><br><span class="line">[root@localhost ~]# userdel -r zls888</span><br><span class="line">userdel: zls888 home directory (/home/zls888) not found</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="â‘¦-ç”¨æˆ·æ‰©å±•çŸ¥è¯†">â‘¦ ç”¨æˆ·æ‰©å±•çŸ¥è¯†</h4>
<p>åˆ›å»ºç”¨æˆ·æ—¶å€™ä¼šä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶ä½œä¸ºå‚ç…§ç‰©</p>
<p>/etc/login.defs</p>
<p>/etc/defaults/useradd</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## åˆ›å»ºç”¨æˆ·æ—¶ï¼Œuseraddå‘½ä»¤éœ€è¦è¯»å–çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">è¿‡æ»¤ä¸éœ€è¦çš„ç©ºè¡Œ</span><br><span class="line">[root@localhost ~]# grep -i <span class="string">&#x27;^[a-z]&#x27;</span> /etc/login.defs </span><br><span class="line">[root@localhost ~]# grep -Ev <span class="string">&#x27;^$|^#&#x27;</span> /etc/login.defs</span><br><span class="line"><span class="comment">## ç”¨æˆ·å­˜æ”¾é‚®ä»¶çš„ç›®å½•</span></span><br><span class="line">MAIL_DIR				/var/spool/mail</span><br><span class="line"><span class="comment">## ç”¨æˆ·é»˜è®¤å¯†ç æœ€é•¿ä½¿ç”¨å¤©æ•°</span></span><br><span class="line">PASS_MAX_DAYS 			99999</span><br><span class="line"><span class="comment">## ç”¨æˆ·é»˜è®¤å¯†ç æœ€çŸ­ä½¿ç”¨å¤©æ•°</span></span><br><span class="line">PASS_MIN_DAYS 			0</span><br><span class="line"><span class="comment">## å¯†ç æœ€å°é•¿åº¦5ä½æ•°</span></span><br><span class="line">PASS_MIN_LEN 			5</span><br><span class="line"><span class="comment">## å¯†ç å¿«è¿‡æœŸåï¼Œæå‰7å¤©æé†’</span></span><br><span class="line">PASS_WARN_AGE 			7</span><br><span class="line"><span class="comment">## æ™®é€šç”¨æˆ·æœ€å°UID</span></span><br><span class="line">UID_MIN 				1000</span><br><span class="line"><span class="comment">## æ™®é€šç”¨æˆ·æœ€å¤§UID</span></span><br><span class="line">UID_MAX 				60000</span><br><span class="line"><span class="comment">## ç³»ç»Ÿç”¨æˆ·æœ€å°UID</span></span><br><span class="line">SYS_UID_MIN 			201</span><br><span class="line"><span class="comment">## ç³»ç»Ÿç”¨æˆ·æœ€å¤§UID</span></span><br><span class="line">SYS_UID_MAX 			999</span><br><span class="line"><span class="comment">## ç»„æœ€å°ID</span></span><br><span class="line">GID_MIN 				1000</span><br><span class="line"><span class="comment">## ç»„æœ€å¤§ID</span></span><br><span class="line">GID_MAX 				60000</span><br><span class="line"><span class="comment">## ç³»ç»Ÿç»„æœ€å°ID</span></span><br><span class="line">SYS_GID_MIN 			201</span><br><span class="line"><span class="comment">## ç³»ç»Ÿç»„æœ€å¤§ID</span></span><br><span class="line">SYS_GID_MAX 			999</span><br><span class="line"><span class="comment">## é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ›å»ºç”¨æˆ·ä¼šåˆ›å»ºè¯¥ç”¨æˆ·çš„å®¶ç›®å½•</span></span><br><span class="line">CREATE_HOME 			<span class="built_in">yes</span></span><br><span class="line"><span class="comment">## åˆ›å»ºç”¨æˆ·å®¶ç›®å½•æ—¶ï¼Œæƒé™çš„umaskä¸º077ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·å®¶ç›®å½•çš„ç›®å½•æƒé™ä¸º700</span></span><br><span class="line">UMASK 					077</span><br><span class="line"><span class="comment">## åˆ›å»ºç”¨æˆ·æ—¶ï¼Œæ˜¯å¦åˆ›å»ºå‡ºç”¨æˆ·çš„åŒåç»„ yesï¼šåˆ›å»º noï¼šä¸åˆ›å»º</span></span><br><span class="line">USERGROUPS_ENAB 		<span class="built_in">yes</span></span><br><span class="line"><span class="comment">## ç”¨æˆ·å¯†ç çš„åŠ å¯†ç®—æ³•</span></span><br><span class="line">ENCRYPT_METHOD 			SHA512</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»ºç”¨æˆ·æ—¶ï¼Œuseraddå‘½ä»¤éœ€è¦è¯»å–çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~] <span class="built_in">cat</span> /etc/default/useradd</span><br><span class="line"><span class="comment">## å¦‚æœ/etc/login.defs ä¸­çš„USERGROUPS_ENABæ˜¯yesï¼Œé‚£å°±ä¸è¯»å–æ”¹è¡Œé…ç½®</span></span><br><span class="line"><span class="comment">## å¦‚æœ/etc/login.defs ä¸­çš„USERGROUPS_ENABæ˜¯noï¼Œé‚£å°±èµ°è¯¥è¡Œé…ç½®ï¼ŒæŠŠåˆ›å»ºçš„ç”¨æˆ·åŠ å…¥gidä¸º100çš„ç»„</span></span><br><span class="line">GROUP=100</span><br><span class="line"><span class="comment">## åˆ›å»ºç”¨æˆ·æ—¶ï¼Œé»˜è®¤ç”¨æˆ·å®¶ç›®å½•æ”¾åœ¨/homeä¸‹</span></span><br><span class="line">HOME=/home</span><br><span class="line"><span class="comment">## ç”¨æˆ·è´¦æˆ·æœ‰æ²¡æœ‰æœŸé™ -1è¡¨ç¤ºä¸å¯ç”¨</span></span><br><span class="line">INACTIVE=-1</span><br><span class="line"><span class="comment">## è´¦å·ç»ˆæ­¢æ—¥æœŸï¼Œä¸è®¾ç½®è¡¨ç¤ºä¸å¯ç”¨</span></span><br><span class="line">EXPIRE=</span><br><span class="line"><span class="comment">## ç”¨æˆ·ç™»å½•æ—¶çš„shell</span></span><br><span class="line">SHELL=/bin/bash</span><br><span class="line"><span class="comment">## ç”¨æˆ·å®¶ç›®å½•ä¸‹çš„ç¯å¢ƒå˜é‡æ–‡ä»¶å­˜æ”¾åŸå§‹ç›®å½•</span></span><br><span class="line">SKEL=/etc/skel</span><br><span class="line"><span class="comment">## åˆ›å»ºç”¨æˆ·æ˜¯å¦åŒæ—¶åˆ›å»ºé‚®ç®±</span></span><br><span class="line">CREATE_MAIL_SPOOL=<span class="built_in">yes</span></span><br></pre></td></tr></table></figure>
<h4 id="â‘§ç”¨æˆ·å¯†ç ç®¡ç†">â‘§ç”¨æˆ·å¯†ç ç®¡ç†</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">passwd ç”¨æˆ·å</span><br><span class="line"><span class="comment">## é»˜è®¤ä¿®æ”¹å½“å‰ç™»å½•ç”¨æˆ·çš„å¯†ç </span></span><br><span class="line">[root@localhost ~]# passwd</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¯¥å‘½ä»¤åªæœ‰è¶…çº§ç”¨æˆ·å¯ä»¥æ‰§è¡Œ</span></span><br><span class="line">[root@localhost ~]# passwd zls</span><br><span class="line"></span><br><span class="line"><span class="comment">## æ™®é€šç”¨æˆ·åªèƒ½ä¿®æ”¹è‡ªå·±çš„å¯†ç </span></span><br><span class="line">[zls@localhost ~]$ passwd</span><br><span class="line">Changing password <span class="keyword">for</span> user zls.</span><br><span class="line">Changing password <span class="keyword">for</span> zls.</span><br><span class="line">(current) UNIX password:</span><br><span class="line">åŸå¯†ç ï¼š</span><br><span class="line">æ–°å¯†ç ï¼š</span><br><span class="line">ç¡®è®¤å¯†ç ï¼š</span><br><span class="line"></span><br><span class="line"><span class="comment">## å…äº¤äº’æ”¹å¯†ç </span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;å¯†ç &#x27;</span>|passwd --stdin ç”¨æˆ·å</span><br><span class="line">CMDBï¼šèµ„äº§ç®¡ç†ç³»ç»Ÿ</span><br><span class="line"></span><br><span class="line"><span class="comment">## ç”Ÿæˆéšæœºå¯†ç </span></span><br><span class="line">[root@localhost ~]# <span class="built_in">echo</span> <span class="variable">$RANDOM</span>|<span class="built_in">md5sum</span>|<span class="built_in">cut</span> -c <span class="string">&#x27;1-10&#x27;</span></span><br><span class="line">be1e4bbb9b</span><br><span class="line">md5ï¼šæ ¡éªŒæ–‡ä»¶å®Œæ•´æ€§</span><br><span class="line"><span class="built_in">md5sum</span>ï¼šå¯ä»¥ç»™ä¸€ä¸ªå­—ç¬¦ä¸²ç”Ÿæˆä¸€æ®µåŠ å¯†åçš„å­—ç¬¦ä¸²</span><br><span class="line"><span class="comment"># -lï¼šæŒ‡å®šå¯†ç æ€»é•¿åº¦</span></span><br><span class="line"><span class="comment"># -dï¼šæŒ‡å®šæ•°å­—çš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment"># -cï¼šæŒ‡å®šå°å†™å­—æ¯ä¸ªæ•°</span></span><br><span class="line"><span class="comment"># -Cï¼šæŒ‡å®šå¤§å†™å­—æ¯ä¸ªæ•°</span></span><br><span class="line"><span class="comment"># -sï¼šæŒ‡å®šç‰¹æ®Šç¬¦å·ä¸ªæ•°</span></span><br><span class="line">[root@localhost ~]# mkpasswd -l 24 -d 3 -c 6 -C 7 -s 8</span><br><span class="line">%t[.xl5&amp;74<span class="string">&quot;LP&#x27;inQPr+_PWY</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<h3 id="3-ç”¨æˆ·ç»„ç®¡ç†">3.ç”¨æˆ·ç»„ç®¡ç†</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##ç›¸å…³æ–‡ä»¶</span></span><br><span class="line">/etc/group</span><br><span class="line">/etc/gshadow</span><br><span class="line"><span class="comment">#groupæ¯åˆ—ä½œç”¨</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">head</span> -1 /etc/group</span><br><span class="line">root:x:0:zls444444,zls666</span><br><span class="line">ç¬¬ä¸€åˆ—ï¼šç»„å</span><br><span class="line">ç¬¬äºŒåˆ—ï¼šç»„å¯†ç å ä½ç¬¦</span><br><span class="line">ç¬¬ä¸‰åˆ—ï¼šç»„GID</span><br><span class="line">ç¬¬å››åˆ—ï¼šç»„ä¸­çš„é™„åŠ æˆå‘˜</span><br><span class="line"></span><br><span class="line"><span class="comment">#gshadowæ¯åˆ—ä½œç”¨</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">head</span> -1 /etc/gshadow</span><br><span class="line">root:::zls444444,zls666</span><br><span class="line">root:$6<span class="variable">$q0sHS</span>/5GA2D/ARX<span class="variable">$KlEkprHkTddlN9tTej7</span>/ONeMswVmIFASVnhTQMfwN.ue2hDTmqlqXhiM</span><br><span class="line">b6oBz8vDCQ/zBzDU2gS88j3pNoIXO.::zls444444,zls666</span><br><span class="line">ç¬¬ä¸€åˆ—ï¼šç»„å</span><br><span class="line">ç¬¬äºŒåˆ—ï¼šç»„å¯†ç </span><br><span class="line">ç¬¬ä¸‰åˆ—ï¼šç»„ç®¡ç†å‘˜</span><br><span class="line">ç¬¬å››åˆ—ï¼šç»„ä¸­çš„é™„åŠ æˆå‘˜</span><br></pre></td></tr></table></figure>
<h4 id="ç»„ç›¸å…³å‘½ä»¤">ç»„ç›¸å…³å‘½ä»¤</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¢</span></span><br><span class="line">groupadd [é€‰é¡¹] ç»„å</span><br><span class="line"><span class="comment">## åˆ›å»ºç»„</span></span><br><span class="line">[root@localhost ~]# groupadd ooo</span><br><span class="line"><span class="comment">## åˆ›å»ºç»„å¹¶æŒ‡å®šGID</span></span><br><span class="line">[root@localhost ~]# groupadd ppp -g 666</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ”¹</span></span><br><span class="line"><span class="comment">## ä¿®æ”¹ç»„çš„gid</span></span><br><span class="line">[root@localhost ~]# groupmod ooo -g 888</span><br><span class="line"><span class="comment">## ä¿®æ”¹ç»„å</span></span><br><span class="line">[root@localhost ~]# groupmod ooo -n xxx</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ </span></span><br><span class="line">[root@localhost ~]# groupdel xxx</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®ç»„å¯†ç </span></span><br><span class="line">[root@localhost ~]# gpasswd ppp</span><br><span class="line">Changing the password <span class="keyword">for</span> group ppp</span><br><span class="line">New Password</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ‡æ¢ç»„èº«ä»½</span></span><br><span class="line">[root@localhost ~]# newgrp ç»„å</span><br></pre></td></tr></table></figure>
<h3 id="4-ç”¨æˆ·åˆ‡æ¢-ææƒ">4.ç”¨æˆ·åˆ‡æ¢ &amp; ææƒ</h3>
<h4 id="â‘ ç”¨æˆ·åˆ‡æ¢">â‘ ç”¨æˆ·åˆ‡æ¢</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">su åˆ‡æ¢ç”¨æˆ·ï¼Œä½¿ç”¨æ™®é€šç”¨æˆ·ç™»å½•ï¼Œç„¶åä½¿ç”¨suå‘½ä»¤åˆ‡æ¢åˆ°rootã€‚</span><br><span class="line">ä¼˜ç‚¹ï¼šç®€å•ï¼Œæ–¹ä¾¿</span><br><span class="line">ç¼ºç‚¹ï¼šéœ€è¦çŸ¥é“rootå¯†ç ,ä¸å®‰å…¨ï¼Œåˆ‡æ¢åˆ°rootæ²¡æœ‰æ—¥å¿—å®¡è®¡åŠŸèƒ½</span><br><span class="line"></span><br><span class="line">su - ç”¨æˆ·å -c <span class="string">&#x27;å‘½ä»¤&#x27;</span>ï¼ˆ<span class="string">&#x27;touch 1.txt&#x27;</span>ï¼‰ å¯ä»¥ä¸åˆ‡æ¢ç”¨æˆ·ä½†æ˜¯ä»¥æ™®é€šç”¨æˆ·æ‰§è¡Œå‘½ä»¤</span><br><span class="line"></span><br><span class="line">su - ç”¨æˆ·å		su ç”¨æˆ·åï¼Œä¼šå°‘åŠ è½½ä¸€ä¸ªprofileçš„å…¨å±€å˜é‡</span><br><span class="line"><span class="comment">## ä»rootç”¨æˆ·åˆ‡æ¢åˆ°å…¶ä»–ç”¨æˆ·ï¼Œä¸éœ€è¦è¾“å…¥å¯†ç </span></span><br><span class="line"><span class="comment">## æ™®é€šç”¨æˆ·åˆ‡æ¢åˆ°å…¶ä»–ç”¨æˆ·ï¼Œéœ€è¦è¾“å…¥å¯†ç </span></span><br><span class="line"><span class="comment">## åŠ è½½é¡ºåº</span></span><br><span class="line">/etc/profile &gt; /etc/profile.d/1.sh &gt; /root/.bashrc &gt; /etc/bashrc</span><br><span class="line">/etc/profile</span><br><span class="line">/etc/profile.d/1.sh</span><br><span class="line">.bash_profile</span><br><span class="line">/root/.bashrc</span><br><span class="line">/etc/bashrc</span><br><span class="line">ä¸ªäººé…ç½®æ–‡ä»¶ï¼š ~/.bash_profile ~/.bashrc</span><br><span class="line">å…¨å±€é…ç½®æ–‡ä»¶ï¼š/etc/profile /etc/profile.d/*.sh /etc/bashrc</span><br></pre></td></tr></table></figure>
<h4 id="â‘¡ç”¨æˆ·èº«ä»½ææƒ">â‘¡ç”¨æˆ·èº«ä»½ææƒ</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> ææƒï¼Œå½“éœ€è¦ä½¿ç”¨rootæƒé™æ—¶ï¼Œè¿›è¡Œææƒï¼Œè€Œæ— éœ€åˆ‡æ¢è‡³rootç”¨æˆ·ã€‚</span><br><span class="line">ä¼˜ç‚¹ï¼šå®‰å…¨ï¼Œæ–¹ä¾¿</span><br><span class="line">ç¼ºç‚¹ï¼šå¤æ‚</span><br><span class="line"></span><br><span class="line"><span class="comment">## ææƒæ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">[zls@localhost ~]$ <span class="built_in">sudo</span> <span class="built_in">mkdir</span> /opt/abc</span><br><span class="line">We trust you have received the usual lecture from the <span class="built_in">local</span> System</span><br><span class="line">Administrator. It usually boils down to these three things:</span><br><span class="line"><span class="comment">#1) Respect the privacy of others.</span></span><br><span class="line"><span class="comment">#2) Think before you type.</span></span><br><span class="line"><span class="comment">#3) With great power comes great responsibility.</span></span><br><span class="line">[<span class="built_in">sudo</span>] password <span class="keyword">for</span> zls:</span><br><span class="line">zls is not <span class="keyword">in</span> the sudoers file. This incident will be reported.</span><br><span class="line"></span><br><span class="line"><span class="comment">## é¢å‘åœ£æ—¨ï¼ˆææƒé…ç½®æ–‡ä»¶ï¼‰</span></span><br><span class="line">[root@localhost ~]# vim /etc/sudoers</span><br><span class="line">åœ¨é‡Œé¢æ·»åŠ lgjç”¨æˆ·æƒé™</span><br><span class="line">æˆ–è€…visudoå‘½ä»¤æ·»åŠ ï¼Œä¾‹å¦‚</span><br><span class="line"><span class="comment">## Allow root to run any commands anywhere</span></span><br><span class="line">root    ALL=(ALL)       ALL</span><br><span class="line">lgj     ALL=(ALL)       ALL</span><br><span class="line"></span><br><span class="line">ä¸Šé¢æ³¨é‡Šçš„æœ‰åˆ«åï¼Œå†™ä¸Šåˆ«åå°±å¯ä»¥è®¾ç½®æƒé™ï¼Œæˆ–è€…è‡ªå·±å†™æŸä¸ªå‘½ä»¤çš„ç›®å½•</span><br><span class="line">root    ALL=(ALL)       ALL</span><br><span class="line">lgj     ALL=(ALL)		/usr/bin/mkdirï¼ˆè¿™é‡Œä¹Ÿå¯ä¹ŸæŠŠä¸Šé¢æŸä¸ªåˆ«åæ³¨é‡Šå»æ‰ï¼Œå†™ä¸Šåˆ«åå³å¯ä½¿ç”¨é‚£ä¸ªæƒé™ï¼‰</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## è®¾ç½®å‘½ä»¤åˆ«å</span></span><br><span class="line">Cmnd_Alias CREATE = /bin/mkdir,/bin/touch</span><br><span class="line"><span class="comment">## ç”¨æˆ·ææƒæ–¹æ³•ï¼š</span></span><br><span class="line">æ–¹æ³•ä¸€ï¼š</span><br><span class="line"><span class="comment">### visudoä¸è®¾ç½®ç”¨æˆ·å¯†ç </span></span><br><span class="line">[root@localhost ~]# visudo</span><br><span class="line"></span><br><span class="line"><span class="comment">## Allow root to run any commands anywhere</span></span><br><span class="line">root 	ALL=(ALL) 	ALL</span><br><span class="line">zls 	ALL=(ALL) 	CREATE</span><br><span class="line">cls1 	ALL=(ALL) 	NOPASSWD: ALL</span><br><span class="line"></span><br><span class="line">æ–¹æ³•äºŒï¼šåªè¦ç»™ç”¨æˆ·åŠ å…¥wheelç»„ä¸­ï¼Œå°±æœ‰<span class="built_in">sudo</span>æƒé™</span><br><span class="line"><span class="comment">## Allows people in group wheel to run all commands</span></span><br><span class="line">%wheel 	ALL=(ALL) 	ALL</span><br><span class="line">%lgj 	ALL=(ALL) 	NOPASSWD: ALL</span><br><span class="line">[root@localhost ~]# useradd lhq1 -G wheel</span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ‡æ¢æˆæ™®é€šç”¨æˆ·å¯ä»¥æŸ¥çœ‹æˆ‘è¿™ä¸ªç”¨æˆ·èƒ½æ‰§è¡Œå“ªäº›å‘½ä»¤</span></span><br><span class="line">[lhq2@localhost ~]$ <span class="built_in">sudo</span> -l</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="ã€4ã€‘æƒé™ç®¡ç†">ã€4ã€‘æƒé™ç®¡ç†</h2>
<h3 id="1-åŸºæœ¬æƒé™">1.åŸºæœ¬æƒé™</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240413153515306.png" alt="image-20240413153515306"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">User</span><br><span class="line">Group</span><br><span class="line">Other</span><br><span class="line"><span class="comment">## æ‰€å±ç”¨æˆ·ï¼šå±ä¸»</span></span><br><span class="line"><span class="comment">## æ‰€å±ç”¨æˆ·ç»„ï¼šå±ç»„</span></span><br><span class="line"><span class="comment">## ugoæƒé™</span></span><br><span class="line">//ç”¨æˆ·å¯¹èµ„æºæ¥è¯´, æœ‰ä¸‰ç§è§’è‰²</span><br><span class="line">User(u): å±ä¸»ç”¨æˆ·(æ–‡ä»¶æ‰€æœ‰è€…)</span><br><span class="line">Group(g): å±ç»„ç”¨æˆ·(åŒ…å«ç»„æˆå‘˜)</span><br><span class="line">Other(o): å…¶ä»–ç”¨æˆ·</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>å­—æ¯</th>
<th>å«ä¹‰</th>
<th>å¯¹åº”æƒé™</th>
</tr>
</thead>
<tbody>
<tr>
<td>r(read)</td>
<td>è¯»å–æƒé™</td>
<td>4</td>
</tr>
<tr>
<td>w(write)</td>
<td>å†™å…¥æƒé™</td>
<td>2</td>
</tr>
<tr>
<td>x(execute)</td>
<td>æ‰§è¡Œæƒé™</td>
<td>1</td>
</tr>
<tr>
<td>-(æ²¡æœ‰æƒé™)</td>
<td>æ²¡æœ‰æƒé™</td>
<td>0</td>
</tr>
</tbody>
</table>
<h4 id="â‘ -ä¿®æ”¹æƒé™å‘½ä»¤">â‘  ä¿®æ”¹æƒé™å‘½ä»¤</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># change mode</span></span><br><span class="line"><span class="built_in">chmod</span> [é€‰é¡¹] æƒé™ æ–‡ä»¶å</span><br><span class="line"><span class="comment">## æ•°å­—ä¿®æ”¹æ–¹å¼</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> 777 test1.txt</span><br><span class="line">[root@localhost ~]# ll test1.txt</span><br><span class="line">-rwxrwxrwx. 1 root root 0 Apr 12 17:01 test1.txt</span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> 700 test1.txt</span><br><span class="line">[root@localhost ~]# ll test1.txt</span><br><span class="line">-rwx------. 1 root root 0 Apr 12 17:01 test1.txt</span><br><span class="line"><span class="comment">## ugoä¿®æ”¹æ–¹å¼</span></span><br><span class="line"><span class="comment"># åŠ æƒé™</span></span><br><span class="line"><span class="comment">## u+æƒé™ rwx</span></span><br><span class="line"><span class="comment">## g+æƒé™ w</span></span><br><span class="line"><span class="comment">## o+æƒé™ x</span></span><br><span class="line"><span class="comment">## a+æƒé™ å³aæ˜¯all   å¯çœç•¥a +x +r +w +rw +rx +rwx +wx</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> g+xw test1.txt</span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> +x test1.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿®æ”¹ugoä¸‰ä¸ªæƒé™</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> u=rwx,g=w,o=x test1.txt ä¸å¦‚ç›´æ¥ä¿®æ”¹æ•°å­—æ–¹å¼</span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> 721 test1.txt</span><br><span class="line"><span class="comment">## é€’å½’ä¿®æ”¹ç›®å½•æƒé™</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> -R 222 zls121</span><br><span class="line">[root@localhost ~]# ll -d zls121/</span><br><span class="line">d-w--w--w-. 3 zls121 zls121 139 Apr 12 18:31 zls121/</span><br><span class="line">[root@localhost ~]# ll zls121/</span><br><span class="line">total 0</span><br><span class="line">--w--w--w-. 1 root root 0 Apr 12 18:30 1.txt</span><br><span class="line">--w--w--w-. 1 root root 0 Apr 12 18:30 2.txt</span><br><span class="line">--w--w--w-. 1 root root 0 Apr 12 18:30 3.txt</span><br><span class="line">--w--w--w-. 1 root root 0 Apr 12 18:30 4.txt</span><br><span class="line">[root@localhost ~]# ll zls121/zls1/</span><br><span class="line">total 0</span><br><span class="line">--w--w--w-. 1 root root 0 Apr 12 18:31 1.txt</span><br></pre></td></tr></table></figure>
<h4 id="â‘¡-æƒé™å¯¹æ–‡ä»¶çš„å½±å“">â‘¡ æƒé™å¯¹æ–‡ä»¶çš„å½±å“</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">å½“æ–‡ä»¶åªæœ‰ræƒé™æ—¶ï¼Œå¯ä»¥æŸ¥çœ‹å†…å®¹ï¼Œä¸èƒ½å†™å…¥ï¼ˆæ–‡ä»¶æ‰€å±ç”¨æˆ·å¯ä»¥ä½¿ç”¨viå¼ºåˆ¶ä¿å­˜ï¼‰ï¼Œä¸èƒ½æ‰§è¡Œ</span><br><span class="line">å½“æ–‡ä»¶åªæœ‰wæƒé™æ—¶ï¼Œä¸èƒ½æŸ¥çœ‹ï¼Œåªèƒ½å†™å…¥ï¼ˆä½¿ç”¨viä¼šè¦†ç›–æ–‡ä»¶å†…å®¹ï¼Œä½¿ç”¨<span class="built_in">echo</span> &gt;&gt;å¯ä»¥è¿½åŠ ï¼‰ï¼Œä¸èƒ½æ‰§è¡Œ</span><br><span class="line">å½“æ–‡ä»¶åªæœ‰xæƒé™æ—¶ï¼Œä¸èƒ½æŸ¥çœ‹ï¼Œä¸èƒ½å†™å…¥ï¼Œä¸èƒ½æ‰§è¡Œ(éƒ½çœ‹ä¸äº†æ— æ³•æ‰§è¡Œ)</span><br><span class="line"></span><br><span class="line">å½“æ–‡ä»¶åªæœ‰rwæƒé™æ—¶ï¼Œå¯ä»¥æŸ¥çœ‹ï¼Œå¯ä»¥å†™å…¥ï¼Œä¸èƒ½æ‰§è¡Œ</span><br><span class="line">å½“æ–‡ä»¶åªæœ‰rxæƒé™æ—¶ï¼Œå¯ä»¥æŸ¥çœ‹ï¼Œä¸èƒ½å†™å…¥ï¼Œå¯ä»¥æ‰§è¡Œ</span><br><span class="line">å½“æ–‡ä»¶åªæœ‰wxæƒé™æ—¶ï¼Œä¸èƒ½çœ‹ï¼Œèƒ½å†™å…¥ï¼Œä¸èƒ½æ‰§è¡Œ</span><br><span class="line"></span><br><span class="line">å½“æ–‡ä»¶æœ‰rwxæƒé™æ—¶ï¼Œå¯ä»¥æŸ¥çœ‹ï¼Œå¯ä»¥å†™å…¥ï¼Œå¯ä»¥æ‰§è¡Œ</span><br><span class="line"></span><br><span class="line"><span class="comment">##æ€»ç»“ï¼šxæƒé™ä¸èƒ½å•ç‹¬å‡ºç°ï¼Œéœ€è¦é…åˆræƒé™ä½¿ç”¨ï¼Œä¹Ÿä¸èƒ½é…åˆwï¼ˆå› ä¸ºæ²¡æœ‰è¯»å–æƒé™ï¼Œå°±ä¸çŸ¥é“æ–‡ä»¶å†…å®¹ï¼Œæ‰€ä»¥æ²¡æ³•æ‰§è¡Œï¼‰</span></span><br></pre></td></tr></table></figure>
<h4 id="â‘¢-æƒé™å¯¹ç›®å½•çš„å½±å“">â‘¢ æƒé™å¯¹ç›®å½•çš„å½±å“</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[zls@localhost ~]$ ll /opt/</span><br><span class="line"><span class="built_in">ls</span>: cannot open directory /opt/: Permission denied</span><br><span class="line">[zls@localhost ~]$ <span class="built_in">mkdir</span> /opt/zls</span><br><span class="line"><span class="built_in">mkdir</span>: cannot create directory â€˜/opt/zlsâ€™: Permission denied</span><br><span class="line">[zls@localhost ~]$ ./opt</span><br><span class="line">-bash: ./opt: No such file or directory</span><br><span class="line">å½“ç›®å½•æƒé™ä¸º---æ—¶ï¼Œä¸èƒ½æŸ¥çœ‹ï¼Œä¸èƒ½è¿›å…¥ï¼Œä¸èƒ½æ‹·è´ï¼Œä¸èƒ½ç§»åŠ¨ï¼Œä¸èƒ½åˆ›å»ºï¼Œä¸èƒ½åˆ é™¤</span><br><span class="line">å½“ç›®å½•æƒé™ä¸ºræ—¶ï¼Œèƒ½æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶åï¼ˆçœ‹ä¸åˆ°æ–‡ä»¶å±æ€§ï¼‰ï¼Œä¸èƒ½è¿›å…¥ï¼Œä¸èƒ½æ‹·è´ï¼Œä¸èƒ½ç§»åŠ¨ï¼Œä¸èƒ½åˆ›å»ºï¼Œä¸èƒ½åˆ é™¤</span><br><span class="line">å½“ç›®å½•æƒé™ä¸ºwæ—¶ï¼Œä¸èƒ½æŸ¥çœ‹ï¼Œä¸èƒ½è¿›å…¥ï¼Œä¸èƒ½æ‹·è´ï¼Œä¸èƒ½ç§»åŠ¨ï¼Œä¸èƒ½åˆ›å»ºï¼Œä¸èƒ½åˆ é™¤</span><br><span class="line">å½“ç›®å½•æƒé™ä¸ºxæ—¶ï¼Œä¸èƒ½æŸ¥çœ‹ï¼Œèƒ½è¿›å…¥ï¼Œä¸èƒ½æ‹·è´ï¼Œä¸èƒ½ç§»åŠ¨ï¼Œä¸èƒ½åˆ›å»ºï¼Œä¸èƒ½åˆ é™¤</span><br><span class="line"></span><br><span class="line">å½“ç›®å½•æƒé™ä¸ºrwæ—¶ï¼Œèƒ½æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶åï¼ˆçœ‹ä¸åˆ°æ–‡ä»¶å±æ€§ï¼‰ï¼Œä¸èƒ½è¿›å…¥ï¼Œä¸èƒ½æ‹·è´ï¼Œä¸èƒ½ç§»åŠ¨ï¼Œä¸èƒ½åˆ›å»ºï¼Œä¸èƒ½åˆ é™¤</span><br><span class="line">å½“ç›®å½•æƒé™ä¸ºrxæ—¶ï¼Œå¯ä»¥æŸ¥çœ‹ï¼Œèƒ½è¿›å…¥ï¼Œèƒ½æ‹·è´ï¼Œä¸èƒ½ç§»åŠ¨ï¼Œä¸èƒ½åˆ›å»ºï¼Œä¸èƒ½åˆ é™¤</span><br><span class="line">å½“ç›®å½•æƒé™ä¸ºwxæ—¶ï¼Œä¸èƒ½æŸ¥çœ‹ï¼Œèƒ½è¿›å…¥ï¼Œèƒ½æ‹·è´ï¼Œèƒ½ç§»åŠ¨ï¼Œèƒ½åˆ›å»ºï¼Œèƒ½åˆ é™¤</span><br><span class="line"><span class="comment">## åªæœ‰xæƒé™æ‰èƒ½cdè¿›å…¥</span></span><br><span class="line"><span class="comment">## ç›®å½•æƒé™ï¼Œå¿…é¡»ä¸¤ä¸¤ç»„åˆä½¿ç”¨</span></span><br><span class="line"><span class="comment">## ç›®å½•æƒé™ï¼Œå¿…é¡»ç»„åˆxæƒé™ä½¿ç”¨</span></span><br><span class="line"><span class="comment">## ç›®å½•æƒé™ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ™®é€šç”¨æˆ·ï¼Œåªç»™rxï¼Œè¶…çº§ç”¨æˆ· rwx</span></span><br></pre></td></tr></table></figure>
<h3 id="2-ç‰¹æ®Šæƒé™">2.ç‰¹æ®Šæƒé™</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ™®é€šç”¨æˆ·å¯ä»¥ä¿®æ”¹è‡ªå·±çš„å¯†ç ï¼Œåœ¨äºpasswdå‘½ä»¤ï¼Œè¯¥å‘½ä»¤æ‹¥æœ‰ç‰¹æ®Šæƒé™ï¼ŒSetUIDï¼Œä¹Ÿå°±æ˜¯å’±ä»¬çœ‹åˆ°çš„ï¼Œåœ¨å±ä¸»çš„æƒé™ä½çš„æ‰§è¡Œæƒé™ä¸Šæ˜¯ s.å½“...æ™®é€šç”¨æˆ·ä½¿ç”¨passwdå‘½ä»¤æ¥æ›´æ”¹è‡ªå·±çš„å¯†ç æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨ç”¨passwdå‘½ä»¤çš„æ‰€æœ‰è€…ï¼Œæ‰€æœ‰è€…æ˜¯è°ï¼Ÿå°±æ˜¯rootçš„èº«ä»½åœ¨æ‰§è¡Œpasswdå‘½ä»¤</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œæœ‰ä¸‰ç§ç‰¹æ®Šæƒé™ï¼Œåˆ†åˆ«æ˜¯ SUID æƒé™ã€SGID æƒé™å’Œ SBIT æƒé™ï¼š</span><br><span class="line"><span class="comment">#sUID æƒé™ï¼ˆSet User IDï¼‰ï¼š</span></span><br><span class="line">å…è®¸ç”¨æˆ·åœ¨æ‰§è¡Œå¯æ‰§è¡Œæ–‡ä»¶æ—¶ä»¥æ–‡ä»¶æ‰€æœ‰è€…çš„èº«ä»½è¿è¡Œã€‚å…·æœ‰ SUID æƒé™çš„æ–‡ä»¶åœ¨æ‰§è¡Œæ—¶å°†ç»§æ‰¿æ–‡ä»¶æ‰€æœ‰è€…çš„æƒé™ï¼Œè€Œä¸æ˜¯æ‰§è¡Œè€…è‡ªå·±çš„æƒé™ã€‚è¿™å¯¹äºéœ€è¦ç‰¹å®šæƒé™æ‰èƒ½æ‰§è¡Œçš„ç¨‹åºéå¸¸æœ‰ç”¨ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">#SGID æƒé™ï¼ˆSet Group IDï¼‰ï¼š</span></span><br><span class="line">SGID æƒé™ç±»ä¼¼äº SUID æƒé™ï¼Œä½†æ˜¯å®ƒæ˜¯é’ˆå¯¹ç¾¤ç»„è€Œä¸æ˜¯ç”¨æˆ·ã€‚å…·æœ‰ SGID æƒé™çš„æ–‡ä»¶åœ¨æ‰§è¡Œæ—¶å°†ç»§æ‰¿æ–‡ä»¶æ‰€å±ç¾¤ç»„çš„æƒé™ï¼Œè€Œä¸æ˜¯æ‰§è¡Œè€…æ‰€å±ç¾¤ç»„çš„æƒé™ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">#SBIT æƒé™ï¼ˆSticky Bitï¼‰ï¼š</span></span><br><span class="line">ä¸»è¦ç”¨äºç›®å½•ã€‚å½“ç›®å½•å…·æœ‰ SBIT æƒé™æ—¶ï¼Œåªæœ‰ç›®å½•æ‰€æœ‰è€…ã€æ–‡ä»¶æ‰€æœ‰è€…å’Œ root ç”¨æˆ·æ‰èƒ½åˆ é™¤æˆ–ç§»åŠ¨è¯¥ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚è¿™å¯ä»¥é˜²æ­¢å…¶ä»–ç”¨æˆ·æ„å¤–åˆ é™¤æˆ–ç§»åŠ¨ä»–äººçš„æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<h4 id="SUID">SUID</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240415143350501.png" alt="image-20240415143350501"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## ä¿®æ”¹å¯†ç çš„å‘½ä»¤</span></span><br><span class="line">[root@localhost ~]# passwd</span><br><span class="line"><span class="comment">## ä¿®æ”¹å¯†ç çš„å‘½ä»¤ä½ç½®</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">which</span> passwd</span><br><span class="line">/usr/bin/passwd</span><br><span class="line"><span class="comment">## ç”¨æˆ·å¯†ç ä¿¡æ¯å­˜æ”¾æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# ll /etc/shadow</span><br><span class="line">----------. 1 root root 641 Apr 12 19:50 /etc/shadow</span><br><span class="line"><span class="comment">## ç”¨æˆ·å¯†ç ä¿¡æ¯å­˜æ”¾æ–‡ä»¶</span></span><br><span class="line">æ–‡ä»¶æƒé™ï¼š000</span><br><span class="line">æ‰€æœ‰ç”¨æˆ·ï¼Œæ²¡æœ‰è¯»å–æƒé™ï¼Œå†™å…¥æƒé™ï¼Œæ‰§è¡Œæƒé™</span><br><span class="line"><span class="comment">## ä¸€ä¸ªæ™®é€šç”¨æˆ·ï¼Œæ˜¯å¦å¯ä»¥ä¿®æ”¹å¯†ç ï¼Ÿ</span></span><br><span class="line">åªèƒ½ä¿®æ”¹è‡ªå·±çš„å¯†ç </span><br><span class="line"><span class="comment">## é—®é¢˜ï¼šä¸ºä»€ä¹ˆä¸€ä¸ªæ™®é€šç”¨æˆ·ï¼Œå¯¹/etc/shadowæ–‡ä»¶æ²¡æœ‰ä»»ä½•æ“ä½œæƒé™ï¼Œå´å¯ä»¥ä¿®æ”¹è‡ªå·±çš„å¯†ç ï¼Ÿ</span></span><br><span class="line"><span class="comment">## åŸå› ï¼šå› ä¸ºpasswdå‘½ä»¤ï¼Œå±ä¸»æƒé™ä½ä¸Šæœ‰ä¸ªsæƒé™</span></span><br><span class="line">[zls@localhost ~]$ ll /usr/bin/passwd</span><br><span class="line">-rwsr-xr-x. 1 root root 27832 Jun 10 2014 /usr/bin/passwd</span><br><span class="line">suidæˆæƒæ–¹å¼</span><br><span class="line">ç‰¹æ®Šæƒé™â€”â€”setgid</span><br><span class="line">æˆæƒæ–¹å¼</span><br><span class="line">å¦‚æœåœ¨ä¸€ä¸ªæ–‡ä»¶çš„å±ä¸»æƒé™ä½ä¸Šï¼Œå‡ºç°sæƒé™ï¼Œä»£è¡¨ï¼Œè¯¥æ–‡ä»¶å…·æœ‰<span class="built_in">set</span> uidæƒé™</span><br><span class="line"><span class="built_in">set</span> uidï¼ˆsuidï¼‰æƒé™ä½œç”¨ï¼šè®©ä½¿ç”¨è¯¥æ–‡ä»¶çš„ç”¨æˆ·ï¼Œä»¥è¯¥æ–‡ä»¶çš„å±ä¸»èº«ä»½æ‰§è¡Œ</span><br><span class="line"><span class="comment">## å› ä¸ºpasswdå‘½ä»¤æœ‰suidæƒé™ï¼Œé‚£ä¹ˆæ™®é€šç”¨æˆ·å¯ä»¥ä»¥rootèº«ä»½æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œä½†æ˜¯ä¸ºå•¥ä¸èƒ½ä¿®æ”¹å…¶ä»–ç”¨æˆ·å¯†ç </span></span><br><span class="line">åŸå› ï¼šæ™®é€šç”¨æˆ·åœ¨æ‰§è¡Œpasswdå‘½ä»¤æ—¶ï¼Œæœ‰ä¸ªåˆ¤æ–­ï¼Œå°±æ˜¯è¯¥å‘½ä»¤åé¢ä¸èƒ½åŠ ä»»ä½•å‚æ•°</span><br></pre></td></tr></table></figure>
<p><strong>==suidæˆæƒæ–¹å¼==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">suidæ•°å­—æƒé™ï¼š4000</span><br><span class="line"><span class="comment">## æ•°å­—æƒé™æˆæƒ</span></span><br><span class="line"><span class="built_in">chmod</span> 4xxx æ–‡ä»¶å</span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> 4644 cheak_student.sh</span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> 4755 /bin/passwd</span><br><span class="line"><span class="comment">## ugoæ–¹å¼</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> u+s student.txt</span><br><span class="line">sï¼šä»£è¡¨è¯¥æ–‡ä»¶çš„å±ä¸»æƒé™ä½ä¸Šï¼Œæœ¬èº«æœ‰xï¼ˆæ‰§è¡Œï¼‰æƒé™</span><br><span class="line">Sï¼šä»£è¡¨è¯¥æ–‡ä»¶çš„å±ä¸»æƒé™ä½ä¸Šï¼Œæœ¬èº«æ²¡æœ‰xï¼ˆæ‰§è¡Œï¼‰æƒé™</span><br><span class="line"><span class="comment">## æ€»ç»“ï¼š</span></span><br><span class="line">1.è®©æ™®é€šç”¨æˆ·å¯¹å¯æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸´æ—¶æ‹¥æœ‰äºŒè¿›åˆ¶æ–‡ä»¶çš„æ‰€å±æƒé™</span><br><span class="line">2.å¦‚æœè®¾ç½®çš„äºŒè¿›åˆ¶æ–‡ä»¶æ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œé‚£ä¹ˆsuidçš„æƒé™æ˜¾ç¤ºå°±æ˜¯S</span><br><span class="line">3.ç‰¹æ®Šæƒé™suidä»…å¯¹äºŒè¿›åˆ¶å¯æ‰§è¡Œç¨‹åºæœ‰æ•ˆï¼Œå…¶ä»–æ–‡ä»¶æˆ–ç›®å½•åˆ™æ— æ•ˆ</span><br><span class="line">æ³¨æ„ï¼šsuidæå…¶å±é™©ï¼Œä¸ä¿¡å¯ä»¥å°è¯•å¯¹vimæˆ–è€…<span class="built_in">rm</span>å‘½ä»¤è¿›è¡Œè®¾å®šsuid</span><br></pre></td></tr></table></figure>
<h4 id="SGID">SGID</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å°†ç›®å½•è®¾ç½®ä¸ºSGIDåï¼Œå¦‚æœåœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ï¼Œéƒ½å°†ä¸è¯¥ç›®å½•çš„æ‰€å±ç»„ä¿æŒä¸€è‡´</span><br><span class="line"><span class="comment">## åœ¨æ–‡ä»¶çš„å±ç»„æƒé™ä½ä¸Šå‡ºç°sæƒé™</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">mkdir</span> /opt/test</span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> g+s /opt/test/</span><br><span class="line">[root@localhost ~]# ll /opt/test/ -d</span><br><span class="line">drwxr-sr-x. 2 root root 6 Apr 15 18:40 /opt/test/</span><br></pre></td></tr></table></figure>
<p><strong>==æˆæƒæ–¹å¼==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">sgidæ•°å­—æƒé™ï¼š2000</span><br><span class="line"><span class="comment">## æ•°å­—æƒé™æˆæƒ</span></span><br><span class="line"><span class="built_in">chmod</span> 2xxx æ–‡ä»¶å</span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> 2644 dir1</span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> 2755 dir1</span><br><span class="line">å°ç»ƒä¹ </span><br><span class="line"><span class="comment">## ugoæ–¹å¼</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> g+s dir1</span><br><span class="line">sï¼šä»£è¡¨è¯¥æ–‡ä»¶çš„å±ç»„æƒé™ä½ä¸Šï¼Œæœ¬èº«æœ‰xï¼ˆæ‰§è¡Œï¼‰æƒé™</span><br><span class="line">Sï¼šä»£è¡¨è¯¥æ–‡ä»¶çš„å±ç»„æƒé™ä½ä¸Šï¼Œæœ¬èº«æ²¡æœ‰xï¼ˆæ‰§è¡Œï¼‰æƒé™</span><br><span class="line"><span class="comment">## æ€»ç»“ï¼š</span></span><br><span class="line">1.é’ˆå¯¹ç”¨æˆ·ç»„æƒé™ä½ä¿®æ”¹ï¼Œç”¨æˆ·åˆ›å»ºçš„ç›®å½•æˆ–æ–‡ä»¶æ‰€å±ç»„å’Œè¯¥ç›®å½•çš„æ‰€å±ç»„ä¸€è‡´ã€‚</span><br><span class="line">2.å½“æŸä¸ªç›®å½•è®¾ç½®äº†sgidåï¼Œåœ¨è¯¥ç›®å½•ä¸­æ–°å»ºçš„æ–‡ä»¶ä¸åœ¨æ˜¯åˆ›å»ºè¯¥æ–‡ä»¶çš„é»˜è®¤æ‰€å±ç»„</span><br><span class="line">3.ä½¿ç”¨sgidå¯ä»¥ä½¿å¾—å¤šä¸ªç”¨æˆ·ä¹‹é—´å…±äº«ä¸€ä¸ªç›®å½•çš„æ‰€æœ‰æ–‡ä»¶å˜å¾—ç®€å•ã€‚</span><br></pre></td></tr></table></figure>
<h4 id="SBIT">SBIT</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stickyï¼ˆSI TI KIï¼‰ç²˜æ»ï¼Œç›®å‰åªå¯¹ç›®å½•æœ‰æ•ˆï¼Œä½œç”¨å¦‚ä¸‹ï¼š</span><br><span class="line">æ™®é€šç”¨æˆ·å¯¹è¯¥ç›®å½•æ‹¥æœ‰wå’Œxæƒé™ï¼Œå³æ™®é€šç”¨æˆ·å¯ä»¥åœ¨æ­¤ç›®å½•ä¸­æ‹¥æœ‰å†™å…¥æƒé™ï¼Œå¦‚æœæ²¡æœ‰ç²˜æ»ä½ï¼Œé‚£ä¹ˆæ™®é€šç”¨æˆ·æ‹¥æœ‰wæƒé™ï¼Œå°±å¯ä»¥åˆ é™¤æ­¤ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬å…¶ä»–ç”¨æˆ·ç®€å†çš„æ–‡ä»¶ã€‚ä½†æ˜¯ä¸€æ—¦è¢«èµ‹äºˆäº†ç²˜æ»ä½ï¼Œé™¤äº†rootå¯ä»¥åˆ é™¤æ‰€æœ‰æ–‡ä»¶ï¼Œæ™®é€šç”¨æˆ·å°±ç®—æœ‰wæƒé™ä¹Ÿåªèƒ½åˆ é™¤è‡ªå·±å»ºç«‹çš„æ–‡ä»¶ï¼Œè€Œä¸èƒ½åˆ é™¤å…¶ä»–ç”¨æˆ·ç®€å†çš„æ–‡ä»¶ã€‚ç³»ç»Ÿä¸­å­˜åœ¨çš„/tmpç›®å½•æ˜¯ç»å…¸çš„ç²˜æ»ä½ç›®å½•ï¼Œè°éƒ½æœ‰å†™æƒé™ï¼Œå› æ­¤å®‰å…¨æˆé—®é¢˜ï¼Œå¸¸å¸¸æ˜¯æœ¨é©¬ç¬¬ä¸€æ‰‹è·³æ¿ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>==æˆæƒæ–¹å¼==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">SBITæ•°å­—æƒé™ï¼š1000</span><br><span class="line">suid=4000</span><br><span class="line">sgid=2000</span><br><span class="line">sbit=1000</span><br><span class="line">r=4</span><br><span class="line">w=2</span><br><span class="line">x=1</span><br><span class="line">-=0</span><br><span class="line"><span class="comment">## æ•°å­—æƒé™æˆæƒ</span></span><br><span class="line"><span class="built_in">chmod</span> 1xxx æ–‡ä»¶å</span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> 1644 dir1</span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> 1755 dir1</span><br><span class="line"><span class="comment">## ugoæ–¹å¼</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chmod</span> o+t dir1</span><br><span class="line">tï¼šä»£è¡¨è¯¥æ–‡ä»¶çš„å…¶ä»–ç”¨æˆ·æƒé™ä½ä¸Šï¼Œæœ¬èº«æœ‰xï¼ˆæ‰§è¡Œï¼‰æƒé™</span><br><span class="line">Tï¼šä»£è¡¨è¯¥æ–‡ä»¶çš„å…¶ä»–ç”¨æˆ·æƒé™ä½ä¸Šï¼Œæœ¬èº«æ²¡æœ‰xï¼ˆæ‰§è¡Œï¼‰æƒé™</span><br><span class="line"><span class="comment">## æ€»ç»“ï¼š</span></span><br><span class="line">1.è®©å¤šä¸ªç”¨æˆ·éƒ½å…·æœ‰å†™æƒé™çš„ç›®å½•ï¼Œå¹¶è®©æ¯ä¸ªç”¨æˆ·åªèƒ½åˆ è‡ªå·±çš„æ–‡ä»¶ï¼ˆrooté™¤å¤–ï¼‰ã€‚</span><br><span class="line">2.ç‰¹æ®Šstickyç›®å½•è¡¨ç°åœ¨othersçš„xä½ï¼Œç”¨å°tè¡¨ç¤ºï¼Œå¦‚æœæ²¡æœ‰æ‰§è¡Œæƒé™æ˜¯T</span><br><span class="line">3.ä¸€ä¸ªç›®å½•å³ä½¿å®ƒçš„æƒé™ä¸º<span class="string">&quot;777&quot;</span>å¦‚æœæ˜¯è®¾ç½®äº†ç²˜æ»ä½ï¼Œé™¤äº†ç›®å½•çš„å±ä¸»å’Œ<span class="string">&quot;root&quot;</span>ç”¨æˆ·æœ‰æƒé™åˆ é™¤ï¼Œé™¤æ­¤ä¹‹</span><br><span class="line">å¤–å…¶ä»–ç”¨æˆ·éƒ½ä¸å…è®¸åˆ é™¤è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<h4 id="chattræƒé™">chattræƒé™</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">chattråªæœ‰rootç”¨æˆ·å¯ä»¥ä½¿ç”¨ï¼Œç”¨æ¥ä¿®æ”¹æ–‡ä»¶ç³»ç»Ÿçš„æƒé™å±æ€§ï¼Œå»ºç«‹å‡Œé©¾äºrwxåŸºç¡€æƒé™ä¹‹ä¸Šçš„æˆæƒ</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹æœ‰æ²¡æœ‰åŠ chattræƒé™</span></span><br><span class="line">lsattr /etc/passwd </span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆæƒæ–¹å¼</span></span><br><span class="line">[root@localhost ~]# chattr +i /etc/passwd</span><br><span class="line">chattrå‘½ä»¤æ ¼å¼ï¼šchattr [+-=][é€‰é¡¹] æ–‡ä»¶åæˆ–ç›®å½•å</span><br><span class="line"><span class="comment">#iï¼šä¸å¾—ä»»æ„æ›´åŠ¨æ–‡ä»¶æˆ–ç›®å½•</span></span><br><span class="line"><span class="comment">#aï¼šappendå¯ä»¥è¿½åŠ ï¼Œä½†æ— æ³•æ›´æ”¹æ–‡ä»¶å†…å®¹</span></span><br><span class="line">[root@localhost ~]# chattr +a /etc/passwd /etc/shadow /etc/group /etc/gshadow</span><br></pre></td></tr></table></figure>
<h3 id="3-è¿›ç¨‹æ©ç umask">3.è¿›ç¨‹æ©ç umask</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">ç³»ç»Ÿé»˜è®¤<span class="built_in">umask</span>ä¸º022ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç›®å½•æ—¶ï¼Œæ­£å¸¸æƒ…å†µä¸‹ç›®å½•çš„æƒé™åº”è¯¥æ˜¯777ï¼Œä½†æ˜¯<span class="built_in">umask</span>è¡¨ç¤ºè¦å‡</span><br><span class="line">å»çš„å€¼ï¼Œæ‰€ä»¥æ–°ç›®å½•æ–‡ä»¶çš„æƒé™åº”è¯¥æ˜¯777-022=755ã€‚è‡³äºæ–‡ä»¶çš„æƒé™ä¹Ÿä¾æ¬¡ç±»æ¨ï¼š666-022=644</span><br><span class="line"><span class="comment">## æŸ¥çœ‹ç³»ç»Ÿé»˜è®¤umask</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">umask</span></span><br><span class="line">0022</span><br><span class="line"><span class="comment">## ç›®å½•æƒé™ä½¿ç”¨777-umask</span></span><br><span class="line"><span class="comment">## æ–‡ä»¶æƒé™ä½¿ç”¨666-umask</span></span><br><span class="line">ä½†æ˜¯å½“<span class="built_in">umask</span>å‡ºç°å¥‡æ•°ä½æ—¶ï¼Œéœ€è¦åœ¨è¯¥ä½ä¸Šå¾—åˆ°ç»“æœå+1</span><br><span class="line"><span class="comment">## umask 147</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">umask</span> 147</span><br><span class="line">[root@localhost ~]# <span class="built_in">mkdir</span> zls789 // 630</span><br><span class="line">[root@localhost ~]# <span class="built_in">touch</span> zls456 // 620</span><br><span class="line"><span class="comment">## æ¡ä»¶</span></span><br><span class="line">[root@localhost ~]# <span class="comment"># 1.uid &gt; 199</span></span><br><span class="line">[root@localhost ~]# <span class="comment"># 2.uid name = gid name</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> /etc/profile</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$UID</span> -gt 199 ] &amp;&amp; [ <span class="string">&quot;`/usr/bin/id -gn`&quot;</span> = <span class="string">&quot;`/usr/bin/id -un`&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">umask</span> 002</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">umask</span> 022</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># UIDå¤§äº199 å¹¶ä¸” ç”¨æˆ·åå’Œç»„åå­ä¸€æ · æ­¤æ—¶ ï¼š umask=002    (å¹³å°ç”¨æˆ·)</span></span><br><span class="line"><span class="comment"># UIDå°äº199æ—¶ æ­¤æ—¶ umask=022	ï¼ˆrootç”¨æˆ·ï¼‰</span></span><br><span class="line"><span class="comment"># ç”¨æˆ·åå’Œç»„åä¸ä¸€æ ·æ—¶ æ­¤æ—¶umask=022</span></span><br><span class="line"></span><br><span class="line">ç”¨æˆ·å®¶ç›®å½•<span class="built_in">umask</span> 077</span><br><span class="line">[root@lb01 ~]# <span class="built_in">cat</span> /etc/login.defs  </span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹æ–‡ä»¶çš„æ•°å­—æƒé™</span></span><br><span class="line"><span class="built_in">stat</span> -c a% æ–‡ä»¶   </span><br><span class="line"><span class="built_in">stat</span> æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<h3 id="4-æ–‡ä»¶å±ä¸»å±ç»„ä¿®æ”¹">4.æ–‡ä»¶å±ä¸»å±ç»„ä¿®æ”¹</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## change owner</span></span><br><span class="line"><span class="built_in">chown</span> [é€‰é¡¹] å±ä¸»:å±ç»„ æ–‡ä»¶å</span><br><span class="line"><span class="comment">## ä¿®æ”¹å±ä¸»å’Œå±ç»„</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chown</span> zls:zls student.txt</span><br><span class="line">[root@localhost ~]# <span class="built_in">chown</span> root.root student.txt</span><br><span class="line"><span class="comment">## å±ä¸»ä¸å˜ï¼Œä¿®æ”¹å±ç»„</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chown</span> :tls student.txt</span><br><span class="line"><span class="comment">## å±ç»„ä¸å˜ï¼Œä¿®æ”¹å±ä¸»  åªåŠ ä¸€ä¸ªé»˜è®¤å°±æ˜¯ä¿®æ”¹å±ä¸»</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chown</span> zls student.txt    </span><br><span class="line"></span><br><span class="line">ä¸€ä¸ªç”¨æˆ·ï¼Œåˆ›å»ºå‡ºæ¥çš„æ–‡ä»¶ï¼Œä¸ä¸€å®šæƒé™å±äºä»–çš„ä¸»ç»„ï¼Œnewgrpåªè¦åˆ‡æ¢è¿‡ç»„ï¼Œåœ¨å“ªä¸ªç»„å·¥ä½œï¼Œåˆ›å»ºå‡ºçš„æ–‡ä»¶å±ç»„å°±å±äºå“ªä¸ªç»„</span><br><span class="line"><span class="comment">## ä¿®æ”¹ç›®å½•å±ä¸»å’Œå±ç»„ä¸‹é¢æ–‡ä»¶æƒé™ä¸å˜</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chown</span> www.www /code/</span><br><span class="line"><span class="comment">## é€’å½’ä¿®æ”¹ç›®å½•çš„å±ä¸»å’Œå±ç»„</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chown</span> -R www.www /code/</span><br></pre></td></tr></table></figure>
<h2 id="ã€5ã€‘é‡å®šå‘">ã€5ã€‘é‡å®šå‘</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å°†åŸæœ¬è¦è¾“å‡ºåˆ°å±å¹•çš„æ•°æ®ä¿¡æ¯ï¼Œé‡æ–°å®šå‘åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä½¿ç”¨é‡å®šå‘åœºæ™¯</span></span><br><span class="line">1.å½“å±å¹•è¾“å‡ºçš„ä¿¡æ¯å¾ˆé‡è¦ï¼Œè€Œä¸”å¸Œæœ›ä¿å­˜é‡è¦çš„ä¿¡æ¯æ—¶ã€‚</span><br><span class="line">2.åå°æ‰§è¡Œä¸­çš„ç¨‹åºï¼Œä¸å¸Œæœ›ä»–å¹²æ‰°å±å¹•æ­£å¸¸çš„è¾“å‡ºç»“æœæ—¶ã€‚</span><br><span class="line">3.ç³»ç»Ÿçš„ä¾‹è¡Œå‘½ä»¤ï¼Œä¾‹å¦‚å®šæ—¶ä»»åŠ¡çš„æ‰§è¡Œç»“æœï¼Œå¸Œæœ›ä»–å¯ä»¥å­˜ä¸‹æ¥æ—¶ã€‚</span><br><span class="line">4.ä¸€äº›æ‰§è¡Œå‘½ä»¤ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ä»–å¯èƒ½å‡ºç°é”™è¯¯ä¿¡æ¯ï¼Œæƒ³å°†ä»–ç›´æ¥ä¸¢å¼ƒæ—¶ã€‚</span><br><span class="line">5.æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œå¯èƒ½æŠ¥é”™å’Œæ­£ç¡®çš„è¾“å‡ºå¹¶å­˜ï¼Œç±»ä¼¼é”™è¯¯æ—¥å¿—ä¸æ ‡å‡†æ­£ç¡®æ—¥å¿—éœ€è¦åˆ†åˆ«è¾“å‡ºè‡³ä¸åŒçš„æ–‡ä»¶ã€‚</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œä¸€ä¸ªshellç¨‹åºæ—¶é€šå¸¸ä¼šè‡ªåŠ¨æ‰“å¼€ä¸‰ä¸ªæ–‡ä»¶æè¿°ç¬¦</p>
<table>
<thead>
<tr>
<th style="text-align:center">åç§°</th>
<th style="text-align:center">æ–‡ä»¶æè¿°ç¬¦</th>
<th style="text-align:center">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">æ ‡å‡†è¾“å…¥ (stdin)</td>
<td style="text-align:center">0</td>
<td style="text-align:center">é€šå¸¸æ˜¯é”®ç›˜ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–æ–‡ä»¶æˆ–è€…å‘½ä»¤çš„è¾“å‡ºçš„å†…å®¹å¯ä»¥ä½œä¸ºæ ‡å‡†è¾“å…¥</td>
</tr>
<tr>
<td style="text-align:center">æ ‡å‡†è¾“å‡º (stdout)</td>
<td style="text-align:center">1</td>
<td style="text-align:center">é»˜è®¤è¾“å‡ºåˆ°å±å¹•</td>
</tr>
<tr>
<td style="text-align:center">é”™è¯¯è¾“å‡º (stderr)</td>
<td style="text-align:center">2</td>
<td style="text-align:center">é»˜è®¤è¾“å‡ºåˆ°å±å¹•</td>
</tr>
<tr>
<td style="text-align:center">æ–‡ä»¶åç§° (filename)</td>
<td style="text-align:center">3+</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">æ ‡å‡†è¾“å…¥ï¼šstdin</span><br><span class="line">æ ‡å‡†è¾“å‡ºï¼šstdout</span><br><span class="line">é”™è¯¯è¾“å‡ºï¼šstderr</span><br><span class="line">[root@localhost ~]# ll /dev/std*</span><br><span class="line">lrwxrwxrwx. 1 root root 15 Apr 16 15:52 /dev/stderr -&gt; /proc/self/fd/2</span><br><span class="line">lrwxrwxrwx. 1 root root 15 Apr 16 15:52 /dev/stdin -&gt; /proc/self/fd/0</span><br><span class="line">lrwxrwxrwx. 1 root root 15 Apr 16 15:52 /dev/stdout -&gt; /proc/self/fd/1</span><br><span class="line">æ–‡ä»¶æè¿°ç¬¦fdï¼šä¸€ä¸ªå‘½ä»¤æˆ–è€…ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè‡³å°‘è¦æ‰“å¼€4ä¸ªæ–‡ä»¶æè¿°ç¬¦</span><br><span class="line">æ–‡ä»¶æè¿°ç¬¦0ï¼šæ ‡å‡†è¾“å…¥</span><br><span class="line">æ–‡ä»¶æè¿°ç¬¦1ï¼šæ ‡å‡†è¾“å‡º</span><br><span class="line">æ–‡ä»¶æè¿°ç¬¦2ï¼šé”™è¯¯è¾“å‡º</span><br><span class="line">æ–‡ä»¶æè¿°ç¬¦3+ï¼šæ–‡ä»¶å</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>è¾“å…¥è¾“å‡º</th>
<th>ç¬¦å·</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ ‡å‡†è¾“å…¥é‡å®šå‘</td>
<td>&lt; æˆ– 0&lt;</td>
</tr>
<tr>
<td>æ ‡å‡†è¾“å‡ºé‡å®šå‘</td>
<td>&gt; æˆ– 1&gt;</td>
</tr>
<tr>
<td>é”™è¯¯è¾“å‡ºé‡å®šå‘</td>
<td>2&gt;</td>
</tr>
</tbody>
</table>
<p>æŸ¥çœ‹æ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@lb01 ~]# ll /dev/std*</span><br><span class="line">lrwxrwxrwx. 1 root root 15 Apr 16 08:16 /dev/stderr -&gt; /proc/self/fd/2		é”™è¯¯è¾“å‡º</span><br><span class="line">lrwxrwxrwx. 1 root root 15 Apr 16 08:16 /dev/stdin -&gt; /proc/self/fd/0		æ ‡å‡†è¾“å…¥</span><br><span class="line">lrwxrwxrwx. 1 root root 15 Apr 16 08:16 /dev/stdout -&gt; /proc/self/fd/1		æ ‡å‡†è¾“å‡º</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>æ“ä½œç¬¦</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ ‡å‡†è¦†ç›–è¾“å‡ºé‡å®šå‘</td>
<td>1&gt;æˆ–&gt;</td>
<td>å°†å‘½ä»¤çš„æ‰§è¡Œç»“æœè¾“å‡ºåˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­, è€Œä¸æ˜¯ç›´æ¥æ˜¾ç¤ºåœ¨å±å¹•ä¸Š</td>
</tr>
<tr>
<td>æ ‡å‡†è¿½åŠ è¾“å‡ºé‡å®šå‘</td>
<td>&gt;&gt;1æˆ–1&gt;&gt;</td>
<td>å°†å‘½ä»¤æ‰§è¡Œçš„ç»“æœè¿½åŠ è¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶</td>
</tr>
<tr>
<td>é”™è¯¯è¦†ç›–è¾“å‡ºé‡å®šå‘</td>
<td>2&gt;</td>
<td>å°†ç¨‹åºçš„é”™è¯¯ç»“æœè¾“å‡ºåˆ°æ‰§è¡Œçš„æ–‡ä»¶ä¸­ï¼Œä¼šè¦†ç›–æºæ–‡ä»¶å†…å®¹</td>
</tr>
<tr>
<td>é”™è¯¯è¿½åŠ è¾“å‡ºé‡å®šå‘</td>
<td>2&gt;&gt;</td>
<td>å°†ç¨‹åºè¾“å‡ºçš„é”™è¯¯ç»“æœä»¥è¿½åŠ çš„æ–¹å¼è¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶ä¸­ï¼Œä¸ä¼šè¦†ç›–æºæ–‡ä»¶</td>
</tr>
<tr>
<td>æ ‡å‡†è¾“å…¥é‡å®šå‘</td>
<td>&lt;&lt;</td>
<td>å°†å‘½ä»¤ä¸­æ¥æ”¶è¾“å…¥çš„é€”å¾„ç”±é»˜è®¤çš„é”®ç›˜æ›´æ”¹ä¸ºæŒ‡å®šçš„æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<h3 id="1-é‡å®šå‘ä½¿ç”¨">1.é‡å®šå‘ä½¿ç”¨</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">æ ‡å‡†è¾“å‡ºè¿½åŠ é‡å®šå‘</span><br><span class="line">[root@lb01 ~]# <span class="built_in">echo</span> <span class="string">&quot;111&quot;</span> &gt;&gt;1.txt</span><br><span class="line">æ ‡å‡†è¾“å‡ºè¦†ç›–é‡å®šå‘</span><br><span class="line">[root@lb01 ~]# <span class="built_in">echo</span> <span class="string">&quot;111&quot;</span> &gt;1.txt</span><br><span class="line">é”™è¯¯è¾“å‡ºè¦†ç›–é‡å®šå‘</span><br><span class="line">[root@lb01 ~]# nginx -V 2&gt;&gt; 1.txt</span><br><span class="line">é”™è¯¯è¾“å‡ºè¿½åŠ é‡å®šå‘</span><br><span class="line">[root@lb01 ~]# nginx -V 2&gt; 1.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>==1.é”™è¯¯è¾“å‡ºå’Œæ­£ç¡®è¾“å‡ºï¼Œéƒ½è¾“å‡ºåˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æ–¹æ³•ä¸€ï¼š</span></span><br><span class="line">[root@lb01 ~]# find /etc/ -<span class="built_in">type</span> d &gt; /tmp/1.<span class="built_in">log</span> 2&gt;/tmp/1.<span class="built_in">log</span></span><br><span class="line"><span class="comment">## æ–¹æ³•äºŒï¼š</span></span><br><span class="line">æ ‡å‡†è¾“å‡ºåˆ°2.<span class="built_in">log</span>æ–‡ä»¶é‡Œï¼Œé”™è¯¯è¾“å‡ºåˆ°å’Œæ ‡å‡†è¾“å‡ºä¸€æ ·ä½ç½®</span><br><span class="line">[root@lb01 ~]# find /etc/ -<span class="built_in">type</span> d 1&gt; /tmp/2.<span class="built_in">log</span> 2&gt;&amp;1</span><br><span class="line">å’Œä¸Šé¢ç›¸å</span><br><span class="line">[root@lb01 ~]# find /etc/ -<span class="built_in">type</span> d 2&gt; /tmp/6.<span class="built_in">log</span> 1&gt;&amp;2</span><br><span class="line"><span class="comment">## æ–¹æ³•ä¸‰ï¼š</span></span><br><span class="line">[root@lb01 ~]# find /etc/ -<span class="built_in">type</span> d &amp;&gt; /tmp/11.<span class="built_in">log</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†å‘½ä»¤ç»“æœé‡å®šå‘åˆ°é»‘æ´</span></span><br><span class="line">[zls@localhost ~]$ find /etc/ -<span class="built_in">type</span> d 1&gt; /tmp/6.<span class="built_in">log</span> 2&gt;/dev/null æ ‡å‡†è¾“å‡ºåˆ°6.<span class="built_in">log</span>ï¼Œé”™è¯¯è¾“å‡ºåˆ°é»‘æ´</span><br><span class="line">[zls@localhost ~]$ find /etc/ -<span class="built_in">type</span> d &amp;&gt;/dev/null  æ‰€æœ‰è¾“å‡ºç»“æœåˆ°é»‘æ´</span><br></pre></td></tr></table></figure>
<p><strong>==2.æ ‡å‡†è¾“å‡ºå’Œé”™è¯¯è¾“å‡ºåˆ°ä¸¤ä¸ªæ–‡ä»¶==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc -name <span class="string">&quot;*.conf&quot;</span> 1&gt;a 2&gt;b</span><br></pre></td></tr></table></figure>
<p><strong>==3.å°†æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°åŒä¸€ä¸ªæ–‡ä»¶, æ··åˆè¾“å‡º==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[zls@zls ~]$ find /etc -name <span class="string">&quot;*.conf&quot;</span> &amp;&gt;ab </span><br><span class="line">[zls@zls ~]$ find /etc -name <span class="string">&quot;*.conf&quot;</span> &gt;ab 2&amp;&gt;1</span><br><span class="line">[zls@zls ~]$ find /etc -name <span class="string">&quot;*.conf&quot;</span> &gt;ab 2&gt;&amp;1</span><br><span class="line">åˆå¹¶ä¸¤ä¸ªæ–‡ä»¶åˆ°ä¸€ä¸ªæ–‡ä»¶</span><br><span class="line"><span class="built_in">cat</span> 1 2 &gt;3</span><br></pre></td></tr></table></figure>
<h3 id="2-è¾“å…¥é‡å®šå‘">2.è¾“å…¥é‡å®šå‘</h3>
<p>è¾“å…¥é‡å®šå‘ï¼Œå³åŸæœ¬ä»é”®ç›˜ç­‰è®¾å¤‡ä¸Šè·å¾—çš„è¾“å…¥ä¿¡æ¯ï¼Œé‡å®šå‘ç”±å‘½ä»¤çš„è¾“å‡ºä½œä¸ºè¾“å…¥</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat &gt;1.txt	ç­‰å¾…é”®ç›˜è¾“å…¥é‡å®šå‘åˆ°1.txtï¼ŒCtrl+cç»ˆæ­¢è¾“å…¥</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# cat &lt;&lt;EOF &gt; 1.txt   ç­‰å¾…é”®ç›˜è¾“å…¥ï¼Œé‡åˆ°Eofç»“æŸé‡å®šå‘åˆ°1.txt</span><br><span class="line">111</span><br><span class="line">222</span><br><span class="line">333</span><br><span class="line">EOF</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-ä¸¤æ¡å‘½ä»¤é‡å®šå‘">3.ä¸¤æ¡å‘½ä»¤é‡å®šå‘</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# (<span class="built_in">ls</span>;ifconfig) &gt; /tmp/1.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">## å°†å†…å®¹è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œç„¶åæ”¾åå°æ‰§è¡Œ åŠ ä¸ª&amp;</span></span><br><span class="line">[root@localhost ~]# ping baidu.com &amp;&gt;/tmp/a.log &amp;</span><br><span class="line"></span><br><span class="line">æ‰©å±•ç‚¹: subshell</span><br><span class="line">[root@zls ~]# <span class="built_in">cd</span> /boot; <span class="built_in">ls</span></span><br><span class="line"><span class="comment">#subshell ä¸­æ‰§è¡Œ</span></span><br><span class="line">[root@zls ~]# (<span class="built_in">cd</span> /boot; <span class="built_in">ls</span>)</span><br><span class="line"><span class="comment">#å¦‚æœä¸å¸Œæœ›æŸäº›å‘½ä»¤çš„æ‰§è¡Œå¯¹å½“å‰ shell ç¯å¢ƒäº§ç”Ÿå½±å“ï¼Œè¯·åœ¨subshellä¸­æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure>
<h3 id="4-ç®¡é“æŠ€æœ¯">4.ç®¡é“æŠ€æœ¯</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç®¡é“ç¬¦ä½œç”¨ï¼šå°†ç®¡é“ç¬¦å·¦è¾¹å‘½ä»¤çš„æ ‡å‡†è¾“å‡ºäº¤ç»™ç®¡é“ç¬¦å³è¾¹å‘½ä»¤çš„æ ‡å‡†è¾“å…¥æ¥å¤„ç†</span><br><span class="line">1ï¼‰å·¦è¾¹å‘½ä»¤ä»–å¾—æ˜¯æ ‡å‡†è¾“å‡º 1&gt;</span><br><span class="line">2ï¼‰å³è¾¹å‘½ä»¤å¿…é¡»æœ‰æ ‡å‡†è¾“å…¥</span><br></pre></td></tr></table></figure>
<p><strong>==teeç®¡é“æŠ€æœ¯==</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240416145607541.png" alt="image-20240416145607541"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">tee</span>ç›¸å½“äºå¼€ä¸ªä¾§é—¨è¾“å‡ºé‡å®šå‘åˆ°æŸä¸ªæ–‡ä»¶ï¼ŒåŸç†è§ä¸Šå›¾</span><br><span class="line">[root@localhost ~]# <span class="built_in">echo</span> <span class="variable">$RANDOM</span>|<span class="built_in">tee</span> /dev/pts/3|passwd --stdin zls</span><br><span class="line">[root@localhost ~]# <span class="built_in">echo</span> <span class="variable">$RANDOM</span>|<span class="built_in">tee</span> /tmp/pass.txt|passwd --stdin zls</span><br><span class="line"><span class="comment">## -aï¼šappend è¿½åŠ åˆ°æ–‡ä»¶ä¸­</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">echo</span> <span class="variable">$RANDOM</span>|<span class="built_in">tee</span> -a /tmp/pass.txt|passwd --stdin zls</span><br></pre></td></tr></table></figure>
<h3 id="5-xargsä¼ å‚">5.xargsä¼ å‚</h3>
<p><strong>xarasåé¢ä¸è¯†åˆ«åˆ«å</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">xargså°†ç®¡é“ç¬¦å‰é¢å‘½ä»¤çš„æ ‡å‡†è¾“å‡ºï¼Œå½“æˆç»“æœï¼Œæ”¾åˆ°ç®¡é“ç¬¦å³è¾¹xargsåé¢çš„å‘½ä»¤çš„åé¢æ‰§è¡Œ</span><br><span class="line">[root@localhost ~]# <span class="built_in">echo</span> &#123;1..10&#125;</span><br><span class="line">1 2 3 4 5 6 7 8 9 10</span><br><span class="line">[root@localhost ~]# <span class="built_in">echo</span> &#123;1..5&#125;|xargs -n1</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">[root@localhost ~]# <span class="built_in">echo</span> &#123;1..10&#125;|xargs -n2    -n2æ¯ä¸¤ä¸ªä¸€è¡Œ -n3æ¯ä¸‰ä¸ªæ‹ä¸€è¡Œ</span><br><span class="line">1 2</span><br><span class="line">3 4</span><br><span class="line">5 6</span><br><span class="line">7 8</span><br><span class="line">9 10</span><br><span class="line">[root@lb01 ~]# <span class="built_in">seq</span> 10|xargs -n3</span><br><span class="line">1 2 3</span><br><span class="line">4 5 6</span><br><span class="line">7 8 9</span><br><span class="line">10</span><br><span class="line"></span><br><span class="line"><span class="comment">## æ‰¾å‡ºæ¥çš„æ–‡ä»¶æ‹·è´åˆ°/tmp</span></span><br><span class="line">[root@localhost ~]# grep -rl <span class="string">&#x27;xxx&#x27;</span> ./|xargs <span class="built_in">cp</span> -t /tmp/</span><br><span class="line">[root@localhost ~]# grep -rl <span class="string">&#x27;xxx&#x27;</span> ./|xargs -I &#123;&#125; <span class="built_in">cp</span> &#123;&#125; /opt</span><br><span class="line"></span><br><span class="line">æ³¨æ„äº‹é¡¹:</span><br><span class="line">1.åœ¨ç®¡é“åé¢çš„å‘½ä»¤ï¼Œéƒ½ä¸åº”è¯¥åœ¨å†™æ–‡ä»¶å</span><br><span class="line">2.åœ¨ç®¡é“ä¸­åªæœ‰æ ‡å‡†è¾“å‡ºæ‰å¯ä»¥ä¼ é€’ä¸‹ä¸€ä¸ªå‘½ä»¤, æ ‡å‡†é”™è¯¯è¾“å‡ºä¼šç›´æ¥è¾“å‡ºç»ˆç«¯æ˜¾ç¤º, å»ºè®®åœ¨ä½¿ç”¨ç®¡</span><br><span class="line">é“å‰å°†æ ‡å‡†é”™è¯¯è¾“å‡ºé‡å®šå‘ã€‚</span><br><span class="line">ä¾‹å¦‚: find /etc -name <span class="string">&quot;*.conf&quot;</span> 2&gt;/dev/null | grep rc</span><br><span class="line">3.æœ‰äº›å‘½ä»¤ä¸æ”¯æŒç®¡é“æŠ€æœ¯, ä½†æ˜¯å¯ä»¥é€šè¿‡ xargs æ¥å®ç°ç®¡é“ä¼ é€’ã€‚</span><br><span class="line">ä¾‹å¦‚: <span class="built_in">which</span> <span class="built_in">cat</span>|xargs ls-l</span><br><span class="line">ä¾‹å¦‚: <span class="built_in">ls</span> |xargs <span class="built_in">rm</span> -rvf</span><br><span class="line">-I é€‰é¡¹ä½œç”¨æ˜¯å°†å‰é¢è¾“å‡ºç»“æœæ‰“åŒ…åˆ°&#123;&#125;å†…</span><br><span class="line">ä¾‹å¦‚: <span class="built_in">ls</span> |xargs <span class="built_in">cp</span> -rvft /tmp/ ==&gt; <span class="built_in">ls</span> | xargs -I &#123;&#125; <span class="built_in">cp</span> -rvf &#123;&#125; /tmp</span><br><span class="line">ä¾‹å¦‚: <span class="built_in">ls</span> |xargs <span class="built_in">mv</span> -t /tmp/ ==&gt; <span class="built_in">ls</span> | xargs -I &#123;&#125; <span class="built_in">mv</span> &#123;&#125; /tmp</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>xargsé€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>è®¾ç½®ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®</td>
</tr>
<tr>
<td>-d</td>
<td>è®¾ç½®è‡ªå®šä¹‰å®šç•Œç¬¦</td>
</tr>
<tr>
<td>-l</td>
<td>è®¾ç½®æ›¿æ¢å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>-n</td>
<td>è®¾ç½®å¤šè¡Œè¾“å‡º</td>
</tr>
<tr>
<td>-p</td>
<td>æ‰§è¡Œå‘½ä»¤å‰è¯¢é—®ç”¨æˆ·æ˜¯å¦ç¡®è®¤</td>
</tr>
<tr>
<td>-r</td>
<td>å¦‚æœè¾“å…¥æ•°æ®ä¸ºç©ºï¼Œåˆ™ä¸æ‰§è¡Œ</td>
</tr>
<tr>
<td>-s</td>
<td>è®¾ç½®æ¯æ¡å‘½ä»¤æœ€å¤§å­—ç¬¦æ•°</td>
</tr>
<tr>
<td>-t</td>
<td>æ˜¾ç¤ºxargsæ‰§è¡Œçš„å‘½ä»¤</td>
</tr>
</tbody>
</table>
<h2 id="ã€6ã€‘æ–‡ä»¶è§£å‹ç¼©">ã€6ã€‘æ–‡ä»¶è§£å‹ç¼©</h2>
<h3 id="1-å¸¸è§å‹ç¼©åŒ…ç±»å‹">1.å¸¸è§å‹ç¼©åŒ…ç±»å‹</h3>
<table>
<thead>
<tr>
<th>æ ¼å¼</th>
<th>å‹ç¼©å·¥å…·</th>
</tr>
</thead>
<tbody>
<tr>
<td>.zip</td>
<td>zipå‹ç¼©å·¥å…·</td>
</tr>
<tr>
<td>.gz</td>
<td>gzipå‹ç¼©å·¥å…·ï¼Œåªèƒ½å‹ç¼©æ–‡ä»¶ï¼Œä¼šåˆ é™¤æºæ–‡ä»¶ï¼ˆé€šå¸¸é…åˆtarä½¿ç”¨ï¼‰</td>
</tr>
<tr>
<td>bz2</td>
<td>bzip2å‹ç¼©å·¥å…·ï¼Œåªèƒ½å‹ç¼©æ–‡ä»¶ï¼Œä¼šåˆ é™¤æºæ–‡ä»¶ï¼ˆé€šå¸¸é…åˆtarä½¿ç”¨ï¼‰</td>
</tr>
<tr>
<td>.tar.gz</td>
<td>å…ˆä½¿ç”¨tarå‘½ä»¤å½’æ¡£æ‰“åŒ…ï¼Œç„¶åä½¿ç”¨gzipå‹ç¼©</td>
</tr>
<tr>
<td>tar.bz2</td>
<td>å…ˆä½¿ç”¨tarå‘½ä»¤å½’æ¡£æ‰“åŒ…ï¼Œç„¶åä½¿ç”¨bzip2å‹ç¼©</td>
</tr>
</tbody>
</table>
<h3 id="2-å‹ç¼©è§£å‹å‘½ä»¤â€”gzip">2.å‹ç¼©è§£å‹å‘½ä»¤â€”gzip</h3>
<p>æ³¨æ„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨æ‰“åŒ…å‹ç¼©å‘½ä»¤ï¼Œæœ€å¥½åˆ°éœ€è¦è¢«æ‰“åŒ…ç›®å½•çš„ä¸Šçº§ç›®å½•,</span><br><span class="line">è§£å‹æ—¶ï¼Œ-Cæœ€å¥½ä¸è¦æŒ‡å®š/ç›®å½• å¯èƒ½ä¼šè¦†ç›–/ä¸‹æŸäº›åŸæ–‡ä»¶</span><br><span class="line">[root@localhost ~]# tar xf mysql.tgz -C /  </span><br><span class="line">/etc/profile</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## å‹ç¼©æ–‡ä»¶</span></span><br><span class="line">è¯­æ³•ï¼šgzip æ–‡ä»¶å</span><br><span class="line">[root@localhost ~]# gzip file1</span><br><span class="line">[root@driver-zeng ~]# <span class="built_in">echo</span> 22222|gzip &gt; zls.txt.gz</span><br><span class="line"></span><br><span class="line"><span class="comment">## è§£å‹    -dï¼šè§£å‹æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]# gzip -d file1.gz</span><br><span class="line"><span class="comment">## æŸ¥çœ‹æ–‡ä»¶ç±»å‹</span></span><br><span class="line">[root@localhost ~]# file file2.gz</span><br><span class="line">file2.gz: gzip compressed data, was <span class="string">&quot;file2&quot;</span>, from Unix, last modified: Thu Apr</span><br><span class="line">18 17:33:26 2024</span><br><span class="line"></span><br><span class="line"><span class="comment">## å¯ä»¥ç›´æ¥æŸ¥çœ‹å‹ç¼©åŒ…ä¸­æ–‡ä»¶çš„å†…å®¹</span></span><br><span class="line">[root@localhost ~]# zcat file4.gz</span><br><span class="line">xxx</span><br><span class="line"><span class="comment">## ç‰¹ç‚¹ï¼š</span></span><br><span class="line">1.å‹ç¼©åŒ…åç¼€.gz</span><br><span class="line">2.å‹ç¼©åæºæ–‡ä»¶ä¸å­˜åœ¨</span><br><span class="line">3.å‹ç¼©ç‡å¾ˆé«˜</span><br><span class="line">4.ç¼ºé™·å°±æ˜¯ï¼Œä¸èƒ½å‹ç¼©ç›®å½•ï¼Œä¸èƒ½å‹ç¼©å¤šä¸ªæ–‡ä»¶</span><br><span class="line">5.è§£å‹åï¼Œå‹ç¼©åŒ…ä¸åœ¨äº†ï¼Œæºæ–‡ä»¶å‡ºæ¥äº†</span><br><span class="line">6.å¯ä»¥ç›´æ¥ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹å‹ç¼©åŒ…ä¸­æ–‡ä»¶çš„å†…å®¹</span><br></pre></td></tr></table></figure>
<h3 id="3-å‹ç¼©è§£å‹å‘½ä»¤â€”zip">3.å‹ç¼©è§£å‹å‘½ä»¤â€”zip</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## å®‰è£…</span></span><br><span class="line">[root@localhost ~]# yum install -y zip</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¯­æ³•ï¼š</span></span><br><span class="line">zip åŒ…å æ–‡ä»¶å...</span><br><span class="line"></span><br><span class="line"><span class="comment">## å‹ç¼©æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# zip file1.zip file1</span><br><span class="line"></span><br><span class="line"><span class="comment">## å‹ç¼©å¤šä¸ªæ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# zip file.zip file1 file10</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŸ¥çœ‹æ–‡ä»¶ç±»å‹</span></span><br><span class="line">[root@localhost ~]# file file.zip</span><br><span class="line">file.zip: Zip archive data, at least v1.0 to extract</span><br><span class="line"></span><br><span class="line"><span class="comment">## å‹ç¼©ç›®å½•    -r åŒ…å«ç›®å½•å†…å®¹ä¸€èµ·å‹ç¼©</span></span><br><span class="line">[root@localhost ~]# zip -r dir1.zip dir1/</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŒ‡å®šè·¯å¾„å‹ç¼©    å‹ç¼©testä¸‹æ‰€æœ‰æ–‡ä»¶åˆ°tmpä¸‹ï¼Œæ–‡ä»¶åæ˜¯test.zip</span></span><br><span class="line">[root@localhost ~]# zip -r /tmp/test.zip <span class="built_in">test</span>/</span><br><span class="line"></span><br><span class="line"><span class="comment">## è§£å‹</span></span><br><span class="line">[root@localhost ~]# yum install -y unzip</span><br><span class="line">[root@localhost opt]# unzip dir1.zip</span><br><span class="line">[root@localhost tmp]# unzip /opt/dir1.zip	è§£å‹æŒ‡å®šç›®å½•æ–‡ä»¶</span><br><span class="line"><span class="comment">## æŸ¥çœ‹åŒ…é‡Œæœ‰å“ªäº›æ–‡ä»¶æˆ–ç›®å½•</span></span><br><span class="line">[root@localhost <span class="built_in">local</span>]# unzip -l /opt/dir1.zip</span><br><span class="line">Archive: /opt/dir1.zip</span><br><span class="line">Length Date Time Name</span><br><span class="line">--------- ---------- ----- ----</span><br><span class="line">0 04-18-2024 18:40 dir1/</span><br><span class="line">26 04-18-2024 18:40 dir1/file1.gz</span><br><span class="line">27 04-18-2024 18:40 dir1/file10.gz</span><br><span class="line">26 04-18-2024 18:40 dir1/file2.gz</span><br><span class="line">26 04-18-2024 18:40 dir1/file3.gz</span><br><span class="line">26 04-18-2024 18:40 dir1/file4.gz</span><br><span class="line">261 11 files</span><br><span class="line"><span class="comment">## ç‰¹ç‚¹ï¼š</span></span><br><span class="line">1.å‹ç¼©åŒ…åç¼€.zip</span><br><span class="line">2.å‹ç¼©åæºæ–‡ä»¶å­˜åœ¨</span><br><span class="line">3.å‹ç¼©ç‡å¾ˆé«˜</span><br><span class="line">4.é»˜è®¤æƒ…å†µä¸‹ä¸èƒ½å‹ç¼©ç›®å½•ï¼Œèƒ½å‹ç¼©å¤šä¸ªæ–‡ä»¶ï¼Œå‹ç¼©ç›®å½•éœ€è¦é€‰é¡¹</span><br><span class="line">5.å‹ç¼©æ—¶å¯ä»¥æŒ‡å®šå‹ç¼©åŒ…çš„è·¯å¾„</span><br><span class="line">6.è§£å‹åï¼Œå‹ç¼©åŒ…è¿˜åœ¨ï¼Œæºæ–‡ä»¶å‡ºæ¥äº†</span><br><span class="line">7.ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹å‹ç¼©åŒ…ä¸­æ–‡ä»¶çš„å†…å®¹</span><br></pre></td></tr></table></figure>
<h3 id="4-å‹ç¼©è§£å‹å‘½ä»¤â€”tar">4.å‹ç¼©è§£å‹å‘½ä»¤â€”tar</h3>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>c</td>
<td>åˆ›å»ºå½’æ¡£æ–‡ä»¶</td>
</tr>
<tr>
<td>f</td>
<td>æŒ‡å®šå½’æ¡£æ–‡ä»¶çš„åŒ…å</td>
</tr>
<tr>
<td>z</td>
<td>ä½¿ç”¨gzipæ¥å‹ç¼©å½’æ¡£åçš„æ–‡ä»¶ï¼Œxfè§£å‹.tar.gzåŒ…</td>
</tr>
<tr>
<td>x</td>
<td>å¯¹å½’æ¡£æ–‡ä»¶è¿›è¡Œè§£å‹</td>
</tr>
<tr>
<td>v</td>
<td>æ˜¾ç¤ºè¿‡ç¨‹</td>
</tr>
<tr>
<td>t</td>
<td>æŸ¥çœ‹å‹ç¼©åŒ…ä¸­çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•</td>
</tr>
<tr>
<td>X</td>
<td>å¯ä»¥æ’é™¤å¤šä¸ªä¸æƒ³æ‰“åŒ…çš„æ–‡ä»¶ï¼ŒæŒ‡å®šæ–‡ä»¶å   (æŠŠä¸æƒ³æ‰“åŒ…çš„æ–‡ä»¶åå†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼ŒXæŒ‡å®šè¿™ä¸ªæ–‡ä»¶å°±è¡Œï¼Œè‹¥æ’é™¤çš„æ–‡ä»¶åœ¨åµŒå¥—ç›®å½•ï¼Œåˆ™æŠŠç›¸å¯¹è·¯å¾„å†™ä¸Šå³å¯)</td>
</tr>
<tr>
<td>h</td>
<td>æ‰“åŒ…è½¯é“¾æ¥çš„æºæ–‡ä»¶</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>J</td>
<td>ä½¿ç”¨xzå‹ç¼©å½’æ¡£åçš„æ–‡ä»¶ï¼Œxf è§£å‹.tar.xzåŒ…</td>
</tr>
<tr>
<td>-P</td>
<td>ä½¿ç”¨ç»å¯¹è·¯å¾„æ‰“åŒ…</td>
</tr>
<tr>
<td>j</td>
<td>ä½¿ç”¨bzip2å‹ç¼©å½’æ¡£åçš„æ–‡ä»¶ï¼Œxfè§£å‹ .tar.bz2åŒ…</td>
</tr>
<tr>
<td>-C</td>
<td>è§£å‹åˆ°æŒ‡å®šç›®å½•</td>
</tr>
<tr>
<td>â€“exclude</td>
<td>æ’é™¤ä¸æƒ³è¦çš„æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## tarå‘½ä»¤æœ¬èº«åªæ˜¯ä¸€ä¸ªå½’æ¡£å‘½ä»¤</span></span><br><span class="line"><span class="comment">## è¯­æ³•ï¼š</span></span><br><span class="line">tar [é€‰é¡¹] åŒ…å æ–‡ä»¶...</span><br><span class="line">[root@localhost ~]# file abc.tar</span><br><span class="line">abc.tar: POSIX tar archive (GNU)</span><br><span class="line">[root@localhost ~]# file nginx-1.22.1.tar.gz</span><br><span class="line">nginx-1.22.1.tar.gz: gzip compressed data, from Unix, last modified: Wed Oct 19</span><br><span class="line">16:02:28 2022</span><br><span class="line"><span class="comment">## æ–‡ä»¶å½’æ¡£</span></span><br><span class="line">[root@localhost ~]# tar cf dir1.tar dir1</span><br><span class="line"><span class="comment">## æ–‡ä»¶å½’æ¡£å¹¶æŒ‡å®šè·¯å¾„</span></span><br><span class="line">[root@localhost ~]# tar cf /tmp/dir1_xxx.tar dir1</span><br><span class="line"><span class="comment">## å‹ç¼©ç›®å½•</span></span><br><span class="line">[root@localhost ~]# tar zcf dir1.tgz dir1/</span><br><span class="line"><span class="comment">## å‹ç¼©å¹¶æ˜¾ç¤ºè¿‡ç¨‹</span></span><br><span class="line">[root@localhost ~]# tar zcvf dir1.tgz dir1/</span><br><span class="line"><span class="comment">## è§£å‹</span></span><br><span class="line">[root@localhost ~]# tar zxf dir1.tgz</span><br><span class="line"><span class="comment">## æŸ¥çœ‹</span></span><br><span class="line">[root@localhost ~]# tar tf nginx-1.22.1.tar.gz</span><br><span class="line"><span class="comment">## è§£å‹åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line">[root@localhost ~]# tar zxf nginx-1.22.1.tar.gz -C /tmp/</span><br><span class="line"><span class="comment">## æ‰“åŒ…æ—¶æ’é™¤ä¸æƒ³è¦çš„æ–‡ä»¶</span></span><br><span class="line">[root@localhost tmp]# tar zcf root2.tgz --exclude=file6 --exclude=file7 /root</span><br><span class="line">1.å½’æ¡£åŒ…åç¼€.tar</span><br><span class="line">2.å½’æ¡£åæºæ–‡ä»¶å­˜åœ¨</span><br><span class="line">3.æ²¡æœ‰å‹ç¼©ç‡</span><br><span class="line">4.é»˜è®¤æƒ…å†µä¸‹èƒ½å½’æ¡£ç›®å½•ï¼Œèƒ½å½’æ¡£å¤šä¸ªæ–‡ä»¶</span><br><span class="line">5.å½’æ¡£æ—¶å¯ä»¥æŒ‡å®šå½’æ¡£çš„è·¯å¾„</span><br><span class="line">6.è§£å‹åï¼Œå‹ç¼©åŒ…è¿˜åœ¨ï¼Œæºæ–‡ä»¶å‡ºæ¥äº†</span><br><span class="line">7.ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹å‹ç¼©åŒ…ä¸­æ–‡ä»¶çš„å†…å®¹</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç§»åŠ¨æµ·é‡å°æ–‡ä»¶ä½¿ç”¨tar</span></span><br><span class="line">[root@localhost abc]# tar czf - ./ | tar xzf - -C /tmp</span><br></pre></td></tr></table></figure>
<h2 id="ã€7ã€‘è½¯ä»¶å®‰è£…">ã€7ã€‘è½¯ä»¶å®‰è£…</h2>
<h3 id="1-rpmåŒ…">1.rpmåŒ…</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># RPMå…¨ç§° RPM Package Manager ç¼©å†™ï¼Œç”±çº¢å¸½å¼€å‘ç”¨äºè½¯ä»¶åŒ…çš„å®‰è£…ï¼Œå‡çº§å¸è½½ä¸æŸ¥è¯¢</span></span><br></pre></td></tr></table></figure>
<p><strong>==RPMåŒ…å==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tree-  1.6.0  -  10        . el7      .     x86_64    .rpm</span><br><span class="line">åŒ…å   ç‰ˆæœ¬å·   å‘å¸ƒäº†10æ¬¡   é€‚ç”¨äº7ç³»ç³»ç»Ÿ    ç³»ç»Ÿæ¶æ„   æ–‡ä»¶åç¼€</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>å®‰è£…</th>
<th>ç‰ˆæœ¬</th>
</tr>
</thead>
<tbody>
<tr>
<td>rpmåŒ…ï¼ˆéœ€è¦å®‰è£…ï¼‰</td>
<td>é¢„å…ˆç¼–è¯‘æ‰“åŒ…,å®‰è£…ç®€å•</td>
<td>è½¯ä»¶ç‰ˆæœ¬åä½</td>
</tr>
<tr>
<td>æºç åŒ…ï¼ˆéœ€è¦ç¼–è¯‘ã€å®‰è£…ï¼‰</td>
<td>æ‰‹åŠ¨ç¼–è¯‘æ‰“åŒ…,å®‰è£…ç¹ç</td>
<td>è½¯ä»¶ç‰ˆæœ¬æœ€æ–°</td>
</tr>
<tr>
<td>äºŒè¿›åˆ¶åŒ…(ç»¿è‰²å…å®‰è£…è½¯ä»¶)</td>
<td>è§£å‹å³å¯ä½¿ç”¨, å®‰è£…ç®€å•</td>
<td>ç‰ˆæœ¬è·Ÿå®˜æ–¹ä¿æŒä¸€è‡´ï¼Œä¸èƒ½ä¿®æ”¹æºç </td>
</tr>
</tbody>
</table>
<p>##æ³¨æ„: ä¸ç®¡æ˜¯æºç åŒ…ï¼Œè¿˜æ˜¯rpmåŒ…,å®‰è£…æ—¶éƒ½å¯èƒ½ä¼šæœ‰ä¾èµ–å…³ç³»</p>
<h4 id="1-è·å–RPMåŒ…">1. è·å–RPMåŒ…</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">1.RedHatå…‰ç›˜æˆ–å®˜æ–¹ç½‘ç«™ ï¼ˆé€šè¿‡æŒ‚è½½çš„æ–¹å¼è®¿é—®ï¼‰</span><br><span class="line">[root@localhost ~]# mount /dev/cdrom /mnt    mountæŒ‚è½½è™šæ‹Ÿæœºè®¾ç½®é•œåƒä¿æŒè¿æ¥çŠ¶æ€</span><br><span class="line">mount: /dev/sr0 is write-protected, mounting read-only</span><br><span class="line">[root@localhost ~]# <span class="built_in">ls</span> -1 /mnt/Packages/|<span class="built_in">wc</span> -l     <span class="built_in">ls</span> -1æŸ¥çœ‹å†…å®¹ç«–å‘æ’åˆ—</span><br><span class="line">4022</span><br><span class="line"><span class="built_in">df</span> -h   å¯ä»¥æŸ¥çœ‹æŒ‚è½½æƒ…å†µ</span><br><span class="line">[root@lb01 ~]# <span class="built_in">df</span> -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sda3        19G  1.6G   18G   9% /</span><br><span class="line">devtmpfs        476M     0  476M   0% /dev</span><br><span class="line">tmpfs           487M     0  487M   0% /dev/shm</span><br><span class="line">tmpfs           487M  7.6M  479M   2% /run</span><br><span class="line">tmpfs           487M     0  487M   0% /sys/fs/cgroup</span><br><span class="line">/dev/sda1       497M  120M  378M  25% /boot</span><br><span class="line">tmpfs            98M     0   98M   0% /run/user/0</span><br><span class="line">/dev/sr0        4.3G  4.3G     0 100% /mnt</span><br><span class="line"></span><br><span class="line">2.RPMåŒ…å®˜ç½‘ http://rpmfind.net/</span><br><span class="line">ä»¥åæŠ¥é”™ä¸­ï¼ŒlibCHARSET3-samba4.so .soç»“å°¾çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œéœ€è¦å®‰è£…ï¼Œä¸çŸ¥é“è¾“å…¥å“ªä¸ªRPMåŒ…ï¼Œå»RPMå®˜ç½‘æŸ¥è¯¢å³å¯</span><br><span class="line"></span><br><span class="line"><span class="comment">## å„å¤§æœåŠ¡çš„å®˜ç½‘</span></span><br><span class="line">mysqlï¼šhttps://www.mysql.com/</span><br><span class="line">nginxï¼šhttps://www.nginx.org/</span><br><span class="line"></span><br><span class="line"><span class="comment"># å„å¤§é•œåƒç«™ï¼ˆyumä»“åº“ï¼Œyumæºï¼‰ï¼š</span></span><br><span class="line">é˜¿é‡Œäº‘ï¼šhttps://developer.aliyun.com/mirror/</span><br><span class="line">ç½‘æ˜“é•œåƒç«™ï¼šhttps://mirrors.163.com/</span><br><span class="line">åä¸ºæºï¼šhttps://mirrors.huaweicloud.com/</span><br><span class="line">æ¸…åæºï¼šhttps://mirrors.tuna.tsinghua.edu.cn/</span><br><span class="line">ä¸­ç§‘å¤§ï¼šhttps://mirrors.ustc.edu.cn/</span><br></pre></td></tr></table></figure>
<h4 id="2-RPMåŒ…ç®¡ç†">2.RPMåŒ…ç®¡ç†</h4>
<h5 id="â‘ -å®‰è£…">â‘  å®‰è£…</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## è¯­æ³•ï¼š</span></span><br><span class="line">rpm [é€‰é¡¹] å®‰è£…åŒ…å</span><br><span class="line">iï¼šinstall å®‰è£…</span><br><span class="line">vï¼šæ˜¾ç¤ºå®‰è£…è¿‡ç¨‹</span><br><span class="line">hï¼šæ˜¾ç¤ºè¿›åº¦æ¡</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--<span class="built_in">test</span>ï¼šæ£€æµ‹æ˜¯å¦èƒ½å®‰è£…æˆåŠŸ</span><br><span class="line">--forceï¼šå¼ºåˆ¶å®‰è£…</span><br><span class="line">--nodepsï¼šå¿½ç•¥ä¾èµ–å…³ç³»</span><br><span class="line"></span><br><span class="line"><span class="comment">## æœ¬åœ°å®‰è£…    éœ€è¦æŒ‚è½½é•œåƒè¿›å…¥åˆ°Packagesæ–‡ä»¶é‡Œ</span></span><br><span class="line">[root@localhost Packages]# rpm -i tree-1.6.0-10.el7.x86_64.rpm  </span><br><span class="line">[root@localhost ~]# rpm -ivh /mnt/Packages/unzip-6.0-19.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment">## è¿œç¨‹å®‰è£…</span></span><br><span class="line">[root@localhost Packages]# rpm -i https://mirrors.aliyun.com/centos/7.9.2009/os/x86_64/Packages/tree-1.6.0-10.el7.x86_64.rpm</span><br><span class="line">[root@localhost Packages]# rpm -ivh https://mirrors.aliyun.com/centos/7.9.2009/os/x86_64/Packages/tree-1.6.0-10.el7.x86_64.rpm     </span><br><span class="line">æ˜¾ç¤ºè¿›åº¦æ¡å’Œå®‰è£…è¿‡ç¨‹</span><br></pre></td></tr></table></figure>
<h5 id="â‘¡-æŸ¥è¯¢">â‘¡ æŸ¥è¯¢</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">-qï¼š query æŸ¥è¯¢</span><br><span class="line">-qaï¼šæŸ¥è¯¢ç³»ç»Ÿå†…æ‰€æœ‰å®‰è£…è¿‡çš„åŒ…</span><br><span class="line">-qlï¼šæŸ¥è¯¢è½¯ä»¶åŒ…å®‰è£…å®Œåï¼Œé…ç½®æ–‡ä»¶ã€å¸®åŠ©æ–‡æ¡£ã€ç¨‹åº....çš„æ‰€åœ¨ç›®å½•ï¼ˆ[# rpm -ql nginxï¼‰</span><br><span class="line">-qcï¼šæŸ¥è¯¢è½¯ä»¶å®‰è£…åé…ç½®æ–‡ä»¶  confé…ç½®æ–‡ä»¶	ï¼ˆ# rpm -qc nginxï¼‰</span><br><span class="line">-qfï¼šé€†å‘æŸ¥è¯¢ï¼Œæ ¹æ®æ–‡ä»¶åï¼Œå¯ä»¥æŸ¥å‡ºè¯¥æ–‡ä»¶æ˜¯å®‰è£…äº†å“ªä¸ªRPMåŒ…   ï¼ˆéœ€è¦å®Œæ•´ç›®å½•ï¼‰ï¼ˆ# rpm -qf /usr/sbin/nginxï¼‰</span><br><span class="line"><span class="comment">## è¿™ä¸ªæ–‡ä»¶/etc/redhat-releaseå±äºå“ªä¸ªRPMåŒ…ï¼Œè¯¥åŒ…çš„ç›¸å…³ä¿¡æ¯æ‰“å°å‡ºæ¥</span></span><br><span class="line">1.[root@localhost ~]# rpm -qi $(rpm -qf /etc/redhat-release)</span><br><span class="line">2.[root@localhost ~]# rpm -qf /etc/redhat-release|xargs rpm -qi</span><br><span class="line">3.[root@localhost ~]# rpm -qif /etc/redhat-release</span><br><span class="line"></span><br><span class="line">----</span><br><span class="line"><span class="comment">## -q --scripts æŸ¥è¯¢å®‰è£…æ—¶è¦æ‰§è¡Œçš„è„šæœ¬</span></span><br><span class="line">[root@localhost ~]# rpm -q --scripts nginx</span><br><span class="line">----</span><br><span class="line"></span><br><span class="line">-qiï¼šæŸ¥çœ‹å·²å®‰è£…å®‰è£…åŒ…çš„è¯¦ç»†ä¿¡æ¯   (åé¢è·ŸåŒ…å)</span><br><span class="line">-qdï¼šæŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ä½ç½®</span><br><span class="line">-qipï¼šå¯ä»¥æŸ¥çœ‹æœªå®‰è£…çš„åŒ…è¯¦ç»†ä¿¡æ¯  å‰æï¼šå¾—æœ‰è¿™ä¸ªåŒ…</span><br><span class="line">[root@localhost ~]# rpm -qip /mnt/Packages/zip-3.0-11.el7.x86_64.rpm</span><br><span class="line">-qlpï¼šå¯ä»¥æŸ¥çœ‹æœªå®‰è£…çš„åŒ…ï¼Œå®‰è£…åä¼šäº§ç”Ÿå“ªäº›æ–‡ä»¶</span><br><span class="line">[root@localhost ~]# rpm -qlp /mnt/Packages/zip-3.0-11.el7.x86_64.rpm</span><br><span class="line">/usr/bin/zip</span><br><span class="line">/usr/bin/zipcloak</span><br><span class="line">/usr/bin/zipnote</span><br><span class="line">/usr/bin/zipsplit</span><br><span class="line">/usr/share/doc/zip-3.0</span><br><span class="line">/usr/share/doc/zip-3.0/CHANGES</span><br><span class="line">/usr/share/doc/zip-3.0/LICENSE</span><br><span class="line"></span><br><span class="line"><span class="comment">## -qåé¢æ¥åŒ…å</span></span><br><span class="line">[root@localhost ~]# rpm -q tree // å®‰è£…è¿‡äº†</span><br><span class="line">tree-1.6.0-10.el7.x86_64</span><br><span class="line">[root@localhost ~]# rpm -q tree // æ²¡æœ‰å®‰è£…</span><br><span class="line">package tree is not installed</span><br><span class="line"><span class="comment">## è¿‡æ»¤æŸ¥è¯¢æ˜¯å¦å®‰è£…</span></span><br><span class="line">[root@localhost ~]# rpm -qa|grep tree</span><br><span class="line">tree-1.6.0-10.el7.x86_64</span><br><span class="line">[root@localhost ~]# rpm -qa|grep mysql</span><br><span class="line">[root@localhost ~]# rpm -qa|grep nginx</span><br><span class="line"><span class="comment">## æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">[root@localhost ~]# rpm -qi tree</span><br><span class="line">Name : tree</span><br><span class="line">Version : 1.6.0</span><br><span class="line">Release : 10.el7</span><br><span class="line">Architecture: x86_64</span><br><span class="line">Install Date: Fri 19 Apr 2024 08:05:31 PM CST</span><br><span class="line">Group : Applications/File</span><br><span class="line">Size : 89505</span><br><span class="line">License : GPLv2+</span><br><span class="line">Signature : RSA/SHA256, Fri 04 Jul 2014 01:36:46 PM CST, Key ID</span><br><span class="line">24c6a8a7f4a80eb5</span><br><span class="line">Source RPM : tree-1.6.0-10.el7.src.rpm</span><br><span class="line">Build Date : Tue 10 Jun 2014 03:28:53 AM CST</span><br><span class="line">Build Host : worker1.bsys.centos.org</span><br><span class="line">Relocations : (not relocatable)</span><br><span class="line">Packager : CentOS BuildSystem &lt;http://bugs.centos.org&gt;</span><br><span class="line">Vendor : CentOS</span><br><span class="line">URL : http://mama.indstate.edu/users/ice/tree/</span><br><span class="line">Summary : File system tree viewer</span><br><span class="line">Description :</span><br><span class="line">The tree utility recursively displays the contents of directories <span class="keyword">in</span> a</span><br><span class="line">tree-like format. Tree is basically a UNIX port of the DOS tree</span><br><span class="line">utility.</span><br><span class="line"><span class="comment">## æŸ¥æ‰¾å®‰è£…åç¨‹åºçš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# rpm -qc nginx</span><br><span class="line">/etc/logrotate.d/nginx</span><br><span class="line">/etc/nginx/fastcgi.conf</span><br><span class="line">/etc/nginx/fastcgi.conf.default</span><br><span class="line">/etc/nginx/fastcgi_params</span><br><span class="line">/etc/nginx/fastcgi_params.default</span><br><span class="line">/etc/nginx/koi-utf</span><br><span class="line">/etc/nginx/koi-win</span><br><span class="line">/etc/nginx/mime.types</span><br><span class="line">/etc/nginx/mime.types.default</span><br><span class="line">/etc/nginx/nginx.conf</span><br><span class="line">/etc/nginx/nginx.conf.default</span><br><span class="line">/etc/nginx/scgi_params</span><br><span class="line">/etc/nginx/scgi_params.default</span><br><span class="line">/etc/nginx/uwsgi_params</span><br><span class="line">/etc/nginx/uwsgi_params.default</span><br><span class="line">/etc/nginx/win-utf</span><br><span class="line"><span class="comment">## é€†å‘æŸ¥è¯¢</span></span><br><span class="line">[root@localhost ~]# rpm -qf /etc/hosts</span><br><span class="line">setup-2.8.71-10.el7.noarch</span><br><span class="line">[root@localhost ~]# rpm -qf /usr/sbin/ifconfig</span><br><span class="line">net-tools-2.0-0.25.20131004git.el7.x86_64</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="â‘¢å¸è½½">â‘¢å¸è½½</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## å¸è½½</span></span><br><span class="line">[root@localhost ~]# rpm -e tree</span><br></pre></td></tr></table></figure>
<h5 id="â‘£å‡çº§RPMåŒ…">â‘£å‡çº§RPMåŒ…</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-U å¦‚æœè€ç‰ˆæœ¬ä¸å­˜åœ¨ï¼Œå°±å…¨æ–°å®‰è£…ï¼Œå¦‚æœå­˜åœ¨æœ‰æ–°ç‰ˆå³å‡çº§</span><br><span class="line">-f è€ç‰ˆæœ¬å¿…é¡»å­˜åœ¨</span><br><span class="line">[root@localhost ~]# rpm -fvh tree-1.8.0-2.mga8.x86_64.rpm</span><br><span class="line">[root@localhost ~]# rpm -Uvh tree-1.8.0-2.mga8.x86_64.rpm</span><br></pre></td></tr></table></figure>
<p><strong>==æ€»ç»“==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ç¼ºé™·</span><br><span class="line">1.rpmåŒ…ç®¡ç†æ— æ³•è§£å†³åŒ…ä¸åŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»</span><br><span class="line">2.rpmåŒ…çš„æŸ¥è¯¢ï¼ŒåŸºæœ¬ä¸Šéƒ½éœ€è¦å·²ç»å®‰è£…è¿‡çš„åŒ…</span><br><span class="line"></span><br><span class="line">ä¼˜ç‚¹ï¼š</span><br><span class="line">1.ä¸éœ€è¦ç½‘ç»œå®‰è£…</span><br><span class="line">2.å®‰è£…é€Ÿåº¦å¿«</span><br></pre></td></tr></table></figure>
<h3 id="2-yumå·¥å…·">2.yumå·¥å…·</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.è”ç½‘è·å–è½¯ä»¶</span><br><span class="line">2.åŸºäºRPMç®¡ç†</span><br><span class="line">3.è‡ªåŠ¨è§£å†³ä¾èµ–ï¼ˆå‰æï¼š1.yumä»“åº“ä¸­å¿…é¡»æœ‰è¯¥ä¾èµ–åŒ… 2.ç‰ˆæœ¬è¦ä¸€è‡´ï¼‰</span><br><span class="line">4.å‘½ä»¤ç®€å•å¥½è®°</span><br><span class="line">5.ç”Ÿäº§æœ€ä½³å®è·µ</span><br><span class="line"></span><br><span class="line">yumæ˜¯RedHatä»¥åŠCentOSä¸­çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œèƒ½å¤Ÿé€šè¿‡äº’è”ç½‘ä¸‹è½½ä»¥rpmç»“å°¾çš„åŒ…ï¼Œå¹¶ä¸”å®‰è£…ï¼Œå¹¶å¯ä»¥è‡ªåŠ¨</span><br><span class="line">å¤„ç†ä¾èµ–æ€§å…³ç³»ï¼Œæ— éœ€ç¹ççš„ä¸€æ¬¡æ¬¡ä¸‹è½½å®‰è£…ã€‚</span><br><span class="line">yumä»“åº“ | yumæº</span><br><span class="line"><span class="comment"># CentOS7å’Œ7ä¹‹å‰æ‰€æœ‰ç‰ˆæœ¬ï¼šYUM</span></span><br><span class="line">yum install -y xx</span><br><span class="line"><span class="comment"># CentOS8ä»¥åï¼šdnf</span></span><br><span class="line">dnf install xxx</span><br><span class="line"><span class="comment">## ç³»ç»Ÿè‡ªå¸¦çš„åŸºç¡€åŒ…ä»“åº“</span></span><br><span class="line">Baseæº</span><br><span class="line"><span class="comment">## æ›´æ¢yumæºï¼Œä¸€å®šè¦è‡³å°‘æ¢ä¸¤ä¸ªæº</span></span><br><span class="line">- Baseæº åŸºç¡€åŒ…</span><br><span class="line">- epelæº æ‰©å±•åŒ…</span><br></pre></td></tr></table></figure>
<p><strong>==é…ç½®yumæº==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å„å¤§é•œåƒæºï¼š</span><br><span class="line">é˜¿é‡Œäº‘ï¼šhttps://opsx.alibaba.com/mirror</span><br><span class="line">æ¸…åæºï¼šhttps://mirrors.tuna.tsinghua.edu.cn/</span><br><span class="line">163æºï¼šhttp://mirrors.163.com/</span><br><span class="line">åä¸ºæºï¼šhttps://mirrors.huaweicloud.com/</span><br><span class="line">ç§‘å¤§æºï¼šhttp://mirrors.ustc.edu.cn/</span><br></pre></td></tr></table></figure>
<p><strong>==é…ç½®Baseæº==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@lb01 ~]# ll /etc/yum.repos.d/    yumæºé…ç½®æ–‡ä»¶</span><br><span class="line"><span class="comment">## æ³¨æ„ï¼šæ‰€æœ‰çš„é…ç½®æ–‡ä»¶ï¼Œå¿…é¡»ä»¥repoç»“å°¾</span></span><br><span class="line">wget</span><br><span class="line">-Oï¼šæŒ‡å®šä¿å­˜çš„è·¯å¾„å’Œæ–‡ä»¶å</span><br><span class="line">https://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line">curl -o = wget -O</span><br><span class="line"><span class="comment">## æ¢æºæ­¥éª¤</span></span><br><span class="line">1ï¼‰æ¸…ç©º/etc/yum.repos.dä¸‹é¢æ‰€æœ‰æºé…ç½®æ–‡ä»¶ï¼ˆ<span class="built_in">mv</span> <span class="built_in">rm</span>ï¼‰</span><br><span class="line">[root@localhost ~]# <span class="built_in">mv</span> /etc/yum.repos.d/*.repo /tmp/</span><br><span class="line">[root@localhost ~]# gzip /etc/yum.repos.d/*</span><br><span class="line">2ï¼‰ä¸‹è½½å›½å†…å„å¤§é•œåƒç«™æº</span><br><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line">curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="â‘ -æ¢æº">â‘  æ¢æº</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##ä½¿ç”¨é•œåƒç«™æº</span></span><br><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-vault-8.5.2111.repo</span><br><span class="line"></span><br><span class="line"><span class="comment">## å…¶ä»–é•œåƒç«™æ¢æºæ–¹å¼   ï¼ˆç¼ºé™·ï¼š1.éº»çƒ¦2.å¦‚æœä¸æ˜¯é»˜è®¤çš„å®˜æ–¹baseæºï¼Œè¿™ä¸ªæ›¿æ¢å°±ä¸æˆç«‹ï¼‰</span></span><br><span class="line">sed -e <span class="string">&#x27;s|^mirrorlist=|#mirrorlist=|g&#x27;</span> \</span><br><span class="line">    -e <span class="string">&#x27;s|^#baseurl=http://mirror.centos.org/centos|baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos|g&#x27;</span> \</span><br><span class="line">    -i.bak \</span><br><span class="line">    /etc/yum.repos.d/CentOS-*.repo</span><br></pre></td></tr></table></figure>
<p><strong>==æ›´æ¢epelæº==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# curl -o /etc/yum.repos.d/epel.repo https://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class="line">[root@localhost ~]# ll /etc/yum.repos.d/</span><br><span class="line">total 8</span><br><span class="line">-rw-r--r--. 1 root root 1759 Apr 22 18:55 CentOS-Base.repo</span><br><span class="line">-rw-r--r--. 1 root root 664 Apr 22 19:08 epel.repo</span><br></pre></td></tr></table></figure>
<h4 id="â‘¡-yumç®¡ç†å‘½ä»¤">â‘¡ yumç®¡ç†å‘½ä»¤</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ ¹æ®å‘½ä»¤æœç´¢å¯¹åº”çš„åŒ…å</span></span><br><span class="line">[root@yum_repo ~]# yum provides pstree    æ³¨æ„ï¼šyum provideså‘½ä»¤åªèƒ½ç”¨äºå·²ç»å®‰è£…çš„è½¯ä»¶åŒ…</span><br><span class="line">[root@yum_repo ~]# yum search pstree</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŸ¥çœ‹æˆ‘å½“å‰é…ç½®çš„æ‰€æœ‰ä»“åº“ä¸­çš„å¯ä»¥å®‰è£…çš„åŒ…</span></span><br><span class="line">[root@localhost ~]# yum list</span><br><span class="line">[root@localhost ~]# yum list|grep net-tools</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŸ¥çœ‹ä»“åº“ä¸­æŒ‡å®šåŒ…çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">[root@localhost ~]# yum info åŒ…å</span><br><span class="line">[root@localhost ~]# yum info tree</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŸ¥çœ‹å½“å‰æ‰€æœ‰å¯ç”¨ä»“åº“</span></span><br><span class="line">[root@lb01 yum.repos.d]# yum repolist</span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"><span class="comment">## ä»“åº“IDåå­— .repoæ–‡ä»¶ä¸­ [ä»“åº“ID]		## ä»“åº“æè¿°ä¿¡æ¯ .repoæ–‡ä»¶ä¸­çš„name=							## çŠ¶æ€ï¼šè¯¥ä»“åº“ä¸­æœ‰å¤šå°‘rpmåŒ…</span></span><br><span class="line">repo <span class="built_in">id</span>                               repo name                                                          status</span><br><span class="line">base/7/x86_64                         CentOS-7 - Base - mirrors.huaweicloud.com                          10,072</span><br><span class="line">extras/7/x86_64                       CentOS-7 - Extras - mirrors.huaweicloud.com                           526</span><br><span class="line">updates/7/x86_64                      CentOS-7 - Updates - mirrors.huaweicloud.com                        5,802</span><br><span class="line">repolist: 16,400</span><br><span class="line">repolist: 30,679		<span class="comment">## æ‰€æœ‰å¯ç”¨ä»“åº“æ€»å…±åŒ…çš„æ•°é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰ä»“åº“ä¿¡æ¯ï¼Œå¯ç”¨å’Œä¸å¯ç”¨çš„éƒ½å±•ç¤ºå‡ºæ¥</span></span><br><span class="line">[root@localhost ~]# yum repolist all</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="â‘¢-yumå®‰è£…å‘½ä»¤">â‘¢ yumå®‰è£…å‘½ä»¤</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## å®‰è£…æŒ‡å®šè½¯ä»¶</span></span><br><span class="line">[root@localhost ~]# yum install åŒ…å</span><br><span class="line">[root@localhost ~]# yum install vim</span><br><span class="line">Is this ok [y/d/N]:</span><br><span class="line">è¾“å…¥yï¼š<span class="built_in">yes</span>å®‰è£…</span><br><span class="line">è¾“å…¥dï¼šdownload ä»…ä¸‹è½½ä¸å®‰è£…</span><br><span class="line">è¾“å…¥Nï¼šNoä¸å®‰è£…</span><br><span class="line"><span class="comment">## å…äº¤äº’å®‰è£…</span></span><br><span class="line">[root@localhost ~]# yum install vim -y</span><br><span class="line">[root@localhost ~]# yum -y install vim</span><br><span class="line">[root@localhost ~]# yum install -y vim</span><br><span class="line"><span class="comment">## yumå®‰è£…æ–¹å¼ï¼š</span></span><br><span class="line"><span class="comment"># æ–¹å¼ä¸€ï¼šå®‰è£…ä»“åº“ä¸­çš„åŒ…</span></span><br><span class="line">[root@localhost ~]# yum install vim</span><br><span class="line"><span class="comment"># æ–¹å¼äºŒï¼šå®‰è£…æœ¬åœ°çš„åŒ…</span></span><br><span class="line">[root@localhost Packages]# yum localinstall -y wget-1.14-18.el7.x86_64.rpm</span><br><span class="line"><span class="comment"># æ–¹å¼ä¸‰ï¼šè¿œç¨‹äº’è”ç½‘å®‰è£…</span></span><br><span class="line">[root@localhost Packages]# yum install -y http://test.driverzeng.com/MySQL_plugins/mha4mysql-node-0.56-0.el6.noarch.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŒ‡å®šç›®å½•ä¸‹è½½</span></span><br><span class="line">[root@localhost ~]# yum install --downloadonly --downloaddir=/opt/ nginx</span><br></pre></td></tr></table></figure>
<h4 id="â‘£-yumé‡è£…-æ›´æ–°-åˆ é™¤">â‘£ yumé‡è£…/æ›´æ–°/åˆ é™¤</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## è¯¯åˆ é™¤æœåŠ¡çš„ç›¸å…³æ–‡ä»¶é‡è£…</span></span><br><span class="line">[root@localhost nginx]# yum reinstall -y nginx</span><br><span class="line"></span><br><span class="line"><span class="comment">## yumæŸ¥è¯¢å¯ä»¥æ›´æ–°çš„è½¯ä»¶</span></span><br><span class="line">[root@localhost nginx]# yum check-update</span><br><span class="line"><span class="comment">## æ›´æ–°æŒ‡å®šè½¯ä»¶</span></span><br><span class="line">[root@localhost nginx]# yum update acl -y</span><br><span class="line"><span class="comment">##å…¨éƒ¨è½¯ä»¶éƒ½æ›´æ–°ï¼ˆWaringï¼šæ…ç”¨ï¼‰</span></span><br><span class="line">[root@localhost nginx]# yum update -y</span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ é™¤æŒ‡å®šè½¯ä»¶</span></span><br><span class="line">[root@localhost nginx]# yum remove -y tree</span><br><span class="line">[root@localhost nginx]# yum erase -y tree</span><br></pre></td></tr></table></figure>
<h4 id="â‘£-yumé€†å‘æŸ¥è¯¢-ç¼“å­˜">â‘£ yumé€†å‘æŸ¥è¯¢/ç¼“å­˜</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥è¯¢æŸä¸ªå‘½ä»¤å±äºå“ªä¸ªåŒ…</span></span><br><span class="line">[root@localhost nginx]# yum provides */ifconfig</span><br><span class="line"></span><br><span class="line"><span class="comment">## åŠ è½½ç¼“å­˜</span></span><br><span class="line">[root@localhost nginx]# yum makecache</span><br><span class="line"><span class="comment">## æ¸…é™¤ç¼“å­˜</span></span><br><span class="line">[root@localhost nginx]# yum clean all</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="â‘¤-çˆ¬å–rpmåŒ…">â‘¤ çˆ¬å–rpmåŒ…</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/?spm=a2c6h.25603864.0.0.239b5d4a bvLbEB</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">1.æŒ‡å®šä¸‹è½½ç›®å½•</span><br><span class="line">[root@lb01 ~]# curl -s https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/?spm=a2c6h.25603864.0.0.239b5d4a bvLbEB|awk -F <span class="string">&#x27;&quot;&#x27;</span> <span class="string">&#x27;/rpm/&#123;print &quot;mkdir -p /repo/zabbix/;wget -O /repo/zabbix/&quot;$4&quot; https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/&quot;$4&#125;&#x27;</span>|bash</span><br><span class="line"></span><br><span class="line">2.ä¸‹è½½åˆ°å½“å‰ç›®å½•</span><br><span class="line">[root@lb01 ~]# curl -s https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64|awk -F <span class="string">&#x27;&quot;&#x27;</span> <span class="string">&#x27;/rpm/&#123;print $4&#125;&#x27;</span>|sed <span class="string">&#x27;s#zabbix#https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/zabbix#g&#x27;</span>|xargs wget</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1.curl ç½‘ç«™è·å–ç½‘é¡µå†…å®¹</span><br><span class="line">[root@lb01 ~]# curl -s https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64</span><br><span class="line">2.æˆªå–æ‰€æœ‰rpmåŒ…å</span><br><span class="line">[root@lb01 ~]# curl -s https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64|awk -F <span class="string">&#x27;&quot;&#x27;</span> <span class="string">&#x27;/rpm/&#123;print $4&#125;&#x27;</span></span><br><span class="line">zabbix-agent-5.0.0-1.el7.x86_64.rpm</span><br><span class="line">zabbix-agent-5.0.1-1.el7.x86_64.rpm</span><br><span class="line">zabbix-agent-5.0.10-1.el7.x86_64.rpm</span><br><span class="line">zabbix-agent-5.0.11-1.el7.x86_64.rpm</span><br><span class="line">3.è¡¥å…¨å…¬å…±ä¸‹è½½é“¾æ¥https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/?spm=a2c6h.25603864.0.0.239b5d4a bvLbEB</span><br><span class="line">sed <span class="string">&#x27;s#zabbix#https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/zabbix#g&#x27;</span></span><br><span class="line">4.æ‹¼æ¥å‘½ä»¤äº¤ç»™wget</span><br><span class="line">[root@lb01 ~]# curl -s https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64|awk -F <span class="string">&#x27;&quot;&#x27;</span> <span class="string">&#x27;/rpm/&#123;print $4&#125;&#x27;</span>|sed <span class="string">&#x27;s#zabbix#https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/zabbix#g&#x27;</span>|xargs wget</span><br></pre></td></tr></table></figure>
<h3 id="3-yumæ–‡ä»¶-å‘½ä»¤">3.yumæ–‡ä»¶&amp;å‘½ä»¤</h3>
<h4 id="â‘ -yumç¨‹åºçš„é…ç½®æ–‡ä»¶">â‘  yumç¨‹åºçš„é…ç½®æ–‡ä»¶</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# <span class="built_in">cat</span> /etc/yum.conf</span><br><span class="line">cachedir=/var/cache/yum/<span class="variable">$basearch</span>/<span class="variable">$releasever</span> //ç¼“å­˜ç›®å½•</span><br><span class="line">keepcache=0   //ç¼“å­˜è½¯ä»¶åŒ…, 1å¯åŠ¨ 0 å…³é—­</span><br><span class="line">debuglevel=2   //è°ƒè¯•çº§åˆ«</span><br><span class="line">logfile=/var/log/yum.log //æ—¥å¿—è®°å½•ä½ç½®</span><br><span class="line">exactarch=1 //æ£€æŸ¥å¹³å°æ˜¯å¦å…¼å®¹</span><br><span class="line">obsoletes=1 //æ£€æŸ¥åŒ…æ˜¯å¦åºŸå¼ƒ</span><br><span class="line">gpgcheck=1 //æ£€æŸ¥æ¥æºæ˜¯å¦åˆæ³•,éœ€è¦æœ‰åˆ¶ä½œè€…çš„å…¬é’¥ä¿¡æ¯</span><br><span class="line">plugins=1 //æ˜¯å¦å¯ç”¨æŸ¥è¯¢</span><br><span class="line">installonly_limit=5</span><br><span class="line">bugtracker_url</span><br><span class="line"><span class="comment"># metadata_expire=90m //æ¯å°æ—¶æ‰‹åŠ¨æ£€æŸ¥å…ƒæ•°æ®</span></span><br><span class="line"><span class="comment"># in /etc/yum.repos.d //åŒ…å«repos.dç›®å½•</span></span><br></pre></td></tr></table></figure>
<h4 id="â‘¡yumç»„å‘½ä»¤">â‘¡yumç»„å‘½ä»¤</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æœ‰å“ªäº›åŒ…ç»„</span></span><br><span class="line">[root@localhost ~]# yum <span class="built_in">groups</span> list</span><br><span class="line"><span class="comment"># å®‰è£…æŒ‡å®šåŒ…ç»„</span></span><br><span class="line">[root@localhost ~]# yum <span class="built_in">groups</span> install Development tools Compatibility libraries</span><br><span class="line">Base Debugging Tools</span><br><span class="line"><span class="comment"># åˆ é™¤æŒ‡å®šåŒ…ç»„</span></span><br><span class="line">[root@localhost ~]# yum <span class="built_in">groups</span> remove -y Base</span><br></pre></td></tr></table></figure>
<h4 id="â‘¢-yumå†å²å‘½ä»¤">â‘¢ yumå†å²å‘½ä»¤</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æŸ¥çœ‹yumæ‰§è¡Œçš„å†å²</span></span><br><span class="line">[root@localhost ~]# yum <span class="built_in">history</span></span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">ID | Login user | Date and time | Action(s) | Altered</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">6 | root &lt;root&gt; | 2024-04-23 18:05 | Install | 1</span><br><span class="line">5 | root &lt;root&gt; | 2024-04-23 17:09 | Update | 2</span><br><span class="line">4 | root &lt;root&gt; | 2024-03-26 17:36 | Install | 1</span><br><span class="line">3 | root &lt;root&gt; | 2024-03-26 17:31 | Install | 1</span><br><span class="line">2 | root &lt;root&gt; | 2024-03-22 15:55 | Install | 1</span><br><span class="line">1 | System &lt;<span class="built_in">unset</span>&gt; | 2024-03-21 20:50 | Install | 308</span><br><span class="line"><span class="comment">## æŸ¥çœ‹æŒ‡å®šå†å²è®°å½•çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">[root@localhost ~]# yum <span class="built_in">history</span> info 6</span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Transaction ID : 6</span><br><span class="line">Begin time : Tue Apr 23 18:05:41 2024</span><br><span class="line">Begin rpmdb : 311:bc74a8339d5853ce2035d376bffbbeeb40d44ae3</span><br><span class="line">End time : 18:05:42 2024 (1 seconds)</span><br><span class="line">End rpmdb : 312:44280ba9419b586ea77d5fa483785725fe7e9758</span><br><span class="line">User : root &lt;root&gt;</span><br><span class="line">Return-Code : Success</span><br><span class="line">Command Line : install -y tree</span><br><span class="line">Transaction performed with:</span><br><span class="line">Installed rpm-4.11.3-35.el7.x86_64 @anaconda</span><br><span class="line">Installed yum-3.4.3-161.el7.centos.noarch @anaconda</span><br><span class="line">Installed yum-plugin-fastestmirror-1.1.31-50.el7.noarch @anaconda</span><br><span class="line">Packages Altered:</span><br><span class="line">Install tree-1.6.0-10.el7.x86_64 @base</span><br><span class="line"><span class="built_in">history</span> info</span><br><span class="line"><span class="comment">## å›æ»šæŒ‡å®šæ“ä½œ</span></span><br><span class="line">[root@localhost ~]# yum <span class="built_in">history</span> undo 6 -y</span><br></pre></td></tr></table></figure>
<h3 id="4-åˆ¶ä½œyumä»“åº“">4.åˆ¶ä½œyumä»“åº“</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">æ¡ä»¶ï¼š</span><br><span class="line">1.åˆ¶ä½œä»“åº“ï¼Œä¸€å®šè¦æœ‰å­˜æ”¾rpmåŒ…çš„ç›®å½•</span><br><span class="line">2.ä¼šé…ç½®repoä»“åº“æ–‡ä»¶</span><br><span class="line"><span class="comment">## repoé…ç½®æ–‡ä»¶å†…å®¹è§£æ</span></span><br><span class="line"><span class="comment"># ä»“åº“å</span></span><br><span class="line">[base]</span><br><span class="line"><span class="comment"># æè¿°ä¿¡æ¯</span></span><br><span class="line">name=CentOS-<span class="variable">$releasever</span> - Base - mirrors.aliyun.com</span><br><span class="line"><span class="comment"># ä»“åº“åœ°å€</span></span><br><span class="line">baseurl=http://mirrors.aliyun.com/centos/<span class="variable">$releasever</span>/os/<span class="variable">$basearch</span>/</span><br><span class="line"><span class="comment"># æ˜¯å¦å¼€å¯yumä»“åº“ç­¾åæœºåˆ¶æ£€æµ‹</span></span><br><span class="line">gpgcheck=1 // 0 ä»£è¡¨å…³é—­ï¼Œä¸æ£€æµ‹ 1 ä»£è¡¨å¼€å¯ï¼Œæ£€æµ‹</span><br><span class="line"><span class="comment"># gpgé’¥åŒ™çš„åœ°å€</span></span><br><span class="line">gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7</span><br><span class="line"><span class="comment">## æ˜¯å¦å¼€å¯yumä»“åº“</span></span><br><span class="line">enabled=0 // æ˜¯å¦å¼€å¯è¯¥ä»“åº“ï¼Œ0ä»£è¡¨å…³é—­ 1ä»£è¡¨å¼€å¯</span><br><span class="line"><span class="comment">## å¯†é’¥å¯¹</span></span><br><span class="line">é’¥åŒ™</span><br><span class="line">é”</span><br><span class="line"><span class="comment">## ä»“åº“åœ°å€æ”¯æŒçš„åè®®ï¼š</span></span><br><span class="line">- http:// è¿œç¨‹åè®®</span><br><span class="line">- https:// è¿œç¨‹åè®®</span><br><span class="line">- ftp:// è¿œç¨‹åè®®</span><br><span class="line">- file:// æœ¬åœ°åè®®ï¼Œåªèƒ½è®¿é—®æœ¬æœº</span><br></pre></td></tr></table></figure>
<h4 id="â‘ -åˆ¶ä½œæœ¬åœ°yumä»“åº“">â‘  åˆ¶ä½œæœ¬åœ°yumä»“åº“</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.å®‰è£…createrepoå‘½ä»¤</span></span><br><span class="line">[root@localhost ~]# yum install -y createrepo</span><br><span class="line"><span class="comment"># 2.è®©ç›®å½•ç¼–ç¨‹yumä»“åº“ createrepo</span></span><br><span class="line">[root@localhost ~]# createrepo /repo/zabbix/</span><br><span class="line">Spawning worker 0 with 475 pkgs</span><br><span class="line"><span class="comment"># 3.é…ç½®ä»“åº“æ–‡ä»¶</span></span><br><span class="line">[root@localhost yum.repos.d]# vim zls.repo</span><br><span class="line">[zls_repo]</span><br><span class="line">name=zls<span class="string">&#x27;s yum repository xxxx</span></span><br><span class="line"><span class="string">baseurl=file:///repo/zabbix/</span></span><br><span class="line"><span class="string">gpgcheck=0</span></span><br><span class="line"><span class="string">enabled=1</span></span><br></pre></td></tr></table></figure>
<p><strong>==å¦‚ä½•åœ¨ä»“åº“ä¸­æ–°åŠ RPMåŒ…==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.å°†rpmæ”¾å…¥ä»“åº“</span></span><br><span class="line">wget <span class="built_in">cp</span> <span class="built_in">mv</span> ...</span><br><span class="line"><span class="comment"># 2.é‡æ–°æ›´æ–°ä»“åº“</span></span><br><span class="line">[root@localhost repo]# createrepo --update /repo</span><br><span class="line"><span class="comment"># 3.ç”¨æˆ·ä½¿ç”¨ä»“åº“æ—¶ï¼Œéœ€è¦é‡æ–°åŠ è½½ç¼“å­˜</span></span><br><span class="line">[root@localhost ~]# yum makecache</span><br></pre></td></tr></table></figure>
<p><strong>éœ€æ±‚ï¼šå°†/dev/cdromä¸­çš„rpmåŒ…ï¼Œæ‹·è´åˆ° /zls/baseç›®å½•ä¸‹ï¼Œç„¶åå°†è¯¥ç›®å½•åˆ¶ä½œæˆæœ¬åœ°çš„yumä»“åº“</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.åˆ›å»ºç›®å½•</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">mkdir</span> -p /zls/base</span><br><span class="line"><span class="comment"># 2.æŒ‚è½½é•œåƒ</span></span><br><span class="line">[root@localhost ~]# mount /dev/cdrom /mnt</span><br><span class="line"><span class="comment"># 3.æ‹·è´rpmåŒ…</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cp</span> /mnt/Packages/*.rpm /zls/base/</span><br><span class="line"><span class="comment"># 4.åˆ¶ä½œä»“åº“</span></span><br><span class="line">[root@localhost ~]# createrepo /zls/base/</span><br><span class="line"><span class="comment"># 5.ç¼–å†™repoæ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# vi /etc/yum.repos.d/zls.repo</span><br><span class="line">[zls_repo]</span><br><span class="line">name=zls<span class="string">&#x27;s yum repository xxxx</span></span><br><span class="line"><span class="string">baseurl=file:///repo/</span></span><br><span class="line"><span class="string">gpgcheck=0</span></span><br><span class="line"><span class="string">enabled=1</span></span><br></pre></td></tr></table></figure>
<h4 id="â‘¡-åˆ¶ä½œè¿œç¨‹yumä»“åº“">â‘¡ åˆ¶ä½œè¿œç¨‹yumä»“åº“</h4>
<p><strong>ç¯å¢ƒå‡†å¤‡</strong></p>
<table>
<thead>
<tr>
<th>ä¸»æœº</th>
<th>ip</th>
<th>è§’è‰²</th>
</tr>
</thead>
<tbody>
<tr>
<td>yum_repo</td>
<td>10.0.0.101</td>
<td>yumä»“åº“</td>
</tr>
<tr>
<td>web01</td>
<td>10.0.0.102</td>
<td>ä½¿ç”¨yumä»“åº“çš„æœºå™¨</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## å¯é€‰åè®®ï¼š</span></span><br><span class="line">- http:// è¿œç¨‹åè®®</span><br><span class="line">- https:// è¿œç¨‹åè®®ï¼ˆåˆ«è€ƒè™‘ï¼‰</span><br><span class="line">- ftp:// è¿œç¨‹åè®®</span><br><span class="line"><span class="comment">## å…‹éš†æ–°çš„ä¸»æœºä¿®æ”¹ä¸»æœºåå’ŒIP</span></span><br><span class="line"><span class="comment"># ä¿®æ”¹ä¸»æœºå</span></span><br><span class="line">[root@web01 ~]# hostnamectl set-hostname yum_repo</span><br><span class="line">[root@web01 ~]# hostnamectl set-hostname web01</span><br><span class="line"><span class="comment"># ä¿®æ”¹IP</span></span><br><span class="line"><span class="comment">## å…³é—­é˜²ç«å¢™</span></span><br><span class="line">[root@yum_repo ~]# systemctl stop firewalld</span><br><span class="line">[root@web01 ~]# systemctl stop firewalld</span><br><span class="line"><span class="comment">## å…³é—­selinux</span></span><br><span class="line">[root@web01 ~]# setenforce 0</span><br><span class="line">[root@web01 ~]# getenforce</span><br><span class="line">Permissive</span><br></pre></td></tr></table></figure>
<h5 id="ftpåˆ¶ä½œè¿œç¨‹ä»“åº“">ftpåˆ¶ä½œè¿œç¨‹ä»“åº“</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.å®‰è£…ftpåè®®çš„è½¯ä»¶</span></span><br><span class="line">[root@yum_repo ~]# yum install -y vsftpd</span><br><span class="line"><span class="comment"># 2.å¯åŠ¨vsftpd</span></span><br><span class="line">[root@yum_repo ~]# systemctl start vsftpd</span><br><span class="line">[root@yum_repo ~]# systemctl <span class="built_in">enable</span> vsftpd</span><br><span class="line"><span class="comment"># 3.æ‰“å¼€æµè§ˆå™¨è®¿é—® ftp://10.0.0.101</span></span><br><span class="line"><span class="comment"># 4.æŸ¥æ‰¾ftpçš„ç›®å½•æ‰€åœ¨</span></span><br><span class="line">[root@yum_repo pub]# rpm -ql vsftpd|grep pub</span><br><span class="line">/var/ftp/pub</span><br><span class="line"><span class="comment"># 5.pubç›®å½•å°±å¯ä»¥å½“åšyumä»“åº“</span></span><br><span class="line">[root@yum_repo pub]# mount /dev/cdrom /mnt/</span><br><span class="line">[root@yum_repo pub]# <span class="built_in">cp</span> /mnt/Packages/tree-1.6.0-10.el7.x86_64.rpm /mnt/Packages/wget-1.14-18.el7.x86_64.rpm base/</span><br><span class="line"><span class="comment"># 6.å®‰è£…åˆ¶ä½œä»“åº“çš„å‘½ä»¤</span></span><br><span class="line">[root@yum_repo ~]# yum install -y createrepo</span><br><span class="line"><span class="comment"># 7.åˆ¶ä½œyumä»“åº“</span></span><br><span class="line">[root@yum_repo ~]# createrepo /var/ftp/pub/base/</span><br><span class="line">Spawning worker 0 with 2 pkgs</span><br><span class="line">Workers Finished</span><br><span class="line">Saving Primary metadata</span><br><span class="line">Saving file lists metadata</span><br><span class="line">Saving other metadata</span><br><span class="line">Generating sqlite DBs</span><br><span class="line">Sqlite DBs complete</span><br><span class="line"><span class="comment"># 8.å‡†å¤‡repoæ–‡ä»¶</span></span><br><span class="line">[root@yum_repo base]# vim zls_base.repo</span><br><span class="line">[zls_base_repo]</span><br><span class="line">name=<span class="built_in">test</span></span><br><span class="line">baseurl=ftp://10.0.0.101/pub/base/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line"><span class="comment">## å…¶ä»–ç”¨æˆ·æƒ³è¦ä½¿ç”¨è¯¥yumæºï¼Œåªéœ€è¦ä¸‹è½½</span></span><br><span class="line">[root@web01 ~]# curl -o /etc/yum.repos.d/zls_base.repo</span><br><span class="line">ftp://10.0.0.101/pub/base/zls_base.repo</span><br><span class="line">[root@web01 ~]# vim /etc/yum.repos.d/xxx.repo</span><br><span class="line">[zls_base_repo]</span><br><span class="line">name=<span class="built_in">test</span></span><br><span class="line">baseurl=ftp://10.0.0.101/pub/base/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure>
<h5 id="nginxåˆ¶ä½œè¿œç¨‹ä»“åº“">nginxåˆ¶ä½œè¿œç¨‹ä»“åº“</h5>
<p><strong>ç¯å¢ƒå‡†å¤‡</strong></p>
<table>
<thead>
<tr>
<th>ä¸»æœº</th>
<th>ip</th>
<th>è§’è‰²</th>
</tr>
</thead>
<tbody>
<tr>
<td>yum_repo</td>
<td>10.0.0.101</td>
<td>yumä»“åº“</td>
</tr>
<tr>
<td>web01</td>
<td>10.0.0.102</td>
<td>ä½¿ç”¨yumä»“åº“çš„æœºå™¨</td>
</tr>
</tbody>
</table>
<p><strong>å‰æœŸå‡†å¤‡</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å…‹éš†è™šæ‹Ÿæœº</span></span><br><span class="line"><span class="comment"># å…‹éš†æ–°çš„ä¸»æœºä¿®æ”¹ä¸»æœºåå’ŒIP</span></span><br><span class="line">[root@web01 ~]# hostnamectl set-hostname yum_repo</span><br><span class="line">[root@web01 ~]# hostnamectl set-hostname web01</span><br><span class="line"><span class="comment"># ä¿®æ”¹IP</span></span><br><span class="line"><span class="comment">## å…³é—­é˜²ç«å¢™</span></span><br><span class="line">[root@yum_repo ~]# systemctl stop firewalld</span><br><span class="line">[root@web01 ~]# systemctl stop firewalld</span><br><span class="line"><span class="comment">## å…³é—­selinux</span></span><br><span class="line">[root@web01 ~]# setenforce 0</span><br><span class="line">[root@web01 ~]# getenforce</span><br><span class="line">Permissive</span><br></pre></td></tr></table></figure>
<p><strong>ä½¿ç”¨nginxåˆ¶ä½œyumä»“åº“</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.å®‰è£…nginx</span></span><br><span class="line">[root@yum_repo ~]# yum -y install nginx</span><br><span class="line"><span class="comment">#2.å¯åŠ¨nginx</span></span><br><span class="line">[root@yum_repo ~]# systemctl start nginx</span><br><span class="line">[root@yum_repo ~]# systemctl <span class="built_in">enable</span> nginx</span><br><span class="line"><span class="comment">#3.åˆ›å»ºbaseæºå’Œzabbixçš„yumåº“</span></span><br><span class="line">[root@yum_repo yum]# <span class="built_in">mkdir</span> /etc/repo/yum/&#123;base,zabbix&#125; -p</span><br><span class="line"></span><br><span class="line">[root@yum_repo yum]# <span class="built_in">mkdir</span> /etc/repo/yum/base/ -p</span><br><span class="line">[root@yum_repo yum]# <span class="built_in">mkdir</span> /etc/repo/yum/zabbix/ -p</span><br><span class="line"><span class="comment">#è·å–baseåŒ…</span></span><br><span class="line">[root@web01 ~]# mount /dev/cdrom /mnt/</span><br><span class="line">[root@yum_repo yum]# <span class="built_in">cp</span> /mnt/Packages/* /etc/repo/yum/base/</span><br><span class="line">æ‹·è´çˆ¬å–çš„zabbixçš„åŒ…åˆ°/etc/repo/yum/zabbixä¸‹</span><br><span class="line">[root@lb01 nginx]# <span class="built_in">cp</span> /repo/zabbix/* /etc/repo/yum/zabbix</span><br><span class="line"><span class="comment">#4.å®‰è£…åˆ¶ä½œä»“åº“çš„å‘½ä»¤</span></span><br><span class="line">[root@yum_repo ~]# yum install -y createrepo</span><br><span class="line"><span class="comment">#5.åˆ¶ä½œyumä»“åº“</span></span><br><span class="line">[root@yum_repo yum]# createrepo /etc/repo/yum/base/</span><br><span class="line">[root@yum_repo yum]# createrepo /etc/repo/yum/zabbix/</span><br><span class="line"><span class="comment">#6.ä¿®æ”¹ngingxé…ç½®æ–‡ä»¶</span></span><br><span class="line">[root@yum_repo nginx]# vim /etc/nginx/nginx.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#åœ¨nginx.confpé…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œ</span></span><br><span class="line">location / &#123;	</span><br><span class="line">    45	        autoindex on;</span><br><span class="line">    46	        root   /etc/repo/yum;	<span class="comment">#æŒ‡å®šæœ¬åœ°yumä»“åº“ä½ç½®</span></span><br><span class="line">    47	        &#125;</span><br><span class="line">    </span><br><span class="line">   <span class="comment"># æ·»åŠ ä½ç½®æ˜¯åœ¨server&#123;	&#125;é‡Œ		å¦‚ä¸‹</span></span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        listen       [::]:80;</span><br><span class="line">        server_name  _;</span><br><span class="line">       root         /usr/share/nginx/html;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">        autoindex on;</span><br><span class="line">        root   /etc/repo/yum;</span><br><span class="line">        		   &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="comment">#æˆ–è€…[root@yum_repo ~]# cat /etc/nginx/conf.d/yum_repo.conf</span></span><br><span class="line">è¿™ä¸ªå‰ææ˜¯ï¼Œnginx.confpé…ç½®æ–‡ä»¶é‡Œæ²¡æœ‰server&#123; &#125;è¿™ä¸ªå†…å®¹ï¼Œç›¸å½“äºæŠŠè¿™æ®µå‘½ä»¤å†™åœ¨conf.dé…ç½®æ–‡ä»¶é‡Œ</span><br><span class="line">server&#123;</span><br><span class="line">	listen 80;</span><br><span class="line">	server_name _;</span><br><span class="line">	location /&#123;</span><br><span class="line">		autoindex on;</span><br><span class="line">		root /yum_repo;</span><br><span class="line">		index index.html;</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ£€æµ‹è¯­æ³•æœ‰æ²¡æœ‰é—®é¢˜</span></span><br><span class="line">[root@yum_repo ~]# nginx -t</span><br><span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf <span class="built_in">test</span> is successful</span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡å¯nginx</span></span><br><span class="line"> [root@yum_repo ~]# systemctl restart nginx</span><br><span class="line"><span class="comment">#7.å‡†å¤‡repoæ–‡ä»¶</span></span><br><span class="line">[root@yum_repo base]# vim nginx.repo</span><br><span class="line">[nginx_repo]</span><br><span class="line">name=<span class="built_in">test</span></span><br><span class="line">baseurl=10.0.0.101/base/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line"></span><br><span class="line">[nginx_repo]</span><br><span class="line">name=<span class="built_in">test</span></span><br><span class="line">baseurl=10.0.0.101/zabbix/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line">å¯ä»¥å°†nginx.repoæ–‡ä»¶æ”¾åœ¨ /etc/repo/yum/ç›®å½•ä¸‹</span><br><span class="line"><span class="comment">#8.åˆ‡æ¢åˆ°web01å®¢æˆ·ç«¯</span></span><br><span class="line">ä¸‹è½½åˆ¶ä½œçš„nginx.repoæº</span><br><span class="line">[root@web01 ~]# wget -O /etc/yum.repos.d/ http://10.0.0.101/nginx.repo</span><br><span class="line">åˆ é™¤web01å®¢æˆ·ç«¯å…¶å®ƒæºï¼Œåªç•™nginx.repoæºï¼Œä½¿ç”¨å®‰è£…rpmåŒ…æµ‹è¯•æˆ‘ä»¬åˆ¶ä½œçš„yumæº</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240423210955932.png" alt="image-20240423210955932"></p>
<h2 id="ã€8ã€‘è¿›ç¨‹ç®¡ç†">ã€8ã€‘è¿›ç¨‹ç®¡ç†</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç¨‹åºï¼šå®ƒæ˜¯ä¸€ä¸ªé™æ€çš„æ¦‚å¿µï¼Œå¼€å‘äººå‘˜å†™å¥½çš„ä»£ç </span><br><span class="line">è¿›ç¨‹ï¼šå®ƒæ˜¯ä¸€ä¸ªåŠ¨æ€çš„æ¦‚å¿µï¼Œå°†ç¨‹åºè¿è¡Œèµ·æ¥çš„è¿‡ç¨‹ï¼Œå°±å«åšè¿›ç¨‹</span><br><span class="line">è¿è¡Œç¯å¢ƒï¼šèƒ½è®©ç¨‹åºæ­£å¸¸è¿è¡Œçš„ç¯å¢ƒï¼Œå¯¹åº”å¼€å‘è¯­è¨€å†™çš„ä»£ç ï¼Œéœ€è¦å¯¹åº”çš„ç¯å¢ƒæ¥è¿è¡Œ</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„:</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.å½“ç¨‹åºè¿è¡Œä¸ºè¿›ç¨‹åï¼Œç³»ç»Ÿä¼šä¸ºè¯¥è¿›ç¨‹åˆ†é…å†…å­˜ï¼Œä»¥åŠè¿è¡Œçš„èº«ä»½å’Œæƒé™ã€‚ </span><br><span class="line">2.åœ¨è¿›ç¨‹è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡å™¨ä¸Šä¼šæœ‰å„ç§çŠ¶æ€æ¥è¡¨ç¤ºå½“å‰è¿›ç¨‹çš„æŒ‡æ ‡ä¿¡æ¯ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240424145131410.png" alt="image-20240424145131410"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è¿›ç¨‹/çˆ¶è¿›ç¨‹ï¼š</span></span><br><span class="line">- ç­‰å¾…ï¼š</span><br><span class="line">1ï¼‰æœ‰æ²¡æœ‰ç”¨æˆ·çš„æ–°è¯·æ±‚æ¥</span><br><span class="line">2ï¼‰å­è¿›ç¨‹æ˜¯å¦å¤„ç†å®Œè¿”å›ç»“æœ</span><br><span class="line"><span class="comment">#çº¿ç¨‹/å­è¿›ç¨‹</span></span><br><span class="line">1ï¼‰å¤„ç†è¯·æ±‚</span><br><span class="line">2ï¼‰å°†ç»“æœè¿”å›ç»™çˆ¶è¿›ç¨‹</span><br><span class="line"><span class="comment">#è¿›ç¨‹çŠ¶æ€ï¼š</span></span><br><span class="line">1ï¼‰æ­£å¸¸ç»“æŸ</span><br><span class="line">2ï¼‰åƒµå°¸è¿›ç¨‹</span><br><span class="line">3ï¼‰å­¤å„¿è¿›ç¨‹</span><br><span class="line"><span class="comment">#åç¨‹ï¼špython</span></span><br></pre></td></tr></table></figure>
<p><strong>åƒµå°¸è¿›ç¨‹</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åƒµå°¸è¿›ç¨‹ï¼š</span></span><br><span class="line">å­è¿›ç¨‹æ¯”çˆ¶è¿›ç¨‹å…ˆç»“æŸ,çˆ¶è¿›ç¨‹æ²¡æœ‰å›æ”¶å­è¿›ç¨‹çš„èµ„æº,æ­¤æ—¶çš„å­è¿›ç¨‹å°±ç§°ä¸º<span class="string">&quot;åƒµå°¸è¿›ç¨‹&quot;</span></span><br><span class="line"><span class="comment">#äº§ç”ŸåŸå› ï¼š</span></span><br><span class="line">å­è¿›ç¨‹çš„ç»“æŸå’Œçˆ¶è¿›ç¨‹çš„è¿è¡Œæ˜¯å¼‚æ­¥çš„,çˆ¶è¿›ç¨‹æ°¸è¿œä¸çŸ¥é“å­è¿›ç¨‹ä»€ä¹ˆæ—¶å€™ç»“æŸ,å­è¿›ç¨‹åœ¨ç»“æŸæ—¶ï¼Œçˆ¶è¿›ç¨‹ç¹å¿™æ¥ä¸åŠWaitå­è¿›ç¨‹åˆ™ä¼šå¯¼è‡´ï¼Œå­è¿›ç¨‹å˜æˆ<span class="string">&quot;åƒµå°¸è¿›ç¨‹&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>å­¤å„¿è¿›ç¨‹</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å­¤å„¿è¿›ç¨‹ï¼š</span></span><br><span class="line">çˆ¶è¿›ç¨‹æ¯”å­è¿›ç¨‹å…ˆç»“æŸ,å­è¿›ç¨‹è¿˜åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œæ²¡æœ‰çˆ¶è¿›ç¨‹ç®¡ç†,æ­¤æ—¶çš„å­è¿›ç¨‹å°±ç§°ä¸º<span class="string">&quot;å­¤å„¿è¿›ç¨‹&quot;</span></span><br><span class="line"><span class="comment">#äº§ç”ŸåŸå› ï¼š</span></span><br><span class="line">å­è¿›ç¨‹çš„ç»“æŸå’Œçˆ¶è¿›ç¨‹çš„è¿è¡Œæ˜¯å¼‚æ­¥çš„,çˆ¶è¿›ç¨‹æ°¸è¿œä¸çŸ¥é“å­è¿›ç¨‹ä»€ä¹ˆæ—¶å€™ç»“æŸ,å½“çˆ¶è¿›ç¨‹æ­£å¸¸å®Œæˆå·¥ä½œæˆ–å…¶ä»–åŸå› è¢«ç»ˆæ­¢,åˆ™ä¼šå¯¼è‡´ï¼Œå­è¿›ç¨‹å˜æˆ<span class="string">&quot;å­¤å„¿è¿›ç¨‹&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.å½“çˆ¶è¿›ç¨‹æ¥æ”¶åˆ°ä»»åŠ¡è°ƒåº¦æ—¶ï¼Œä¼šé€šè¿‡forkæ´¾ç”Ÿå­è¿›ç¨‹æ¥å¤„ç†ï¼Œé‚£ä¹ˆå­è¿›ç¨‹ä¼šé›†æˆçˆ¶è¿›ç¨‹çš„è¡£é’µã€‚</span><br><span class="line">2.å­è¿›ç¨‹åœ¨å¤„ç†ä»»åŠ¡ä»£ç æ—¶ï¼Œçˆ¶è¿›ç¨‹ä¼šè¿›å…¥ç­‰å¾…çš„çŠ¶æ€...</span><br><span class="line">3.å¦‚æœå­è¿›ç¨‹åœ¨å¤„ç†ä»»åŠ¡è¿‡ç¨‹ä¸­ï¼Œçˆ¶è¿›ç¨‹é€€å‡ºäº†ï¼Œå­è¿›ç¨‹æ²¡æœ‰é€€å‡ºï¼Œé‚£ä¹ˆè¿™äº›å­è¿›ç¨‹å°±æ²¡æœ‰çˆ¶è¿›ç¨‹æ¥ç®¡ç†äº†ï¼Œå°±å˜æˆäº†å­¤å„¿è¿›ç¨‹ã€‚</span><br><span class="line">4.æ¯ä¸ªè¿›ç¨‹éƒ½ä¼šæœ‰è‡ªå·±çš„PIDå·ï¼Œï¼ˆprocess <span class="built_in">id</span>ï¼‰å­è¿›ç¨‹åˆ™PPID</span><br></pre></td></tr></table></figure>
<h3 id="1-è¿›ç¨‹ç®¡ç†å‘½ä»¤">1.è¿›ç¨‹ç®¡ç†å‘½ä»¤</h3>
<blockquote>
<p>æ‹“å±•ï¼šæŸ¥çœ‹æœåŠ¡è¿›ç¨‹çŠ¶æ€ï¼Œå¯ç”¨äºè„šæœ¬ä¸­ï¼Œæ£€æŸ¥è¿›ç¨‹çŠ¶æ€<br>
[root@web01 ~]# systemctl is-active nginx<br>
active<br>
[root@web01 ~]# systemctl is-enabled nginx<br>
enabled</p>
</blockquote>
<h4 id="â‘ -pså‘½ä»¤ï¼ˆé™æ€ï¼‰">â‘  pså‘½ä»¤ï¼ˆé™æ€ï¼‰</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[root@yum_repo ~]# ps aux	[root@yum_repo ~]# ps -efä¹Ÿå¯ä»¥</span><br><span class="line">aï¼šæ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰å’Œç»ˆç«¯ç›¸å…³çš„è¿›ç¨‹</span><br><span class="line">uï¼šæ˜¾ç¤ºæ¯ä¸ªè¿›ç¨‹è¿è¡Œçš„ç”¨æˆ·</span><br><span class="line">xï¼šæ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰å’Œç»ˆç«¯æ— å…³çš„è¿›ç¨‹</span><br><span class="line">[root@yum_repo ~]# ps aux|<span class="built_in">head</span></span><br><span class="line">USER        PID %CPU %MEM    VSZ   RSS   TTY    STAT START   TIME   COMMAND</span><br><span class="line">root         1  0.0  0.6 127864  6500    ?      Ss   08:38   0:01   /usr/lib/systemd/systemd --switched-root --system --deserialize 22</span><br><span class="line">root         2  0.0  0.0      0     0    ?      S    08:38   0:00   [kthreadd]</span><br><span class="line">root         3  0.0  0.0      0     0    ?      S    08:38   0:00   [ksoftirqd/0]</span><br><span class="line">root         5  0.0  0.0      0     0    ?      S&lt;   08:38   0:00   [kworker/0:0H]</span><br><span class="line">root         6  0.0  0.0      0     0    ?      S    08:38   0:00   [kworker/u256:0]</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸ªåˆ—ä»£ä¿¡æ¯è¡¨æ„æ€</span></span><br><span class="line">USERï¼šè¿è¡Œç¨‹åºçš„ç”¨æˆ·</span><br><span class="line">PIDï¼šæ¯ä¸ªè¿›ç¨‹è¿è¡Œèµ·æ¥åï¼Œéƒ½ä¼šæœ‰è‡ªå·±çš„ä¸€ä¸ªPIDå·ï¼Œè¿›ç¨‹å·Process ID</span><br><span class="line">%CPUï¼šè¯¥è¿›ç¨‹å ç”¨CPUçš„ç™¾åˆ†æ¯”</span><br><span class="line">%MEMï¼šè¯¥è¿›ç¨‹å ç”¨å†…å­˜çš„ç™¾åˆ†æ¯”</span><br><span class="line">VSZï¼šè¯¥è¿›ç¨‹å ç”¨è™šæ‹Ÿå†…å­˜çš„å¤§å°</span><br><span class="line">RSSï¼šè¯¥è¿›ç¨‹å ç”¨çœŸå®å†…å­˜çš„å¤§å°</span><br><span class="line">TTYï¼šç»ˆç«¯</span><br><span class="line">- ?ï¼šç”±å†…æ ¸å‘èµ·çš„ç»ˆç«¯</span><br><span class="line">- pts/0 pts/1ï¼šç”¨æˆ·çš„è™šæ‹Ÿç»ˆç«¯</span><br><span class="line">- tty1ï¼šç‰©ç†ç»ˆç«¯</span><br><span class="line">STATï¼šç¨‹åºè¿è¡ŒçŠ¶æ€</span><br><span class="line">STARTï¼šæœåŠ¡å¯åŠ¨çš„æ—¶é—´</span><br><span class="line">TIMEï¼šè¯¥è¿›ç¨‹å®é™…ä½¿ç”¨CPUçš„è¿è¡Œæ—¶é—´</span><br><span class="line">COMMANDï¼šæœåŠ¡è¿è¡Œèµ·æ¥çš„å‘½ä»¤</span><br><span class="line"></span><br><span class="line"><span class="comment">#STATï¼šçŠ¶æ€</span></span><br><span class="line">Dï¼šæ— æ³•ä¸­æ–­çš„ä¼‘çœ çŠ¶æ€ï¼ˆé€šIOçš„è¿›ç¨‹ï¼‰ ç£ç›˜IO Input/Output ååé‡ï¼ˆç£ç›˜æ—¢å†™å…¥åˆè¾“å‡ºï¼Œä¾‹å¦‚taræ‰“åŒ…æ•°æ®æ—¶å€™ï¼‰</span><br><span class="line">Rï¼šRunning æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹</span><br><span class="line">Sï¼šSleeping å¤„äºä¼‘çœ çŠ¶æ€çš„è¿›ç¨‹</span><br><span class="line">Tï¼šè¢«æš‚åœçš„è¿›ç¨‹çŠ¶æ€  ï¼ˆCtrl+zæš‚åœè¿›ç¨‹ï¼‰</span><br><span class="line">Z: åƒµå°¸è¿›ç¨‹</span><br><span class="line">&lt;ï¼šä¼˜å…ˆçº§è¾ƒé«˜çš„è¿›ç¨‹</span><br><span class="line">Nï¼šä¼˜å…ˆçº§è¾ƒä½çš„è¿›ç¨‹</span><br><span class="line">sï¼šçˆ¶è¿›ç¨‹ï¼ˆå¹¶ä¸”å®ƒä¸‹é¢æœ‰å­è¿›ç¨‹åœ¨è¿è¡Œï¼‰</span><br><span class="line">lï¼šä»¥çº¿ç¨‹çš„æ–¹å¼è¿è¡Œçš„è¿›ç¨‹</span><br><span class="line">|ï¼šå¤šè¿›ç¨‹</span><br><span class="line">+ï¼šåœ¨å‰å°è¿è¡Œçš„è¿›ç¨‹</span><br><span class="line">Lï¼šè¢«é”è¿›å†…å­˜é¡µçš„è¿›ç¨‹</span><br><span class="line">X:æ­»æ‰çš„è¿›ç¨‹ï¼ˆå°‘è§ï¼‰</span><br><span class="line">W:è¿›å…¥å†…å­˜äº¤æ¢ï¼ˆä»å†…æ ¸2.6å¼€å§‹æ— æ•ˆï¼‰</span><br></pre></td></tr></table></figure>
<h4 id="â‘¡-statå‘½ä»¤">â‘¡ statå‘½ä»¤</h4>
<p><strong>ä»‹ç»</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##statå‘½ä»¤æ¥è‡ªè‹±æ–‡å•è¯statusçš„ç¼©å†™ï¼Œå…¶åŠŸèƒ½æ˜¯æ˜¾ç¤ºæ–‡ä»¶çš„çŠ¶æ€ä¿¡æ¯ã€‚åœ¨Linuxç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½æœ‰3ä¸ªâ€œå†å²æ—¶é—´â€â€”â€”æœ€åè®¿é—®æ—¶é—´ï¼ˆATIMEï¼‰ã€æœ€åä¿®æ”¹æ—¶é—´ï¼ˆMTIMEï¼‰ã€æœ€åæ›´æ”¹æ—¶é—´ï¼ˆCTIMEï¼‰ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨statå‘½ä»¤æŸ¥çœ‹åˆ°å®ƒä»¬ï¼Œè¿›è€Œåˆ¤åˆ«æœ‰æ²¡æœ‰å…¶ä»–äººä¿®æ”¹è¿‡æ–‡ä»¶å†…å®¹ã€‚</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240505095811234.png" alt="image-20240505095811234"></p>
<p><strong>åº”ç”¨</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##[root@localhost ~]# stat /etc/passwd</span></span><br><span class="line">  File: â€˜/etc/passwdâ€™</span><br><span class="line">  Size: 945       	Blocks: 8          IO Block: 4096   regular file</span><br><span class="line">Device: fd00h/64768d	Inode: 8902609     Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)</span><br><span class="line">Context: system_u:object_r:passwd_file_t:s0</span><br><span class="line">Access: 2024-04-21 21:52:14.512000577 +0800</span><br><span class="line">Modify: 2024-04-20 13:49:48.339236224 +0800</span><br><span class="line">Change: 2024-04-20 13:49:48.341236224 +0800</span><br><span class="line"> Birth: -</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## -cç›´æ¥çœ‹æƒé™</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">stat</span> -c%a /etc/passwd</span><br><span class="line">644</span><br><span class="line">[root@localhost ~]# <span class="built_in">stat</span> -c%A /etc/passwd</span><br><span class="line">-rw-r--r--</span><br><span class="line"></span><br><span class="line"><span class="comment">##-cç›´æ¥çœ‹inodeç»“ç‚¹å·</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">stat</span> -c%i /etc/passwd</span><br><span class="line">8902609</span><br><span class="line"></span><br><span class="line"><span class="comment">##-cç›´æ¥çœ‹uidå’Œå±ä¸»</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">stat</span> -c%u /etc/passwd</span><br><span class="line">0</span><br><span class="line">[root@localhost ~]# <span class="built_in">stat</span> -c%U /etc/passwd</span><br><span class="line">root</span><br><span class="line"></span><br><span class="line"><span class="comment">##-cç›´æ¥çœ‹gidå’Œå±ç»„</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">stat</span> -c%g /etc/passwd</span><br><span class="line">0</span><br><span class="line">[root@localhost ~]# <span class="built_in">stat</span> -c%G /etc/passwd</span><br><span class="line">root</span><br><span class="line"></span><br><span class="line"><span class="comment">##-cç›´æ¥çœ‹æ–‡ä»¶å¤§å°</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">stat</span> -c%s /etc/passwd</span><br><span class="line">945</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## -f</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">stat</span> -f /etc/passwd</span><br><span class="line">  File: <span class="string">&quot;/etc/passwd&quot;</span></span><br><span class="line">    ID: fd0000000000 Namelen: 255     Type: xfs</span><br><span class="line">Block size: 4096       Fundamental block size: 4096</span><br><span class="line">Blocks: Total: 2361856    Free: 1896798    Available: 1896798</span><br><span class="line">Inodes: Total: 4728832    Free: 4664790</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-cåå¯ä»¥è·Ÿå“ªäº›å ä½ç¬¦</span><br><span class="line"><span class="built_in">stat</span> -c %a file	æ˜¾ç¤ºæ–‡ä»¶çš„å…«è¿›åˆ¶æƒé™</span><br><span class="line"><span class="built_in">stat</span> -c %N file	æ˜¾ç¤ºå®Œæ•´è·¯å¾„</span><br><span class="line"><span class="built_in">stat</span> -c %n file	æ˜¾ç¤ºæ–‡ä»¶åã€‚</span><br><span class="line"><span class="built_in">stat</span> -c %x file	æ˜¾ç¤ºæœ€åè®¿é—®æ—¶é—´</span><br><span class="line"><span class="built_in">stat</span> -c %y file	æ˜¾ç¤ºæœ€åä¿®æ”¹æ—¶é—´</span><br><span class="line"><span class="built_in">stat</span> -c <span class="string">&quot;%n %s %y&quot;</span> filename.txt	è¿™å°†è¾“å‡ºæ–‡ä»¶åã€æ–‡ä»¶å¤§å°å’Œæœ€åä¿®æ”¹æ—¶é—´ã€‚</span><br></pre></td></tr></table></figure>
<h4 id="â‘¢-å†…å­˜-ç«¯å£">â‘¢ å†…å­˜/ç«¯å£</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># free æŸ¥çœ‹å†…å­˜ä¿¡æ¯</span></span><br><span class="line">free -h  ä»¥äººç±»å¯è¯»æ–¹å¼è¯»å–æ˜¾ç¤ºå†…å­˜ä¿¡æ¯</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç«¯å£ï¼š</span></span><br><span class="line">[root@localhost ~]# netstat -lntup</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address Foreign Address State</span><br><span class="line">PID/Program name</span><br><span class="line">tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN</span><br><span class="line">6866/sshd</span><br><span class="line">tcp 0 0 127.0.0.1:25 0.0.0.0:* LISTEN</span><br><span class="line">6950/master</span><br><span class="line">tcp6 0 0 :::22 :::* LISTEN</span><br><span class="line">6866/sshd</span><br><span class="line">tcp6 0 0 ::1:25 :::* LISTEN</span><br><span class="line">6950/master</span><br></pre></td></tr></table></figure>
<h4 id="â‘£-pså…¶ä»–é€‰é¡¹">â‘£ pså…¶ä»–é€‰é¡¹</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æœ€å ç”¨å†…å­˜çš„è¿›ç¨‹</span></span><br><span class="line">[root@yum_repo ~]# ps aux|<span class="built_in">sort</span> -k 4 -nr</span><br><span class="line">[root@yum_repo ~]# ps aux --<span class="built_in">sort</span> %mem   (é»˜è®¤å æ¯”æœ€å°çš„æ˜¾ç¤ºæœ€å‰)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰åˆ—</span></span><br><span class="line">[root@yum_repo ~]# ps axo user,pid,ppid,%mem,<span class="built_in">command</span>,%cpu</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚ä½•æ£€æµ‹æœåŠ¡æ˜¯å¦å¯åŠ¨æˆåŠŸï¼Ÿ</span></span><br><span class="line">1.å…ˆæŸ¥è¿˜æœ‰æ²¡æœ‰è¿™ä¸ªæœåŠ¡</span><br><span class="line">[root@localhost ~]# ps aux|grep nginx</span><br><span class="line">root 10021 0.0 0.0 39304 940 ? Ss 16:44 0:00 nginx: master</span><br><span class="line">process /usr/sbin/nginx</span><br><span class="line">nginx 10022 0.0 0.1 39692 1896 ? S 16:44 0:00 nginx: worker</span><br><span class="line">process</span><br><span class="line">2.ä½¿ç”¨ç«¯å£å·å‘½ä»¤æ¥æŸ¥çœ‹è¯¥ç«¯å£æ˜¯å¦è¢«ç›‘å¬ã€‚å¦‚æœç«¯å£å¤„äºç›‘å¬çŠ¶æ€ï¼Œåˆ™è¯´æ˜æœåŠ¡å·²ç»å¯åŠ¨ï¼ˆnginxé»˜è®¤80ç«¯å£ï¼Œhttpåè®®ï¼‰</span><br><span class="line"></span><br><span class="line">[root@lb01 ~]# netstat -lntup</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    </span><br><span class="line">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      8752/nginx: master  </span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      6625/sshd           </span><br><span class="line">tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      6708/master         </span><br><span class="line">tcp6       0      0 :::80                   :::*                    LISTEN      8752/nginx: master  </span><br><span class="line">tcp6       0      0 :::22                   :::*                    LISTEN      6625/sshd           </span><br><span class="line">tcp6       0      0 ::1:25                  :::*                    LISTEN      6708/master</span><br><span class="line">[root@lb01 ~]# netstat -tulun</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State      </span><br><span class="line">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN</span><br><span class="line"></span><br><span class="line"><span class="comment">## å†™è„šæœ¬ç”¨ï¼Œåˆ¤æ–­æœåŠ¡æ˜¯å¦å­˜æ´»</span></span><br><span class="line">[root@yum_repo ~]# ps aux |grep nginx|grep -v grep</span><br><span class="line">[root@yum_repo ~]# ps aux|grep nginx</span><br><span class="line">root 19740 0.0 0.1 39312 1044 ? Ss 12:00 0:00 nginx: master process /usr/sbin/nginx</span><br><span class="line">nginx 19741 0.0 0.1 39700 1816 ? S 12:00 0:00 nginx: worker process</span><br><span class="line">nginx 19742 0.0 0.1 39700 1816 ? S 12:00 0:00 nginx: worker process</span><br><span class="line">nginx 19759 0.0 0.1 39700 1816 ? S 12:00 0:00 nginx: worker process</span><br><span class="line">nginx 19760 0.0 0.1 39700 1556 ? S 12:00 0:00 nginx: worker process</span><br><span class="line">root 19823 0.0 0.0 112812 980 pts/2 R+ 12:05 0:00 grep -- color=auto nginx</span><br><span class="line"></span><br><span class="line">[root@yum_repo ~]# ps aux|grep [n]ginx grep nginx</span><br><span class="line">root 19823 0.0 0.0 112812 980 pts/2 R+ 12:05 0:00 grep --  color=auto [n]ginx</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ£€ç´¢pidå·ç  pgrep</span></span><br><span class="line"><span class="comment">#pgrepå¸¸ç”¨å‚æ•°, -l -a</span></span><br><span class="line">[root@zls ~]# pgrep sshd</span><br><span class="line">869</span><br><span class="line">1194</span><br><span class="line">1307</span><br><span class="line">1574</span><br><span class="line">[root@zls ~]# pgrep -l sshd		æ˜¾ç¤ºè¿›ç¨‹ååŠID</span><br><span class="line">869 sshd</span><br><span class="line">1194 sshd</span><br><span class="line">1307 sshd</span><br><span class="line">1574 sshd</span><br><span class="line">[root@zls ~]# pgrep -l -a sshd</span><br><span class="line">869 /usr/sbin/sshd -D</span><br><span class="line">1194 sshd: root@pts/0</span><br><span class="line">1307 sshd: root@pts/1</span><br><span class="line">1574 sshd: root@pts/2</span><br><span class="line"><span class="comment">#æŸ¥çœ‹è¿›ç¨‹çš„pid</span></span><br><span class="line">[root@zls ~]# pidof sshd</span><br><span class="line">1574 1307 1194 869</span><br><span class="line"><span class="comment">## æ ‘çŠ¶å½¢å¼æ˜¾ç¤ºè¿›ç¨‹    éœ€è¦å®‰è£…psmiscæ”¯æŒpstree</span></span><br><span class="line">[root@yum_repo ~]# pstree</span><br><span class="line">systemdâ”€â”¬â”€NetworkManagerâ”€â”€â”€2*[&#123;NetworkManager&#125;]</span><br><span class="line">â”œâ”€VGAuthService</span><br><span class="line">â”œâ”€agetty</span><br><span class="line">â”œâ”€auditdâ”€â”€â”€&#123;auditd&#125;</span><br><span class="line">â”œâ”€crondâ”€â”€â”€crondâ”€â”€â”€shâ”€â”€â”€ntpdate</span><br><span class="line">â”œâ”€dbus-daemon</span><br><span class="line">â”œâ”€gssproxyâ”€â”€â”€5*[&#123;gssproxy&#125;]</span><br><span class="line">â”œâ”€nginxâ”€â”€â”€20*[nginx]</span><br><span class="line">â”œâ”€polkitdâ”€â”€â”€6*[&#123;polkitd&#125;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="â‘¤-topï¼ˆåŠ¨æ€å‘½ä»¤ï¼‰">â‘¤ topï¼ˆåŠ¨æ€å‘½ä»¤ï¼‰</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## ç¬¬ä¸€è¡Œ</span></span><br><span class="line">top - 14:41:23 up  3:38,  1 user,  load average: 0.00, 0.01, 0.05</span><br><span class="line">topï¼šå‘½ä»¤</span><br><span class="line">-ï¼šåˆ†éš”ç¬¦</span><br><span class="line">09:32:57 ï¼šå½“å‰ç³»ç»Ÿæ—¶é—´</span><br><span class="line">up 1:23 ï¼šæœåŠ¡å™¨è¿è¡Œæ—¶é—´</span><br><span class="line">1 user ï¼šå½“å‰ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·æ•°é‡</span><br><span class="line">load average: ç³»ç»Ÿè´Ÿè½½</span><br><span class="line">0.00ï¼š1åˆ†é’Ÿ</span><br><span class="line">0.01ï¼š5åˆ†é’Ÿ</span><br><span class="line">0.05ï¼š15åˆ†é’Ÿ</span><br><span class="line"><span class="comment"># ç¬¬äºŒè¡Œ</span></span><br><span class="line">Tasks:  98 total,   1 running,  97 sleeping,   0 stopped,   0 zombie</span><br><span class="line">Tasks: ä»»åŠ¡ï¼Œè¿›ç¨‹æ•°é‡</span><br><span class="line">116 total // è¿›ç¨‹æ€»é‡</span><br><span class="line">1 running // 1ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ R</span><br><span class="line">115 sleeping // 115å¤„äºä¼‘çœ çŠ¶æ€çš„è¿›ç¨‹ S</span><br><span class="line">0 stopped // 0ä¸ªè¢«æš‚åœçŠ¶æ€çš„è¿›ç¨‹ T</span><br><span class="line">0 zombie // 0ä¸ªåƒµå°¸è¿›ç¨‹ Z</span><br><span class="line"><span class="comment"># ç¬¬ä¸‰è¡Œ</span></span><br><span class="line">%Cpu(s):  0.0 us,  0.3 sy,  0.0 ni, 99.7 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">%Cpu(s):</span><br><span class="line">0.0 usï¼šuser ç”¨æˆ·æ€ ç”¨æˆ·ä½¿ç”¨ç¨‹åºå ç”¨CPUçš„ç™¾åˆ†æ¯”</span><br><span class="line">0.3 syï¼šsystem å†…æ ¸æ€ ç³»ç»Ÿä½¿ç”¨ç¨‹åºå ç”¨CPUçš„ç™¾åˆ†æ¯”</span><br><span class="line">0.0 niï¼š<span class="built_in">nice</span> ä¼˜å…ˆçº§ ä¼˜å…ˆçº§è°ƒåº¦çš„è¿›ç¨‹å ç”¨CPUçš„ç™¾åˆ†æ¯”</span><br><span class="line">99.7 <span class="built_in">id</span>ï¼šidle ç©ºé—² CPUçš„ç©ºé—²ç‡</span><br><span class="line">0.0 waï¼š <span class="built_in">wait</span> ç­‰å¾… å¤„äºç­‰å¾…çŠ¶æ€çš„è¿›ç¨‹å ç”¨CPUçš„ç™¾åˆ†æ¯”</span><br><span class="line">0.0 hiï¼š ç¡¬ä¸­æ–­ ç¡¬ä¸­æ–­å ç”¨CPUçš„ç™¾åˆ†æ¯”</span><br><span class="line">0.0 siï¼š è½¯ä¸­æ–­ è½¯ç»ˆç«¯å ç”¨CPUçš„ç™¾åˆ†æ¯”</span><br><span class="line">0.0 stï¼š è™šæ‹ŸåŒ– è™šæ‹ŸåŒ–å ç”¨CPUçš„ç™¾åˆ†æ¯”</span><br><span class="line"><span class="comment"># ç¬¬å››è¡Œ</span></span><br><span class="line">KiB Mem :   995896 total,   425312 free,   108804 used,   461780 buff/cache</span><br><span class="line">KiB Mem : å†…å­˜</span><br><span class="line">995896 totalï¼šæ€»å†…å­˜å¤§å°</span><br><span class="line">748564 freeï¼šç©ºé—²å†…å­˜å¤§å°</span><br><span class="line">107768 usedï¼šå·²ä½¿ç”¨å†…å­˜å¤§å°</span><br><span class="line">139564 buff/cacheï¼šç¼“å†²åŒº/ç¼“å­˜åŒºä½¿ç”¨å†…å­˜å¤§å°</span><br><span class="line"><span class="comment"># ç¬¬äº”è¡Œ</span></span><br><span class="line">KiB Swap:  1048572 total,  1048572 free,        0 used.   700372 avail Mem</span><br><span class="line">KiB Swap: äº¤æ¢åˆ†åŒºswap ï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰</span><br><span class="line">1048572 totalï¼šè™šæ‹Ÿå†…å­˜æ€»å¤§å°</span><br><span class="line">1048572 freeï¼šè™šæ‹Ÿå†…å­˜ç©ºé—²å¤§å°</span><br><span class="line">0 usedï¼šè™šæ‹Ÿå†…å­˜ä½¿ç”¨å¤§å°</span><br><span class="line">729176 avail Memï¼šè™šæ‹Ÿå†…å­˜å¯ç”¨å¤§å°</span><br><span class="line">Windowsï¼šNTFSã€FAT32</span><br><span class="line">Linuxï¼š</span><br><span class="line">CentOS7ï¼šxfs file system</span><br><span class="line">CentOS6ï¼šext4</span><br><span class="line"><span class="comment"># ç¬¬å…­è¡Œ</span></span><br><span class="line">PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND</span><br><span class="line">PIDï¼šè¿›ç¨‹IDå·</span><br><span class="line">USERï¼šè¿›ç¨‹å¯åŠ¨ç”¨æˆ·</span><br><span class="line">PR NIï¼šæƒé‡ä¼˜å…ˆçº§ ä¸¤è€…ç›¸å·®20ï¼Œäº’æ–¥</span><br><span class="line">VIRTï¼šè™šæ‹Ÿå†…å­˜</span><br><span class="line">RESï¼šçœŸå®ç‰©ç†å†…å­˜</span><br><span class="line">SHRï¼šé—ªå­˜</span><br><span class="line">Sï¼šè¿›ç¨‹çŠ¶æ€</span><br><span class="line">%CPUï¼šCPUä½¿ç”¨ç‡</span><br><span class="line">%MEMï¼šå†…å­˜ä½¿ç”¨ç‡</span><br><span class="line">TIME+ ï¼šè¯¥è¿›ç¨‹åœ¨CPUå†…è¿è¡Œçš„æ—¶é—´</span><br><span class="line">COMMANDï¼šæœåŠ¡å¯åŠ¨çš„å‘½ä»¤</span><br></pre></td></tr></table></figure>
<h4 id="â‘¥-topå‘½ä»¤çš„ä½¿ç”¨">â‘¥ topå‘½ä»¤çš„ä½¿ç”¨</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@yum_repo ~]# yum install -y htop</span><br><span class="line">[root@yum_repo ~]# yum install -y glances</span><br><span class="line">[root@yum_repo ~]# top</span><br><span class="line">[root@yum_repo ~]# htop</span><br><span class="line">[root@yum_repo ~]# glances</span><br><span class="line"><span class="comment"># -nï¼šæŒ‡å®šæŸ¥çœ‹å‡ æ¬¡ç»“æœ</span></span><br><span class="line">[root@yum_repo ~]# top -n 5</span><br><span class="line"><span class="comment"># -dï¼šæŒ‡å®šæ›´æ–°æ—¶é—´ï¼ˆé»˜è®¤3sæ›´æ–°ä¸€æ¬¡æ•°æ®ï¼‰</span></span><br><span class="line">[root@yum_repo ~]# top -d 1 -n 5</span><br><span class="line"><span class="comment"># -pï¼šæŒ‡å®šæƒ³æŸ¥çœ‹çš„è¿›ç¨‹PID</span></span><br><span class="line">[root@yum_repo ~]# top -p 1278</span><br><span class="line">[root@yum_repo ~]# top -p $(pidof nginx|<span class="built_in">tr</span> <span class="string">&#x27; &#x27;</span> <span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"><span class="comment"># -bï¼šå°†å¤šæ¬¡ç»“æœä¿å­˜åˆ°æ–‡ä»¶ä¸­</span></span><br><span class="line">[root@yum_repo ~]# top -d 1 -n 3 -b &gt; /tmp/1.txt</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼š#ä¸ä½¿ç”¨-bé€‰é¡¹ï¼Œåªèƒ½å†™å…¥æœ€åä¸€æ¬¡çš„ç»“æœã€‚topæ˜¯åŠ¨æ€çš„ï¼Œåªæœ‰ç»“æŸæ‰èƒ½å¤Ÿå†™å…¥1.txtï¼Œç»“æŸçš„æ—¶å€™å†™å…¥çš„ä¹Ÿåªæ˜¯æœ€åä¸€æ¬¡çš„ç»“æœ</span><br><span class="line">top -n 3 &gt;1.txt   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#top å¸¸è§æŒ‡ä»¤</span></span><br><span class="line">h æŸ¥çœ‹å¸®å‡º</span><br><span class="line">z é«˜äº®æ˜¾ç¤º</span><br><span class="line">1 æ˜¾ç¤ºæ‰€æœ‰CPUçš„è´Ÿè½½</span><br><span class="line">s è®¾ç½®åˆ·æ–°æ—¶é—´</span><br><span class="line">b é«˜äº®ç°å®å¤„äºRçŠ¶æ€çš„è¿›ç¨‹</span><br><span class="line">M æŒ‰å†…å­˜ä½¿ç”¨ç™¾åˆ†æ¯”æ’åºè¾“å‡º</span><br><span class="line">P æŒ‰CPUä½¿ç”¨ç™¾åˆ†æ¯”æ’åºè¾“å‡º</span><br><span class="line">R å¯¹æ’åºè¿›è¡Œåè½¬</span><br><span class="line">f è‡ªå®šä¹‰æ˜¾ç¤ºå­—æ®µ</span><br><span class="line">k <span class="built_in">kill</span>æ‰æŒ‡å®šPIDè¿›ç¨‹</span><br><span class="line">W ä¿å­˜topç¯å¢ƒè®¾ç½® ~/.toprc</span><br><span class="line">q é€€å‡º</span><br></pre></td></tr></table></figure>
<h4 id="â‘¦-ä¸­æ–­">â‘¦ ä¸­æ–­</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ä¸­æ–­æ˜¯ç³»ç»Ÿç”¨æ¥å½±å“ç¡¬ä»¶è®¾å¤‡è¯·æ±‚çš„ä¸€ç§æœºåˆ¶ï¼Œå®ƒä¼šæ‰“æ–­è¿›ç¨‹çš„æ­£å¸¸è°ƒåº¦å’Œæ‰§è¡Œï¼Œç„¶åè°ƒç”¨å†…æ ¸ä¸­çš„ä¸­æ–­å¤„ç†ç¨‹åºæ¥å½±å“è®¾å¤‡çš„è¯·æ±‚</span><br><span class="line"><span class="comment">#ä¸­æ–­çš„ä½œç”¨ï¼š</span></span><br><span class="line">æ˜¯ä¸ºäº†è®©è®¡ç®—æœºå¯ä»¥å¤„ç†æ›´å¤šçš„è¯·æ±‚</span><br><span class="line"><span class="comment">#åªæœ‰ä¸­æ–­ï¼Œå­˜åœ¨çš„é—®é¢˜ï¼š</span></span><br><span class="line">ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±</span><br><span class="line"><span class="comment">#è§£å†³åŠæ³•ï¼š</span></span><br><span class="line">å°†ä¸­æ–­ï¼Œåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†</span><br><span class="line">ç¡¬ä¸­æ–­ï¼šå¿«é€Ÿå¤„ç†ä»»åŠ¡ï¼Œä¸´æ—¶ä¿å­˜åœ¨å†…å­˜é‡Œ</span><br><span class="line">è½¯ä¸­æ–­ï¼šå»¶è¿Ÿå¤„ç†æœªå®Œæˆçš„ä»»åŠ¡</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="â‘§-killä¿¡å·ç®¡ç†">â‘§ killä¿¡å·ç®¡ç†</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -l</span><br><span class="line">1) SIGHUP 2) SIGINT 3) SIGQUIT 4) SIGILL 5) SIGTRAP</span><br><span class="line">6) SIGABRT 7) SIGBUS 8) SIGFPE 9) SIGKILL 10) SIGUSR1</span><br><span class="line">11) SIGSEGV 12) SIGUSR2 13) SIGPIPE 14) SIGALRM 15) SIGTERM</span><br><span class="line">16) SIGSTKFLT 17) SIGCHLD 18) SIGCONT 19) SIGSTOP 20) SIGTSTP</span><br><span class="line">21) SIGTTIN 22) SIGTTOU 23) SIGURG 24) SIGXCPU 25) SIGXFSZ</span><br><span class="line">26) SIGVTALRM 27) SIGPROF 28) SIGWINCH 29) SIGIO 30) SIGPWR</span><br><span class="line">31) SIGSYS 34) SIGRTMIN 35) SIGRTMIN+1 36) SIGRTMIN+2 37) SIGRTMIN+3</span><br><span class="line">38) SIGRTMIN+4 39) SIGRTMIN+5 40) SIGRTMIN+6 41) SIGRTMIN+7 42) SIGRTMIN+8</span><br><span class="line">43) SIGRTMIN+9 44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13</span><br><span class="line">48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12</span><br><span class="line">53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9 56) SIGRTMAX-8 57) SIGRTMAX-7</span><br><span class="line">58) SIGRTMAX-6 59) SIGRTMAX-5 60) SIGRTMAX-4 61) SIGRTMAX-3 62) SIGRTMAX-2</span><br><span class="line">63) SIGRTMAX-1 64) SIGRTMAX</span><br><span class="line"></span><br><span class="line"><span class="comment">## é‡å¯ restart</span></span><br><span class="line">å…ˆå…³é—­æœåŠ¡ï¼Œå†å¼€å¯æœåŠ¡</span><br><span class="line"><span class="comment">## é‡æ–°åŠ è½½ reload</span></span><br><span class="line">åªé‡æ–°è¯»å–é…ç½®æ–‡ä»¶ï¼Œä¸ä¼šåœæ­¢æœåŠ¡</span><br><span class="line"></span><br><span class="line"><span class="comment">## é‡æ–°åŠ è½½æœåŠ¡é…ç½®æ–‡ä»¶</span></span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -1 8582</span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -HUP 8582</span><br><span class="line"></span><br><span class="line"><span class="comment">## ä¸­æ–­ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ç¨‹åº Ctrl + c</span></span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -2 8779</span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -INT 8779</span><br><span class="line"><span class="comment">## é€€å‡ºç¨‹åº</span></span><br><span class="line">[root@yum_repo ~]# systemctl stop nginx</span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -3 8582</span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -QUIT 8582</span><br><span class="line"><span class="comment">## å¼ºåˆ¶ç»“æŸç¨‹åºï¼Œè¯¥ä¿¡å·ä¸èƒ½è¢«æ•è·</span></span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -9 8847</span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -KILL 8847</span><br><span class="line"><span class="comment">## é»˜è®¤é€€å‡ºä¿¡å·</span></span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> 1122</span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -15 1122</span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -TERM 1122</span><br><span class="line"><span class="comment">## è®©è¢«æš‚åœçš„ç¨‹åºæ¢å¤è¿è¡Œ</span></span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -18 8870</span><br><span class="line"><span class="comment">## è®©ç¨‹åºæš‚åœ Ctrl + z</span></span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -19 8884</span><br><span class="line">[root@yum_repo ~]# <span class="built_in">kill</span> -20 8896</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="2-ä¼˜å…ˆçº§-è´Ÿè½½">2.ä¼˜å…ˆçº§&amp;è´Ÿè½½</h3>
<h4 id="1-è¿›ç¨‹ä¼˜å…ˆçº§">1.è¿›ç¨‹ä¼˜å…ˆçº§</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ä½œç”¨ï¼šå¯ä»¥è®©ä¼˜å…ˆçº§é«˜çš„è¿›ç¨‹ï¼Œä¼˜å…ˆä½¿ç”¨ç³»ç»Ÿèµ„æºï¼Œå†…å­˜ã€CPUã€ç£ç›˜ã€æ–‡ä»¶æè¿°ç¬¦...</span><br><span class="line"></span><br><span class="line"><span class="built_in">nice</span>å€¼è¶Šé«˜ï¼šè¡¨ç¤ºä¼˜å…ˆçº§è¶Šä½ï¼Œä¾‹å¦‚19ï¼Œè¯¥è¿›ç¨‹å®¹æ˜“å°†CPUä½¿ç”¨é‡è®©ç»™å…¶ä»–è¿›ç¨‹ã€‚</span><br><span class="line"><span class="built_in">nice</span>å€¼è¶Šä½ï¼šè¡¨ç¤ºä¼˜å…ˆçº§è¶Šé«˜ï¼Œä¾‹å¦‚-20ï¼Œè¯¥è¿›ç¨‹æ›´ä¸å€¾å‘äºè®©å‡ºCPUã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æŸ¥çœ‹ä¼˜å…ˆçº§</span></span><br><span class="line">[root@localhost ~]# top -n 1 -p 6884</span><br><span class="line">[root@localhost ~]# ps axo pid,user,<span class="built_in">nice</span>,<span class="built_in">command</span>|grep sshd</span><br><span class="line"><span class="comment">## é…ç½®ä¼˜å…ˆçº§</span></span><br><span class="line"><span class="comment"># åœ¨è¿›ç¨‹å¯åŠ¨å‘½ä»¤ä¹‹å‰ï¼ŒåŠ ä¸Šnice</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">nice</span> -n ä¼˜å…ˆçº§ï¼ˆ-20 ~ 20ï¼‰ ç¨‹åºå¯åŠ¨å‘½ä»¤ï¼ˆsystemctlä¸è¡Œï¼‰</span><br><span class="line"><span class="comment">## é…ç½®nginxä¼˜å…ˆçº§</span></span><br><span class="line"><span class="comment"># 1.æ­£å¸¸å¯åŠ¨nginxæ‰¾åˆ°å¯åŠ¨å‘½ä»¤</span></span><br><span class="line">[root@localhost ~]# systemctl start nginx</span><br><span class="line">[root@localhost ~]# ps -ef|grep nginx</span><br><span class="line">root 10691 1 0 18:08 ? 00:00:00 nginx: master process</span><br><span class="line">/usr/sbin/nginx</span><br><span class="line"><span class="comment"># 2.å…ˆåœæ­¢æœåŠ¡</span></span><br><span class="line">[root@localhost ~]# systemctl stop nginx</span><br><span class="line"><span class="comment"># 3.é…ç½®ä¼˜å…ˆçº§å¯åŠ¨</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">nice</span> -n -15 /usr/sbin/nginx</span><br><span class="line"><span class="comment"># 4.æ£€æŸ¥æ˜¯å¦å¯åŠ¨æˆåŠŸ</span></span><br><span class="line">[root@localhost ~]# ps -ef|grep nginx</span><br><span class="line">[root@localhost ~]# netstat -lntup|grep nginx</span><br><span class="line">tcp 0 0 0.0.0.0:80 0.0.0.0:* LISTEN</span><br><span class="line">10770/nginx: master</span><br><span class="line">tcp6 0 0 :::80 :::* LISTEN</span><br><span class="line">10770/nginx: master</span><br><span class="line"><span class="comment"># 5.æ£€æŸ¥ä¼˜å…ˆçº§</span></span><br><span class="line">[root@localhost ~]# top -p 10770</span><br><span class="line">PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND</span><br><span class="line">10770 root 5 -15</span><br><span class="line">39304 1068 124 S 0.0 0.1 0:00.00 nginx</span><br></pre></td></tr></table></figure>
<p><strong>Linuxå‡æ­»</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ping é€šä¸€å°æœºå™¨ï¼Œä¸€å®šèƒ½sshè¿ä¸Šè¿™å°æœºå™¨å—ï¼Ÿ</span></span><br><span class="line">ä¸ä¸€å®š pingåè®®ï¼šicmp</span><br><span class="line">åŸå› ï¼šping é€šï¼Œåªèƒ½èƒ½è¯´æ˜icmpåè®®æ˜¯é€šçš„ï¼Œä¸èƒ½è¯´æ˜sshåè®®æ˜¯é€šçš„</span><br><span class="line"><span class="comment">#ping ä¸é€šä¸€å°æœºå™¨ï¼Œä¸€å®šsshè¿ä¸ä¸Šè¿™å°æœºå™¨å—ï¼Ÿ</span></span><br><span class="line">ä¸ä¸€å®š pingåè®®ï¼šicmp</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="2-Linuxåå°è¿›ç¨‹ç®¡ç†">2.Linuxåå°è¿›ç¨‹ç®¡ç†</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¦‚ä½•å°†è¿›ç¨‹æ”¾å…¥åå°è¿è¡Œ</span></span><br><span class="line"><span class="comment"># 1.æ–¹æ³•ä¸€ï¼šåœ¨æƒ³è¦æ‰§è¡Œçš„å‘½ä»¤åé¢åŠ ä¸Š&amp;</span></span><br><span class="line">[root@localhost ~]# ping baidu.com &amp;</span><br><span class="line">[root@localhost ~]# ping baidu.com &gt;&gt; /tmp/1.txt &amp;</span><br><span class="line"><span class="comment"># 2.æ–¹æ³•äºŒï¼šåœ¨éœ€è¦æ”¾å…¥åå°çš„å‘½ä»¤å‰é¢åŠ ä¸Šnohup åé¢åŠ ä¸Š &amp;</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">nohup</span> ping baidu.com &amp; // åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªnohup.outæ–‡ä»¶ï¼Œ</span><br><span class="line">æ‰€æœ‰è¾“å‡ºç»“æœä¼šæ”¾å…¥è¯¥æ–‡ä»¶</span><br><span class="line"><span class="comment"># 3.æ–¹æ³•ä¸‰ï¼šå°†è¿›ç¨‹å…ˆæš‚åœåˆ°åå° è¾“å…¥ï¼šbg å°†ç¨‹åºæ”¾å…¥åå°è¿è¡Œï¼ˆbackgroundï¼‰</span></span><br><span class="line">[root@localhost ~]# ping baidu.com</span><br><span class="line">Ctrl + Z // å°†ç¨‹åºæš‚åœåˆ°åå°</span><br><span class="line"><span class="built_in">bg</span> // å°†æš‚åœçš„ç¨‹åºæ”¾å…¥åå°è¿è¡Œ</span><br><span class="line"><span class="built_in">fg</span> // å°†æš‚åœçš„ç¨‹åºè°ƒåˆ°å‰å°è¿è¡Œ æ ¹æ®ç¼–å·ï¼Œè°ƒç”¨æŒ‡å®šçš„è¿›ç¨‹åˆ°å‰å°</span><br><span class="line"><span class="built_in">jobs</span> // æŸ¥çœ‹åå°æš‚åœçš„ç¨‹åºæœ‰å“ªäº›</span><br><span class="line"><span class="comment"># 4.æ–¹æ³•å››ï¼šä½¿ç”¨screenï¼Œå¼€å¯æ–°å±å¹•</span></span><br><span class="line">[root@localhost ~]# yum install -y screen</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## æŸ¥çœ‹screenåå°è¿è¡Œä»»åŠ¡</span></span><br><span class="line">[root@localhost ~]# screen -<span class="built_in">ls</span></span><br><span class="line">[root@localhost ~]# screen -list</span><br><span class="line">There are screens on:</span><br><span class="line">11050.sina (Detached)</span><br><span class="line"><span class="comment">## åˆ›å»ºå·è½´</span></span><br><span class="line">[root@localhost ~]# screen // æ²¡æœ‰å‘½åçš„å·è½´</span><br><span class="line">[root@localhost ~]# screen -S baidu // æŒ‡å®šåå­—</span><br><span class="line"><span class="comment">## å°å° å›åˆ°å‰å°ç•Œé¢</span></span><br><span class="line">Ctrl + a + d</span><br><span class="line"><span class="comment">## åˆ é™¤çª—å£</span></span><br><span class="line">[root@localhost ~]# screen -S sina -X quit</span><br></pre></td></tr></table></figure>
<h4 id="3-ç³»ç»Ÿå¹³å‡è´Ÿè½½">3.ç³»ç»Ÿå¹³å‡è´Ÿè½½</h4>
<p>æ¯æ¬¡å‘ç°ç³»ç»Ÿå˜æ…¢æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸åšçš„ç¬¬ä¸€ä»¶äº‹ï¼Œå°±æ˜¯æ‰§è¡Œtopæˆ–è€…uptimeå‘½ä»¤ï¼Œæ¥äº†è§£ç³»ç»Ÿçš„è´Ÿè½½æƒ…å†µã€‚å¹³å‡è´Ÿè½½ä¸CPUä½¿ç”¨ç‡å¹¶æ²¡æœ‰ç›´æ¥å…³ç³»ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½æƒ…å†µ</span></span><br><span class="line">[root@localhost ~]# w</span><br><span class="line">19:36:06 up 3:36, 3 <span class="built_in">users</span>, load average: 0.00, 0.01, 0.05</span><br><span class="line">[root@localhost ~]# <span class="built_in">uptime</span></span><br><span class="line">19:36:10 up 3:36, 3 <span class="built_in">users</span>, load average: 0.00, 0.01, 0.05</span><br><span class="line">[root@localhost ~]# top -n 1</span><br><span class="line">top - 19:36:15 up 3:36, 3 <span class="built_in">users</span>, load average: 0.00, 0.01, 0.05</span><br></pre></td></tr></table></figure>
<p><font color='red'><strong>å¹³å‡è´Ÿè½½æ˜¯æŒ‡ï¼Œå•ä½æ—¶é—´å†…ï¼Œç³»ç»Ÿå¤„äºå¯è¿è¡ŒçŠ¶æ€å’Œä¸å¯ä¸­æ–­çŠ¶æ€çš„å¹³å‡è¿›ç¨‹æ•°ï¼Œä¹Ÿå°±æ˜¯å¹³å‡æ´»è·ƒè¿›ç¨‹æ•°</strong></font></p>
<p><strong>å¯è¿è¡ŒçŠ¶æ€å’Œä¸å¯ä¸­æ–­çŠ¶æ€æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.å¯è¿è¡ŒçŠ¶æ€è¿›ç¨‹ï¼Œæ˜¯æŒ‡æ­£åœ¨ä½¿ç”¨CPUæˆ–è€…æ­£åœ¨ç­‰å¾…CPUçš„è¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç”¨PSå‘½ä»¤çœ‹çš„å¤„äºRçŠ¶æ€çš„è¿›ç¨‹</span><br><span class="line">2.ä¸å¯ä¸­æ–­è¿›ç¨‹ï¼Œï¼ˆä½ åœ¨åšä»€ä¹ˆäº‹æƒ…çš„æ—¶å€™æ˜¯ä¸èƒ½è¢«æ‰“æ–­çš„å‘¢ï¼Ÿ...ä¸å¯æè¿°ï¼‰ç³»ç»Ÿä¸­æœ€å¸¸è§çš„æ˜¯ç­‰å¾…ç¡¬ä»¶è®¾å¤‡çš„IOç›¸åº”ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬PSå‘½ä»¤ä¸­çœ‹åˆ°çš„DçŠ¶æ€ï¼ˆä¹Ÿæˆä¸ºDisk Sleepï¼‰çš„è¿›ç¨‹ã€‚å¹³å‡è´Ÿè½½å…¶å®å°±æ˜¯å•ä½æ—¶é—´å†…çš„æ´»è·ƒè¿›ç¨‹æ•°</span><br></pre></td></tr></table></figure>
<p><strong>å¹³å‡è´Ÿè½½å¤šå°‘æ—¶åˆç†ï¼Ÿ</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">æœ€ç†æƒ³çš„çŠ¶æ€æ˜¯æ¯ä¸ªCPUä¸Šéƒ½åˆšè¿˜è¿è¡Œç€ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™æ ·æ¯ä¸ªCPUéƒ½å¾—åˆ°äº†å……åˆ†åˆ©ç”¨ã€‚</span><br><span class="line">æ‰€ä»¥åœ¨è¯„åˆ¤è´Ÿè½½æ—¶ï¼Œé¦–å…ˆä½ è¦çŸ¥é“ç³»ç»Ÿæœ‰å‡ ä¸ªCPUï¼Œè¿™å¯ä»¥é€šè¿‡topå‘½ä»¤è·å–ï¼Œæˆ–grep <span class="string">&#x27;model name&#x27;</span></span><br><span class="line">/proc/cpuinfo</span><br><span class="line"><span class="comment">## å¦‚ä½•æŸ¥çœ‹å½“å‰ç³»ç»ŸCPUæ ¸å¿ƒæ•°</span></span><br><span class="line">[root@localhost ~]# top</span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> /proc/cpuinfo</span><br><span class="line">[root@localhost ~]# lscpu</span><br><span class="line">å‡è®¾ç°åœ¨åœ¨4ï¼Œ2ï¼Œ1æ ¸çš„CPUä¸Šï¼Œå¦‚æœå¹³å‡è´Ÿè½½ä¸º2æ—¶ï¼Œæ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿ</span><br><span class="line">1.åœ¨4ä¸ªCPUçš„ç³»ç»Ÿä¸Šï¼Œæ„å‘³ç€CPUæœ‰50%ç©ºé—²ã€‚</span><br><span class="line">2.åœ¨2ä¸ªCPUçš„ç³»ç»Ÿä¸Šï¼Œä»¥ä¸ºè¿™æ‰€æœ‰çš„CPUéƒ½åˆšå¥½å®Œå…¨è¢«å ç”¨ã€‚</span><br><span class="line">3.åœ¨1ä¸ªCPUçš„ç³»ç»Ÿä¸Šï¼Œåˆ™æ„å‘³ç€æœ‰ä¸€åŠçš„è¿›ç¨‹ç«äº‰ä¸åˆ°CPUã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸‰ä¸ªå€¼å…³æ³¨å“ªä¸ªåˆç†</span></span><br><span class="line">1ï¼‰ä¸‰ä¸ªå€¼ï¼Œä¸èƒ½åªå…³æ³¨å…¶ä¸­ä¸€ä¸ªå€¼ï¼ˆä¸‰ä¸ªéƒ½è¦çœ‹ï¼‰</span><br><span class="line">2ï¼‰ä¸èƒ½æ ¹æ®1åˆ†é’Ÿè´Ÿè½½ä½æƒ…å†µæ¥åˆ¤æ–­ï¼Œå½“å‰è´Ÿè½½å¤„äºä¸‹é™çŠ¶æ€ï¼ˆä¸å…³æ³¨æœåŠ¡å™¨çš„é—®é¢˜ï¼‰</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¡ç®—æ–¹å¼</span></span><br><span class="line">å‡è®¾æˆ‘ä»¬åœ¨æœ‰2ä¸ªCPUç³»ç»Ÿä¸Šçœ‹åˆ°å¹³å‡è´Ÿè½½ä¸º2.73ï¼Œ6.90ï¼Œ12.98é‚£ä¹ˆè¯´æ˜åœ¨è¿‡å»1åˆ†é’Ÿå†…ï¼Œç³»ç»Ÿæœ‰136%çš„è¶…è½½</span><br><span class="line">1åˆ†é’Ÿï¼šï¼ˆ2.73/2*100%=136%ï¼‰</span><br><span class="line">5åˆ†é’Ÿï¼šï¼ˆ6.90/2*100%=345%ï¼‰</span><br><span class="line">15åˆ†é’Ÿï¼š(12.98/2*100%=649%)</span><br><span class="line">è®¡ç®—å…¬å¼ï¼šï¼ˆè´Ÿè½½/æ ¸å¿ƒæ•°ï¼‰*100%</span><br></pre></td></tr></table></figure>
<p><strong>è´Ÿè½½è¿‡é«˜æ’æŸ¥</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">web01æœºå™¨å¾ˆå¡ï¼Œæ‰¾å‡ºåŸå› </span><br><span class="line"><span class="comment">### å‹æµ‹å‘½ä»¤</span></span><br><span class="line">stress ï¼ˆK8Sï¼‰æ˜¯Linuxç³»ç»Ÿå‹åŠ›æµ‹è¯•å·¥å…·ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä½œå¼‚å¸¸è¿›ç¨‹æ¨¡æ‹Ÿå¹³å‡è´Ÿè½½å‡é«˜çš„åœºæ™¯</span><br><span class="line"><span class="comment">##################################################################</span></span><br><span class="line"><span class="comment">### æ’æŸ¥å·¥å…·</span></span><br><span class="line">mpstatæ˜¯å¤šæ ¸CPUæ€§èƒ½åˆ†æå·¥å…·ï¼Œç”¨æ¥å®æ—¶æ£€æŸ¥æ¯ä¸ªCPUçš„æ€§èƒ½æŒ‡æ ‡ï¼Œä»¥åŠæ‰€æœ‰CPUçš„å¹³å‡æŒ‡æ ‡ã€‚</span><br><span class="line">pidstatæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„è¿›ç¨‹æ€§èƒ½åˆ†æå·¥å…·ï¼Œç”¨æ¥å®æ—¶æŸ¥çœ‹è¿›ç¨‹çš„CPUï¼Œå†…å­˜ï¼ŒIOï¼Œä»¥åŠä¸Šä¸‹æ–‡åˆ‡æ¢ç­‰æ€§èƒ½æŒ‡æ ‡ã€‚</span><br></pre></td></tr></table></figure>
<h4 id="4-CPUå¯¹è´Ÿè½½å½±å“">4.CPUå¯¹è´Ÿè½½å½±å“</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum intall -y sysstat</span><br><span class="line"><span class="comment">## åˆ†æCPU</span></span><br><span class="line">[root@localhost ~]# mpstat -P ALL 1</span><br><span class="line">[root@localhost ~]# top</span><br><span class="line">%Cpu0 : 99.2 us, 0.0 sy, 0.0 ni, 0.0 <span class="built_in">id</span>, 0.0 wa, 0.0 hi, 0.8 si, 0.0 st</span><br><span class="line">%Cpu1 :100.0 us, 0.0 sy, 0.0 ni, 0.0 <span class="built_in">id</span>, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st</span><br><span class="line">%Cpu2 : 0.0 us, 0.0 sy, 0.0 ni, 99.0 <span class="built_in">id</span>, 0.0 wa, 0.0 hi, 1.0 si, 0.0 st</span><br><span class="line">%Cpu3 :100.0 us, 0.0 sy, 0.0 ni, 0.0 <span class="built_in">id</span>, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st</span><br><span class="line">[root@localhost ~]# pidstat -u 5 1</span><br><span class="line">Linux 3.10.0-957.el7.x86_64 (localhost.localdomain) 04/26/2024 _x86_64_(4 CPU)</span><br><span class="line">08:21:50 PM UID PID %usr %system %guest %CPU CPU Command</span><br><span class="line">08:21:55 PM 0 9 0.00 0.20 0.00 0.20 0 rcu_sched</span><br><span class="line">08:21:55 PM 0 60 0.00 0.20 0.00 0.20 0 kworker/0:1</span><br><span class="line">08:21:55 PM 0 6618 0.00 0.20 0.00 0.20 0 sshd</span><br><span class="line">08:21:55 PM 0 6803 99.60 0.20 0.00 99.80 3 java</span><br><span class="line">08:21:55 PM 0 6804 99.40 0.40 0.00 99.80 2 java</span><br><span class="line">08:21:55 PM 0 6805 99.60 0.40 0.00 100.00 1 java</span><br><span class="line">08:21:55 PM 0 6815 0.00 0.20 0.00 0.20 0 pidstat</span><br><span class="line">Average: UID PID %usr %system %guest %CPU CPU Command</span><br><span class="line">Average: 0 9 0.00 0.20 0.00 0.20 - rcu_sched</span><br><span class="line">Average: 0 60 0.00 0.20 0.00 0.20 - kworker/0:1</span><br><span class="line">Average: 0 6618 0.00 0.20 0.00 0.20 - sshd</span><br><span class="line">Average: 0 6803 99.60 0.20 0.00 99.80 - java</span><br><span class="line">Average: 0 6804 99.40 0.40 0.00 99.80 - java</span><br><span class="line">Average: 0 6805 99.60 0.40 0.00 100.00 - java</span><br><span class="line">Average: 0 6815 0.00 0.20 0.00 0.20 - pidstat</span><br><span class="line"><span class="comment">## æŸ¥æ‰¾å¯¹åº”ç¨‹åºçš„æ—¥å¿—</span></span><br><span class="line"><span class="built_in">tail</span> -f /var/log/nginx/access.log</span><br><span class="line">tial -f /var/log/java/xxxx.log</span><br><span class="line">errorï¼šæ‰¾åˆ°æŠ¥é”™</span><br><span class="line"><span class="comment">## å°†æ—¥å¿—äº¤ç»™å¼€å‘å¤„ç†/åˆ†æ</span></span><br></pre></td></tr></table></figure>
<h4 id="5-ç£ç›˜IOå¯¹è´Ÿè½½å½±å“">5.ç£ç›˜IOå¯¹è´Ÿè½½å½±å“</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## IOå¯¹CPUçš„å½±å“</span></span><br><span class="line">[root@localhost ~]# mpstat -P ALL 3</span><br><span class="line">Linux 3.10.0-957.el7.x86_64 (localhost.localdomain) 04/26/2024 _x86_64_(4 CPU)</span><br><span class="line">08:29:48 PM CPU %usr %<span class="built_in">nice</span> %sys %iowait %irq %soft %steal %guest %gnice %idle</span><br><span class="line">08:29:51 PM all 0.17 0.00 73.85 0.00 0.00 0.00 0.00 0.00 0.00 25.98</span><br><span class="line">08:29:51 PM 0 0.00 0.00 66.93 0.00 0.00 0.00 0.00 0.00 0.00 33.07</span><br><span class="line">08:29:51 PM 1 0.00 0.00 68.15 0.00 0.00 0.00 0.00 0.00 0.00 31.85</span><br><span class="line">08:29:51 PM 2 0.00 0.00 79.87 0.00 0.00 0.00 0.00 0.00 0.00 20.13</span><br><span class="line">08:29:51 PM 3 0.00 0.00 78.92 0.00 0.00 0.00 0.00 0.00 0.00 21.08</span><br><span class="line"><span class="comment">## iostat æŸ¥çœ‹ç£ç›˜IOä¿¡æ¯</span></span><br><span class="line">[root@localhost ~]# iostat</span><br><span class="line">Linux 3.10.0-957.el7.x86_64 (localhost.localdomain) 04/26/2024 _x86_64_(4 CPU)</span><br><span class="line">avg-cpu: %user %<span class="built_in">nice</span> %system %iowait %steal %idle</span><br><span class="line">16.40 0.00 3.49 0.01 0.00 80.10</span><br><span class="line">Device: tps kB_read/s kB_wrtn/s kB_read kB_wrtn</span><br><span class="line">scd0 0.01 0.53 0.00 1028 0</span><br><span class="line">sda 6.23 283.56 8.79 548598 17015</span><br><span class="line">[root@localhost ~]# pidstat -u 5 1</span><br><span class="line">08:30:36 PM 0 6831 0.40 76.74 0.00 77.14 3 stress</span><br><span class="line">08:30:36 PM 0 6832 0.00 78.13 0.00 78.13 1 stress</span><br><span class="line">08:30:36 PM 0 6833 0.00 74.55 0.00 74.55 3 stress</span><br></pre></td></tr></table></figure>
<h4 id="6-å¤šè¿›ç¨‹å¯¹è´Ÿè½½å½±å“">6.å¤šè¿›ç¨‹å¯¹è´Ÿè½½å½±å“</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mpstat -P ALL 3</span><br><span class="line">Linux 3.10.0-957.el7.x86_64 (localhost.localdomain) 04/26/2024 _x86_64_(4 CPU)</span><br><span class="line">08:33:45 PM CPU %usr %<span class="built_in">nice</span> %sys %iowait %irq %soft %steal %guest %gnice %idle</span><br><span class="line">08:33:48 PM all 53.94 0.00 0.25 0.00 0.00 0.25 0.00 0.00 0.00 45.57</span><br><span class="line">08:33:48 PM 0 53.00 0.00 0.50 0.00 0.00 0.00 0.00 0.00 0.00 46.50</span><br><span class="line">08:33:48 PM 1 54.41 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 45.59</span><br><span class="line">08:33:48 PM 2 52.50 0.00 0.50 0.00 0.00 0.50 0.00 0.00 0.00 46.50</span><br><span class="line">08:33:48 PM 3 55.02 0.00 0.00 0.00 0.00 0.48 0.00 0.00 0.00 44.50</span><br><span class="line">[root@localhost ~]# pidstat -u 5 1</span><br><span class="line">08:30:36 PM 0 6831 0.40 76.74 0.00 77.14 3 stress</span><br><span class="line">08:30:36 PM 0 6832 0.00 78.13 0.00 78.13 1 stress</span><br><span class="line">08:30:36 PM 0 6833 0.00 74.55 0.00 74.55 3 stress</span><br><span class="line"><span class="comment"># æ€»ç»“ï¼š</span></span><br><span class="line">1.å¹³å‡è´Ÿè½½é«˜æœ‰å¯èƒ½æ˜¯CPUå¯†é›†å‹è¿›ç¨‹å¯¼è‡´çš„</span><br><span class="line">2.å¹³å‡è´Ÿè½½é«˜å¹¶ä¸ä¸€å®šä»£è¡¨CPUçš„ä½¿ç”¨ç‡å°±ä¸€å®šé«˜ï¼Œè¿˜æœ‰å¯èƒ½æ˜¯I/Oç¹å¿™</span><br><span class="line">3.å½“å‘ç°è´Ÿè½½é«˜æ—¶ï¼Œå¯ä»¥ä½¿ç”¨mpstatã€pidstatç­‰å·¥å…·ï¼Œå¿«é€Ÿå®šä½åˆ°ï¼Œè´Ÿè½½é«˜çš„åŸå› ï¼Œä»è€Œåšå‡ºå¤„ç†</span><br></pre></td></tr></table></figure>
<p><strong>è´Ÿè½½è¾¾åˆ°å¤šå°‘æ—¶å€™éœ€è¦æ³¨æ„</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å½“å¹³å‡è´Ÿè½½é«˜äºCPUæ•°é‡70%çš„æ—¶å€™ï¼Œä½ å°±åº”è¯¥åˆ†ææ’æŸ¥è´Ÿè½½é«˜çš„é—®é¢˜äº†ï¼Œä¸€æ—¦è´Ÿè½½è¿‡é«˜ï¼Œå°±å¯èƒ½å¯¼è‡´è¿›ç¨‹ç›¸åº”å˜æ…¢ï¼Œè¿›è€Œå½±å“æœåŠ¡çš„æ­£å¸¸åŠŸèƒ½ã€‚</span><br><span class="line">ä½†70%è¿™ä¸ªæ•°å­—å¹¶ä¸æ˜¯ç»å¯¹çš„ï¼Œæœ€æ¨èçš„æ–¹æ³•ï¼Œè¿˜æ˜¯æŠŠç³»ç»Ÿçš„å¹³å‡è´Ÿè½½ç›‘æ§èµ·æ¥ï¼Œç„¶åæ ¹æ®æ›´å¤šçš„å†å²æ•°æ®ï¼Œåˆ¤æ–­è´Ÿè½½çš„å˜åŒ–è¶‹åŠ¿ï¼Œå½“å‘ç°è´Ÿè½½æœ‰æ˜æ˜¾å‡é«˜çš„è¶‹åŠ¿æ—¶ï¼Œæ¯”å¦‚è¯´è´Ÿè½½ç¿»å€äº†ï¼Œä½ å†å»åšåˆ†æå’Œè°ƒæŸ¥ã€‚</span><br></pre></td></tr></table></figure>
<h3 id="3-ç³»ç»Ÿå¯åŠ¨æµç¨‹">3.ç³»ç»Ÿå¯åŠ¨æµç¨‹</h3>
<h4 id="1-Centos6å¯åŠ¨æµç¨‹">1.Centos6å¯åŠ¨æµç¨‹</h4>
<p><strong>==1.åŠ ç”µè‡ªæ£€==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Centos6</span><br><span class="line">1.BIOSåŠ ç”µè‡ªæ£€</span><br><span class="line">2.å†…æ ¸å¼•å¯¼</span><br><span class="line">3.è¯»å–GRUBèœå•</span><br><span class="line">4.è¿è¡Œinitï¼Œè¯»å–/etc/inittabé»˜è®¤è¿è¡Œçº§åˆ«</span><br><span class="line">5.æŒ‰é¡ºåºå¯åŠ¨å…¶ä»–æœåŠ¡/etc/rcN.d  </span><br><span class="line">6.å»ºç«‹ç»ˆç«¯</span><br><span class="line">7.ç”¨æˆ·ç™»å½•</span><br></pre></td></tr></table></figure>
<p><strong>==2.å†…æ ¸å¼•å¯¼==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æ‰“å¼€ç”µæºï¼ŒBiOSåŠ ç”µè‡ªæ£€</span><br><span class="line">æ£€æµ‹ç¡¬ä»¶æ˜¯å¦æŸåï¼šCPUã€å†…å­˜ã€ç£ç›˜</span><br><span class="line">è¯»å–/bootç›®å½•ä¸‹çš„æ–‡ä»¶ï¼ŒåŠ è½½å¯åŠ¨æ–‡ä»¶ï¼ŒGRUBèœå•</span><br><span class="line">GRUBèœå•æä¾›å·²å®‰è£…ç³»ç»Ÿçš„é€‰é¡¹ï¼Œå¦‚æœæ˜¯å¤šç³»ç»Ÿï¼Œé€‰æ‹©è¦è¿›å…¥çš„ç³»ç»Ÿ</span><br></pre></td></tr></table></figure>
<p><strong>==3.è¿è¡Œinit==</strong></p>
<p>initè¿è¡Œçº§åˆ« init åœ¨CentOSä¸­ï¼Œæ˜¯ç³»ç»Ÿæ‰€æœ‰è¿›ç¨‹çš„èµ·ç‚¹ï¼Œå¦‚æœè¿›ç¨‹æƒ³å¯åŠ¨ï¼Œé‚£å¿…é¡»æœ‰initï¼Œå¦‚æœæ²¡æœ‰initï¼Œç³»ç»Ÿä¸­çš„ä»» ä½•è¿›ç¨‹éƒ½ä¸ä¼šå¯åŠ¨ï¼Œé‚£å°±ç›¸å½“äºè¿™ä¸ªç³»ç»Ÿæ‰“ä¸å¼€</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">initæ˜¯CentOS6ä¸­PIDä¸º0çš„è¿›ç¨‹ï¼Œæ˜¯æ‰€æœ‰è¿›ç¨‹å¯åŠ¨çš„èµ·ç‚¹</span><br><span class="line">[root@localhost ~]# pstree</span><br><span class="line">initâ”€â”¬â”€abrtd</span><br><span class="line">     â”œâ”€acpid</span><br><span class="line">     â”œâ”€atd</span><br><span class="line">     â”œâ”€auditdâ”€â”€â”€&#123;auditd&#125;</span><br><span class="line">     â”œâ”€console-kit-daeâ”€â”€â”€63*[&#123;console-kit-da&#125;]</span><br><span class="line">     â”œâ”€sshdâ”€â”€â”€sshdâ”€â”€â”€bashâ”€â”€â”€pstree</span><br><span class="line">     â””â”€udevdâ”€â”€â”€2*[udevd]</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<p><strong>==è¿è¡Œçº§åˆ«==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">initç¨‹åºé¦–å…ˆæ˜¯éœ€è¦è¯»å–é…ç½®æ–‡ä»¶/etc/inittab</span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> /etc/inittab</span><br><span class="line"><span class="comment"># Default runlevel. The runlevels used are:</span></span><br><span class="line"><span class="comment"># 0 - halt (Do NOT set initdefault to this)</span></span><br><span class="line"><span class="comment"># 1 - Single user mode</span></span><br><span class="line"><span class="comment"># 2 - Multiuser, without NFS (The same as 3, if you do not have networking)</span></span><br><span class="line"><span class="comment"># 3 - Full multiuser mode</span></span><br><span class="line"><span class="comment"># 4 - unused</span></span><br><span class="line"><span class="comment"># 5 - X11</span></span><br><span class="line"><span class="comment"># 6 - reboot (Do NOT set initdefault to this)</span></span><br><span class="line"><span class="built_in">id</span>:3:initdefault:  <span class="comment">#è®¾ç½®è¿è¡Œçº§åˆ«ä¸º3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œçº§åˆ«ï¼š</span></span><br><span class="line">0ï¼šå…³æœºè¿è¡Œçº§åˆ« <span class="comment">#å¼€æœºå³å…³æœº</span></span><br><span class="line">1ï¼šå•ç”¨æˆ·æ¨¡å¼è¿è¡Œçº§åˆ«</span><br><span class="line">2ï¼šå¤šç”¨æˆ·æ¨¡å¼ï¼Œä½†æ˜¯æ²¡æœ‰æ–‡ä»¶ç³»ç»Ÿï¼Œæ²¡æœ‰ç½‘ç»œ</span><br><span class="line">3ï¼šå®Œæ•´çš„å¤šç”¨æˆ·æ¨¡å¼ï¼Œæœ‰æ–‡ä»¶ç³»ç»Ÿï¼Œæœ‰ç½‘ç»œ</span><br><span class="line">4ï¼šæœªè¢«ä½¿ç”¨çš„è¿è¡Œçº§åˆ«</span><br><span class="line">5ï¼šå›¾å½¢åŒ–è¿è¡Œçº§åˆ«</span><br><span class="line">6ï¼šé‡å¯è¿è¡Œçº§åˆ« <span class="comment">#é»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º6ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429154944112.png" alt="image-20240429154944112"></p>
<p><strong>==æŸ¥çœ‹å½“å‰è¿è¡Œçº§åˆ«==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# runlevel</span><br><span class="line">N 3</span><br><span class="line"><span class="comment">#ä¸´æ—¶åˆ‡æ¢è¿è¡Œçº§åˆ«</span></span><br><span class="line">[root@localhost ~]# init 5</span><br><span class="line"><span class="comment">#æ°¸ä¹…åˆ‡æ¢è¿è¡Œçº§åˆ«</span></span><br><span class="line">[rootezls ~]vim /etc/inittab</span><br><span class="line"><span class="built_in">id</span>:3:initdefault</span><br></pre></td></tr></table></figure>
<p><strong>è¯»å–å®Œé…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°å¯¹åº”çš„è¿è¡Œçº§åˆ« 3</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">æŸ¥è¯¢æ“ä½œç³»ç»Ÿåœ¨æ¯ä¸€ä¸ªæ‰§è¡Œç­‰çº§ä¸­ä¼šæ‰§è¡Œå“ªäº›ç³»ç»ŸæœåŠ¡ï¼Œå…¶ä¸­åŒ…æ‹¬å„ç±»å¸¸é©»æœåŠ¡ã€‚</span><br><span class="line">[root@localhost ~]# chkconfig</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# chkconfig |grep <span class="string">&#x27;3:on&#x27;</span></span><br><span class="line">auditd 0:off 1:off 2:on 3:on 4:on 5:on 6:off</span><br><span class="line">crond 0:off 1:off 2:on 3:on 4:on 5:on 6:off</span><br><span class="line">ip6tables 0:off 1:off 2:on 3:on 4:on 5:on 6:off</span><br><span class="line">iptables 0:off 1:off 2:on 3:on 4:on 5:on 6:off</span><br><span class="line">kdump 0:off 1:off 2:off 3:on 4:on 5:on 6:off</span><br><span class="line">mdmonitor 0:off 1:off 2:on 3:on 4:on 5:on 6:off</span><br><span class="line">netfs 0:off 1:off 2:off 3:on 4:on 5:on 6:off</span><br><span class="line">network 0:off 1:off 2:on 3:on 4:on 5:on 6:off</span><br><span class="line">postfix 0:off 1:off 2:on 3:on 4:on 5:on 6:off</span><br><span class="line">rsyslog 0:off 1:off 2:on 3:on 4:on 5:on 6:off</span><br><span class="line">sshd 0:off 1:off 2:on 3:on 4:on 5:on 6:off</span><br><span class="line">udev-post 0:off 1:on 2:on 3:on 4:on 5:on 6:off</span><br></pre></td></tr></table></figure>
<p><strong>==5.ç³»ç»Ÿåˆå§‹åŒ–==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## è¯»å–3è¿è¡Œçº§åˆ«çš„æœåŠ¡å¯åŠ¨é¡ºåº</span></span><br><span class="line"><span class="comment">##Så¼€å¤´çš„æ˜¯å…³æœºæœåŠ¡åœæ­¢é¡ºåº</span></span><br><span class="line">[root@localhost ~]# ll /etc/rc3.d/</span><br><span class="line">total 0</span><br><span class="line">lrwxrwxrwx. 1 root root 19 Apr 29 17:06 K10saslauthd -&gt; ../init.d/saslauthd</span><br><span class="line">lrwxrwxrwx. 1 root root 21 Apr 29 17:06 K87restorecond -&gt; ../init.d/restorecond</span><br><span class="line">lrwxrwxrwx. 1 root root 20 Apr 29 17:06 K89netconsole -&gt; ../init.d/netconsole</span><br><span class="line">lrwxrwxrwx. 1 root root 15 Apr 29 17:06 K89rdisc -&gt; ../init.d/rdisc</span><br><span class="line">lrwxrwxrwx. 1 root root 19 Apr 29 17:06 S08ip6tables -&gt; ../init.d/ip6tables</span><br><span class="line">lrwxrwxrwx. 1 root root 18 Apr 29 17:06 S08iptables -&gt; ../init.d/iptables</span><br><span class="line">lrwxrwxrwx. 1 root root 17 Apr 29 17:06 S10network -&gt; ../init.d/network</span><br><span class="line">lrwxrwxrwx. 1 root root 16 Apr 29 17:07 S11auditd -&gt; ../init.d/auditd</span><br><span class="line">lrwxrwxrwx. 1 root root 17 Apr 29 17:06 S12rsyslog -&gt; ../init.d/rsyslog</span><br><span class="line">lrwxrwxrwx. 1 root root 19 Apr 29 17:06 S15mdmonitor -&gt; ../init.d/mdmonitor</span><br><span class="line">lrwxrwxrwx. 1 root root 15 Apr 29 17:06 S25netfs -&gt; ../init.d/netfs</span><br><span class="line">lrwxrwxrwx. 1 root root 19 Apr 29 17:06 S26udev-post -&gt; ../init.d/udev-post</span><br><span class="line">lrwxrwxrwx. 1 root root 15 Apr 29 17:07 S50kdump -&gt; ../init.d/kdump</span><br><span class="line">lrwxrwxrwx. 1 root root 14 Apr 29 17:07 S55sshd -&gt; ../init.d/sshd</span><br><span class="line">lrwxrwxrwx. 1 root root 17 Apr 29 17:06 S80postfix -&gt; ../init.d/postfix</span><br><span class="line">lrwxrwxrwx. 1 root root 15 Apr 29 17:06 S90crond -&gt; ../init.d/crond</span><br><span class="line">lrwxrwxrwx. 1 root root 11 Apr 29 17:06 S99local -&gt; ../rc.local</span><br><span class="line"><span class="comment"># chkconfig: 2345 55 25</span></span><br><span class="line"><span class="comment"># CentOS6ä¸­æ‰€æœ‰è„šæœ¬éƒ½æ˜¯shellè„šæœ¬</span></span><br><span class="line">[root@localhost ~]# ll /etc/init.d/      æŸ¥çœ‹æ‰€æœ‰ç¨‹åºçš„å¯åŠ¨è„šæœ¬</span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> /etc/init.d/sshd</span><br><span class="line"><span class="comment"># chkconfig: 2345 55 25</span></span><br><span class="line">åœ¨2345è¿è¡Œçº§åˆ«ä¸Šï¼Œé»˜è®¤å¼€æœºè‡ªå¯</span><br><span class="line">55ï¼šå¼€æœºç¬¬55ä¸ªå¯åŠ¨</span><br><span class="line">25ï¼šå…³æœºç¬¬25ä¸ªå…³é—­</span><br></pre></td></tr></table></figure>
<p><strong>==6.å»ºç«‹ç»ˆç«¯==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">rcæ‰§è¡Œå®Œæ¯•åï¼Œè¿”å›initã€‚è¿™æ—¶åŸºæœ¬ç³»ç»Ÿç¯å¢ƒå·²ç»è®¾ç½®å¥½äº†ï¼Œå„ç§å®ˆæŠ¤è¿›ç¨‹ä¹Ÿå·²ç»å¯åŠ¨äº†ã€‚ initæ¥ä¸‹æ¥ä¼šæ‰“å¼€6ä¸ªç»ˆç«¯ï¼Œä»¥ä¾¿ç”¨æˆ·ç™»å½•ç³»ç»Ÿã€‚åœ¨inittabä¸­çš„ä»¥ä¸‹6è¡Œå°±æ˜¯å®šä¹‰äº†6ä¸ªç»ˆç«¯ï¼š</span><br><span class="line">1:2345:respawn:/sbin/mingetty tty1</span><br><span class="line">2:2345:respawn:/sbin/mingetty tty2</span><br><span class="line">3:2345:respawn:/sbin/mingetty tty3</span><br><span class="line">4:2345:respawn:/sbin/mingetty tty4</span><br><span class="line">5:2345:respawn:/sbin/mingetty tty5</span><br><span class="line">6:2345:respawn:/sbin/mingetty tty6</span><br><span class="line"></span><br><span class="line">è¿œç¨‹è¿æ¥å·¥å…·</span><br><span class="line">pts/0</span><br></pre></td></tr></table></figure>
<p><strong>==7.ç”¨æˆ·ç™»å½•ç³»ç»Ÿ==</strong></p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œç”¨æˆ·çš„ç™»å½•æ–¹å¼æœ‰ä¸‰ç§ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰å‘½ä»¤è¡Œç™»å½•</span><br><span class="line">ï¼ˆ2ï¼‰sshç™»å½•</span><br><span class="line">ï¼ˆ3ï¼‰å›¾å½¢ç•Œé¢ç™»å½•</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429161712973.png" alt="image-20240429161712973"></p>
<h4 id="2-ç³»ç»Ÿå…³æœºå‘½ä»¤">2.ç³»ç»Ÿå…³æœºå‘½ä»¤</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## å…³æœº</span></span><br><span class="line">halt</span><br><span class="line">shutdown -h now</span><br><span class="line">poweroff</span><br><span class="line"></span><br><span class="line"><span class="built_in">sync</span> å°†æ•°æ®ç”±å†…å­˜åŒæ­¥åˆ°ç¡¬ç›˜ä¸­ã€‚</span><br><span class="line">shutdown å…³æœºæŒ‡ä»¤</span><br><span class="line">shutdown â€“h 10      <span class="comment">#è®¡ç®—æœºå°†åœ¨10åˆ†é’Ÿåå…³æœºï¼Œå¹¶ä¸”ä¼šæ˜¾ç¤ºåœ¨ç™»é™†ç”¨æˆ·çš„å½“å‰å±å¹•ä¸­ã€‚</span></span><br><span class="line">shutdown â€“h now      <span class="comment">#ç«‹é©¬å…³æœº</span></span><br><span class="line">shutdown â€“h 20:25 	 <span class="comment">#ç³»ç»Ÿä¼šåœ¨ä»Šå¤©20:25å…³æœº</span></span><br><span class="line">shutdown â€“h +10      <span class="comment">#ååˆ†é’Ÿåå…³æœº</span></span><br><span class="line">shutdown â€“r now 	 <span class="comment">#ç³»ç»Ÿç«‹é©¬é‡å¯</span></span><br><span class="line">shutdown â€“r +10 	 <span class="comment">#ç³»ç»Ÿååˆ†é’Ÿåé‡å¯</span></span><br><span class="line">reboot 			    <span class="comment">#å°±æ˜¯é‡å¯ï¼Œç­‰åŒäº shutdown â€“r now</span></span><br><span class="line">halt 			    <span class="comment">#å…³é—­ç³»ç»Ÿï¼Œç­‰åŒäºshutdown â€“h now å’Œ poweroff</span></span><br><span class="line"><span class="comment">## é‡å¯</span></span><br><span class="line">reboot</span><br><span class="line">init 6</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429162103002.png" alt="image-20240429162103002"></p>
<h4 id="3-å•ç”¨æˆ·æ¨¡å¼">3.å•ç”¨æˆ·æ¨¡å¼</h4>
<p><strong>==å¿˜è®°å¯†ç è¿›å…¥å•ç”¨æˆ·æ¨¡å¼æ”¹å¯†ç ==</strong></p>
<p><strong>1ï¼‰é‡å¯ç³»ç»Ÿï¼Œåˆ°grubèœå•ç•Œé¢</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429164346037.png" alt="image-20240429164346037"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429164633863.png" alt="image-20240429164633863"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429165101506.png" alt="image-20240429165101506"></p>
<p><strong>2ï¼‰å›è½¦è¿”å›å†…æ ¸èœå•</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429164943845.png" alt="image-20240429164943845"></p>
<p><strong>3ï¼‰è¿›å…¥åå°±å¯ä»¥é‡æ–°è®¾ç½®å¯†ç äº†</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429165410448.png" alt="image-20240429165410448"></p>
<p>å¯†ç è®¾ç½®å¥½é‡å¯å°±OKäº†</p>
<p>reboot   init6</p>
<h4 id="4-CentOS7å¯åŠ¨é¡ºåº">4.CentOS7å¯åŠ¨é¡ºåº</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># C7</span></span><br><span class="line">1.BIOS(å¼€æœºè‡ªæ£€)</span><br><span class="line">2.MBR ( Master Boot Record ä¸»å¼•å¯¼è®°å½•)</span><br><span class="line">3.GRUB2 Bootloaderï¼ˆå¼•å¯¼èœå•ï¼‰</span><br><span class="line">4.Kernelï¼ˆå†…æ ¸å¼•å¯¼ï¼‰</span><br><span class="line">5.Systemd ï¼ˆä¸å†ä½¿ç”¨initï¼Œæ”¹æˆäº†systemdï¼‰</span><br><span class="line">6.æŒ‰é¡ºåºå¯åŠ¨å…¶ä»–æœåŠ¡ systemctl list-unit-files</span><br><span class="line">[root@lb01 ~]# systemctl list-unit-files</span><br><span class="line">UNIT FILE                                     STATE   </span><br><span class="line">proc-sys-fs-binfmt_misc.automount             static  </span><br><span class="line">dev-hugepages.mount                           static  </span><br><span class="line">dev-mqueue.mount                              static  </span><br><span class="line">proc-sys-fs-binfmt_misc.mount                 static  </span><br><span class="line">sys-fs-fuse-connections.mount                 static  </span><br><span class="line">sys-kernel-config.mount                       static  </span><br><span class="line">sys-kernel-debug.mount                        static</span><br><span class="line">7.å»ºç«‹ç»ˆç«¯</span><br><span class="line">8.ç”¨æˆ·ç™»å½•</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œçº§åˆ«ï¼š</span></span><br><span class="line">/usr/lib/systemd/system/runlevel0.target -&gt; poweroff.target</span><br><span class="line">/usr/lib/systemd/system/runlevel1.target -&gt; rescue.target</span><br><span class="line">/usr/lib/systemd/system/runlevel2.target -&gt; multi-user.target</span><br><span class="line">/usr/lib/systemd/system/runlevel3.target -&gt; multi-user.target</span><br><span class="line">/usr/lib/systemd/system/runlevel4.target -&gt; multi-user.target</span><br><span class="line">/usr/lib/systemd/system/runlevel5.target -&gt; graphical.target</span><br><span class="line">/usr/lib/systemd/system/runlevel6.target -&gt; reboot.target</span><br><span class="line">0ï¼šå…³æœºè¿è¡Œçº§åˆ« (Do NOT <span class="built_in">set</span> initdefault to this)</span><br><span class="line">1ï¼šå•ç”¨æˆ·æ¨¡å¼è¿è¡Œçº§åˆ«</span><br><span class="line">2ï¼Œ3ï¼Œ4ï¼šå®Œæ•´çš„å¤šç”¨æˆ·æ¨¡å¼ï¼Œæœ‰æ–‡ä»¶ç³»ç»Ÿï¼Œæœ‰ç½‘ç»œ</span><br><span class="line">5ï¼šå›¾å½¢åŒ–è¿è¡Œçº§åˆ«</span><br><span class="line">6ï¼šé‡å¯è¿è¡Œçº§åˆ« (Do NOT <span class="built_in">set</span> initdefault to this)</span><br><span class="line"><span class="comment">#æŸ¥çœ‹å½“å‰è¿è¡Œçº§åˆ«ï¼š</span></span><br><span class="line">[root@yum_repo ~]# systemctl get-default</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# systemctl list-unit-files|grep <span class="string">&#x27;enabled&#x27;</span></span><br><span class="line"><span class="comment">## CentOS7ä¸­å¯åŠ¨æœåŠ¡ï¼Œæ‰€æœ‰æœåŠ¡çš„å¯åŠ¨è„šæœ¬</span></span><br><span class="line">/usr/lib/systemd/system/</span><br><span class="line"><span class="comment">#ä¿®æ”¹è¿è¡Œçº§åˆ«</span></span><br><span class="line">[root@yum_repo ~]# systemctl set-default multi-user.target    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šcentos7ä¸­æ‰€æœ‰æœåŠ¡çš„å¯åŠ¨è„šæœ¬ï¼Œéƒ½ä¸æ˜¯shellä¸”å¿…é¡»ä»¥.serviceç»“å°¾</span></span><br><span class="line"><span class="comment">## å¼€æœºè‡ªå¯åŠ¨æœåŠ¡</span></span><br><span class="line">[root@localhost ~]# ll /etc/systemd/system/multi-user.target.wants/</span><br><span class="line">auditd.service -&gt; /usr/lib/systemd/system/auditd.service</span><br><span class="line">nginx.service -&gt; /usr/lib/systemd/system/nginx.service</span><br><span class="line">firewalld.service -&gt; /usr/lib/systemd/system/firewalld.service</span><br><span class="line">irqbalance.service -&gt; /usr/lib/systemd/system/irqbalance.service</span><br><span class="line">NetworkManager.service -&gt; /usr/lib/systemd/system/NetworkManager.service</span><br><span class="line">postfix.service -&gt; /usr/lib/systemd/system/postfix.service</span><br><span class="line">remote-fs.target -&gt; /usr/lib/systemd/system/remote-fs.target</span><br><span class="line">rhel-configure.service -&gt; /usr/lib/systemd/system/rhel-configure.service</span><br><span class="line">rsyslog.service -&gt; /usr/lib/systemd/system/rsyslog.service</span><br><span class="line">sshd.service -&gt; /usr/lib/systemd/system/sshd.service</span><br><span class="line">tuned.service -&gt; /usr/lib/systemd/system/tuned.service</span><br><span class="line">vmtoolsd.service -&gt; /usr/lib/systemd/system/vmtoolsd.service</span><br></pre></td></tr></table></figure>
<h4 id="5-CentOS7å•ç”¨æˆ·æ¨¡å¼">5.CentOS7å•ç”¨æˆ·æ¨¡å¼</h4>
<p><strong>1.é‡å¯ç³»ç»Ÿ</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429170437706.png" alt="image-20240429170437706"></p>
<p><strong>2.è¿›å…¥grub2èœå•</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429170649081.png" alt="image-20240429170649081"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨linux16è¡Œçš„æœ«å°¾è¾“å…¥,ç„¶åæŒ‰ä¸‹   Ctrl+Xå¼•å¯¼   ç»„åˆé”®æ¥è¿è¡Œä¿®æ”¹è¿‡çš„å†…æ ¸ç¨‹åº</span></span><br><span class="line">enforcing=0 init=/bin/bash</span><br><span class="line">enforcing=0   å…³é—­selinuxï¼ˆä¸´æ—¶çš„ï¼‰ï¼Œè¿›å…¥å•ç”¨æˆ·åé…ç½®æ–‡ä»¶é‡Œå…³é—­selinuxï¼Œå¦åˆ™é‡æ–°å¼€æœºåå¯†ç å°±ä¸ç”Ÿæ•ˆäº†</span><br></pre></td></tr></table></figure>
<p><strong>ä¸æŒ‚è½½æ–¹å¼</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429173119985.png" alt="image-20240429173119985"></p>
<p><strong>3.è¿›å…¥å•ç”¨æˆ·æ¨¡å¼</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.é‡æ–°æŒ‚è½½/ç›®å½•</span></span><br><span class="line">mount -o rw,remount /</span><br><span class="line"><span class="comment"># 2.ä¿®æ”¹å¯†ç </span></span><br><span class="line">passwd root</span><br><span class="line"><span class="comment"># 3.é‡æ–°å¼•å¯¼ç³»ç»Ÿ</span></span><br><span class="line"><span class="built_in">exec</span> /sbin/init</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429171621119.png" alt="image-20240429171621119"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¿›å…¥é…ç½®æ–‡ä»¶æ°¸ä¹…å…³é—­selinux</span><br><span class="line">[root@lb01 ~]# vi /etc/selinux/config</span><br><span class="line">SELINUX=disabled    å°†permissiveæ”¹ä¸ºdisabled</span><br><span class="line">SELINUXTYPE=targeted</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹selinuxå¼€å¯çŠ¶æ€</span><br><span class="line">[root@lb01 ~]# getenforce</span><br><span class="line">Disabled</span><br></pre></td></tr></table></figure>
<h4 id="6-ä¿®æ”¹é»˜è®¤è¿è¡Œçº§åˆ«">6.ä¿®æ”¹é»˜è®¤è¿è¡Œçº§åˆ«</h4>
<p><strong>å¦‚æœcentos7è¢«è®¾ç½®ä¸ºè¿è¡Œçº§åˆ«6ï¼Œå¯¼è‡´æ— é™é‡å¯æ€ä¹ˆè§£å†³ï¼Ÿ</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æŸ¥çœ‹</span></span><br><span class="line">[root@yum_repo ~]# systemctl get-default</span><br><span class="line">multi-user.target    <span class="comment">#å®Œæ•´å¤šç”¨æˆ·æ¨¡å¼</span></span><br><span class="line"><span class="comment">## ä¿®æ”¹</span></span><br><span class="line">[root@yum_repo ~]# systemctl set-default reboot.target     <span class="comment">#è®¾ç½®è¿è¡Œçº§åˆ«6é‡å¯ï¼ˆæ— é™é‡å¯ï¼‰</span></span><br></pre></td></tr></table></figure>
<p><strong>è§£å†³åŠæ³•</strong></p>
<p>1.è¿›å…¥ç¼–è¾‘æ¨¡å¼</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429173139767.png" alt="image-20240429173139767"></p>
<p>2.#åœ¨linux16è¡Œçš„æœ«å°¾è¾“å…¥,ç„¶åæŒ‰ä¸‹   Ctrl+X   ç»„åˆé”®æ¥è¿è¡Œä¿®æ”¹è¿‡çš„å†…æ ¸ç¨‹åº</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429175105690.png" alt="image-20240429175105690"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240429180423234.png" alt="image-20240429180423234"></p>
<p>exité€€å‡ºï¼Œrebooté‡å¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.é‡æ–°æŒ‚è½½/sysrootç›®å½•</span></span><br><span class="line">mount -o rw,remount /sysroot</span><br><span class="line"><span class="comment"># 2.è·å–rootæƒé™</span></span><br><span class="line"><span class="built_in">chroot</span> /sysroot</span><br><span class="line"><span class="comment"># 3.ä¿®æ”¹å¯†ç </span></span><br><span class="line">passwd root</span><br><span class="line"><span class="comment"># 4.ä¿®æ”¹è¿è¡Œçº§åˆ«</span></span><br><span class="line">systemctl set-default multi-user.target</span><br><span class="line"><span class="comment"># 5.é€€å‡º</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment"># 6.é‡å¯</span></span><br><span class="line">reboot</span><br><span class="line"><span class="comment">## å…³é—­selinux</span></span><br><span class="line"><span class="comment"># ä¸´æ—¶å…³é—­</span></span><br><span class="line">[root@yum_repo ~]# setenforce 0</span><br><span class="line"><span class="comment"># æ°¸ä¹…å…³é—­ï¼ˆé‡å¯ç³»ç»Ÿç”Ÿæ•ˆï¼‰</span></span><br><span class="line">[root@yum_repo ~]# vi /etc/sysconfig/selinux</span><br><span class="line">SELINUX=disabled</span><br><span class="line"><span class="comment">## ä¸¤ç§è¿›å…¥å•ç”¨æˆ·æ–¹æ³•</span></span><br><span class="line">1ï¼‰enforcing=0 init=/bin/bash // ä¿®æ”¹å¯†ç </span><br><span class="line">2ï¼‰rd.break // ä¿®æ”¹è¿è¡Œçº§åˆ«</span><br></pre></td></tr></table></figure>
<h3 id="4-æ•‘æ´æ¨¡å¼">4.æ•‘æ´æ¨¡å¼</h3>
<p>å‰æï¼šè™šæ‹Ÿæœºè®¾ç½®å·²ç»æŒ‚è½½isoé•œåƒ</p>
<h4 id="1-MBRå¼•å¯¼è¢«ç ´åè§£å†³">1.MBRå¼•å¯¼è¢«ç ´åè§£å†³</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ³¨ï¼šä»…æ¼”ç¤ºæ•‘æ´æ¨¡å¼æ¸…ç©ºMBRï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span></span><br><span class="line"><span class="built_in">dd</span> &lt; /dev/zero &gt;/dev/sda bs=1 count=446</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è§£å†³åŠæ³•</span></span><br><span class="line"><span class="comment"># 1.è·å–rootç¯å¢ƒ</span></span><br><span class="line"><span class="built_in">chroot</span> /mnt/sysimage</span><br><span class="line"><span class="comment"># 2.ä¿®å¤MBR</span></span><br><span class="line">grub2-install /dev/sda</span><br><span class="line"><span class="comment"># 3.é€€å‡º</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment"># 4.é‡å¯</span></span><br><span class="line">reboo</span><br><span class="line">è¿‡ç¨‹å¦‚ä¸‹â†“</span><br></pre></td></tr></table></figure>
<p><strong>MBRç ´ååå¯åŠ¨è‡ªåŠ¨è·³åˆ°è¿™é‡Œ</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240501105112668.png" alt="image-20240501105112668"></p>
<p>è¿›å…¥æ•‘æ´æ¨¡å¼å‰è¿›å…¥BISO,ä¿®æ”¹ä¼˜å…ˆCD-ROMå¯åŠ¨åŠ è½½</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240501102743250.png" alt="image-20240501102743250"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240501094910948.png" alt="image-20240501094910948"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240501105511762.png" alt="image-20240501105511762"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240501105829470.png" alt="image-20240501105829470"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240501111423160.png" alt="image-20240501111423160"></p>
<h4 id="2-grubèœå•è¯¯åˆ è§£å†³">2.grubèœå•è¯¯åˆ è§£å†³</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä»…åšæ¼”ç¤ºåˆ é™¤gruubèœå•ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span></span><br><span class="line">[root@lb01 ~]# <span class="built_in">rm</span> -fr /boot/grub2</span><br><span class="line">[root@lb01 ~]# reboot</span><br></pre></td></tr></table></figure>
<p><strong>è§£å†³è¿‡ç¨‹</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.è·å–rootç¯å¢ƒ</span></span><br><span class="line"><span class="built_in">chroot</span> /mnt/sysimage</span><br><span class="line"><span class="comment"># 2.ä¿®å¤ç£ç›˜MBR</span></span><br><span class="line">grub2-install /dev/sda</span><br><span class="line"><span class="comment"># 3.ä¿®å¤grubèœå•é…ç½®æ–‡ä»¶</span></span><br><span class="line">grub2-mkconfig -o /boot/grub2/grub.cfg</span><br><span class="line"><span class="comment"># 4.é€€å‡º</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment"># 5.é‡å¯</span></span><br><span class="line">reboot</span><br><span class="line">è¿‡ç¨‹å›¾å¦‚ä¸‹</span><br></pre></td></tr></table></figure>
<p><strong>grubèœå•è¢«åˆ å¯åŠ¨ç•Œé¢</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240501112106766.png" alt="image-20240501112106766"></p>
<p><strong>åŒæ ·è¿›å…¥æ•‘æ´æ¨¡å¼</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240501113156619.png" alt="image-20240501113156619"></p>
<h4 id="3-ç³»ç»ŸæŸåæ‹·è´æ–‡ä»¶">3.ç³»ç»ŸæŸåæ‹·è´æ–‡ä»¶</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bash-4.2# mkfs.xfs -f /dev/sdc</span><br><span class="line">bash-4.2# <span class="built_in">mkdir</span> /data</span><br><span class="line">bash-4.2# mount /dev/sdc /data</span><br><span class="line">bash-4.2# <span class="built_in">cp</span> -a /raid0 /data</span><br><span class="line">bash-4.2# umount /dev/sdb</span><br></pre></td></tr></table></figure>
<h3 id="5-Systemd-è¿›ç¨‹ç®¡ç†">5.Systemd è¿›ç¨‹ç®¡ç†</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemdå³ä¸ºsystem daemonå®ˆæŠ¤è¿›ç¨‹ï¼Œsystemdä¸»è¦è§£å†³ä¸Šæ–‡çš„é—®é¢˜è€Œè¯ç”Ÿï¼Œsystemdçš„ç›®æ ‡æ˜¯ï¼Œä¸ºç³»ç»Ÿçš„å¯åŠ¨å’Œç®¡ç†æä¾›ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#CentOS6å¯åŠ¨</span></span><br><span class="line">1.å¯åŠ¨æ—¶é—´é•¿ï¼Œinitè¿›ç¨‹æ˜¯ä¸²è¡Œå¯åŠ¨ï¼Œåªæœ‰å‰ä¸€ä¸ªè¿›ç¨‹å¯åŠ¨å®Œï¼Œæ‰ä¼šå¯åŠ¨ä¸‹ä¸€ä¸ªè¿›ç¨‹ã€‚</span><br><span class="line">2.å¯åŠ¨è„šæœ¬å¤æ‚ï¼Œåˆå§‹åŒ–å®Œæˆåï¼Œç³»ç»Ÿä¼šåŠ è½½å¾ˆå¤šè„šæœ¬ï¼Œè„šæœ¬éƒ½ä¼šå¤„ç†å„è‡ªçš„æƒ…å†µï¼Œè¿™å›è®©è„šæœ¬å¤šè€Œå¤æ‚ã€‚</span><br><span class="line"><span class="comment">#CentOS7å¯åŠ¨</span></span><br><span class="line">CtOS7æ‰€æœ‰è¿›ç¨‹æ— è®ºæœ‰æ— ä¾èµ–å…³ç³»ï¼Œéƒ½å¹¶è¡Œå¯åŠ¨ï¼Œå½“ç„¶æœ‰å¾ˆå¤šæ—¶å€™è¿›ç¨‹å¹¶æ²¡æœ‰çœŸæ­£çš„å¯åŠ¨è€Œæ˜¯åªæœ‰ä¸€ä¸ªä¿¡å·æˆ–è€…è¯´æ˜¯æ ‡è®°ï¼Œåœ¨çœŸæ­£åˆ©ç”¨çš„æ—¶å€™ï¼Œæ‰ä¼šçœŸæ­£å¯åŠ¨</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240501114955720.png" alt="image-20240501114955720"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#systemdä¼˜åŠ¿</span></span><br><span class="line">1.æœ€æ–°ç³»ç»Ÿéƒ½é‡‡ç”¨systemdç®¡ç†ï¼ˆRedHat7ï¼ŒCentOS7ï¼ŒUbuntu15...ï¼‰</span><br><span class="line">2.CentOS7 æ”¯æŒå¼€æœºå¹¶è¡Œå¯åŠ¨æœåŠ¡,æ˜¾è‘—æé«˜å¼€æœºå¯åŠ¨æ•ˆç‡</span><br><span class="line">3.CentOS7å…³æœºåªå…³é—­æ­£åœ¨è¿è¡Œçš„æœåŠ¡ï¼Œè€ŒCentOS6ï¼Œå…¨éƒ¨éƒ½å…³é—­ä¸€æ¬¡ã€‚</span><br><span class="line">4.CentOS7æœåŠ¡çš„å¯åŠ¨ä¸åœæ­¢ä¸åœ¨ä½¿ç”¨è„šæœ¬è¿›è¡Œç®¡ç†ï¼Œä¹Ÿå°±æ˜¯/etc/init.dä¸‹ä¸åœ¨æœ‰è„šæœ¬ã€‚</span><br><span class="line">5.CentOS7ä½¿ç”¨systemdè§£å†³åŸæœ‰æ¨¡å¼ç¼ºé™·ï¼Œæ¯”å¦‚åŸæœ‰serviceä¸ä¼šå…³é—­ç¨‹åºäº§ç”Ÿçš„å­è¿›ç¨‹ã€‚</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>ç›¸å…³é…ç½®æ–‡ä»¶</th>
<th>CentOS6</th>
<th>CentOS7</th>
</tr>
</thead>
<tbody>
<tr>
<td>æœåŠ¡å¯åŠ¨è„šæœ¬</td>
<td>/etc/init.d/</td>
<td>/usr/lib/systemd/system/</td>
</tr>
<tr>
<td>å¼€æœºå¯åŠ¨æœåŠ¡</td>
<td>/etc/rcN.d/</td>
<td>/etc/systemd/system/</td>
</tr>
</tbody>
</table>
<h4 id="systemdç›¸å…³å‘½ä»¤">systemdç›¸å…³å‘½ä»¤</h4>
<p><strong>å¯åŠ¨é‡å¯æœåŠ¡</strong></p>
<table>
<thead>
<tr>
<th>System V initï¼ˆ6ç³»ç»Ÿï¼‰</th>
<th>systemctlå‘½ä»¤ï¼ˆ7ç³»ç»Ÿï¼‰</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>service nginx start <br />/etc/init.d/nginx start</td>
<td>systemctl start nginx.service</td>
<td>å¯åŠ¨æœåŠ¡</td>
</tr>
<tr>
<td>service nginx stop <br />/etc/init.d/nginx stop</td>
<td>systemctl stop nginx.service</td>
<td>åœæ­¢æœåŠ¡</td>
</tr>
<tr>
<td>service nginx restart <br />/etc/init.d/nginx restart</td>
<td>systemctl restart nginx.service</td>
<td>é‡å¯æœåŠ¡</td>
</tr>
<tr>
<td>service nginx reload <br />/etc/init.d/nginx reload</td>
<td>systemctl reload nginx.service</td>
<td>é‡æ–°åŠ è½½é…ç½®(ä¸ç»ˆæ­¢æœåŠ¡)</td>
</tr>
<tr>
<td>service nginx status <br />/etc/init.d/nginx status</td>
<td>systemctl status nginx.servre</td>
<td>æŸ¥çœ‹æœåŠ¡è¿è¡ŒçŠ¶æ€</td>
</tr>
<tr>
<td></td>
<td>systemctl is-active sshd.service</td>
<td>æŸ¥çœ‹æœåŠ¡æ˜¯å¦åœ¨è¿è¡Œä¸­</td>
</tr>
<tr>
<td></td>
<td>systemctl mask nginx.servre</td>
<td>ç¦æ­¢æœåŠ¡è¿è¡Œ</td>
</tr>
<tr>
<td></td>
<td>systemctl unmask nginx.servre</td>
<td>å–æ¶ˆç¦æ­¢æœåŠ¡è¿è¡Œ</td>
</tr>
</tbody>
</table>
<p><strong>è®¾ç½®æœåŠ¡å¼€æœºè‡ªå¯ï¼ŒæŸ¥çœ‹å„çº§åˆ«ä¸‹æœåŠ¡å¯åŠ¨çŠ¶æ€</strong></p>
<table>
<thead>
<tr>
<th>System V initï¼ˆ6ç³» ç»Ÿï¼‰</th>
<th>systemctlå‘½ä»¤ï¼ˆ7ç³»ç»Ÿï¼‰</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>chkconfig nginx on</td>
<td>systemctl enable nginx.service</td>
<td>å¼€æœºè‡ªåŠ¨å¯åŠ¨</td>
</tr>
<tr>
<td>chkconfig nginx off</td>
<td>systemctl disable nginx.service</td>
<td>å¼€æœºä¸è‡ªåŠ¨å¯åŠ¨</td>
</tr>
<tr>
<td>chkconfig --list</td>
<td>systemctl list-unit-files</td>
<td>æŸ¥çœ‹å„ä¸ªçº§åˆ«ä¸‹æœåŠ¡çš„å¯åŠ¨ä¸ç¦ ç”¨</td>
</tr>
<tr>
<td>chkconfig --list nginx</td>
<td>systemctl is-enabled nginx.service</td>
<td>æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ˜¯å¦ä¸ºå¼€æœºè‡ªå¯åŠ¨</td>
</tr>
<tr>
<td>chkconfigâ€“add nginx</td>
<td>systemctl daemon-reload</td>
<td>åˆ›å»ºæ–°æœåŠ¡æ–‡ä»¶æˆ–è€…å˜æ›´è®¾ç½®</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è®¾ç½®å¼€æœºè‡ªå¯ç›¸å½“äºç»™å¯åŠ¨è„šæœ¬åšä¸ªè½¯é“¾æ¥</span><br><span class="line"><span class="comment"># CentOS7ä¸­å¼€æœºè‡ªå¯</span></span><br><span class="line">[root@localhost ~]# systemctl <span class="built_in">enable</span> sshd</span><br><span class="line"><span class="built_in">ln</span> -s /usr/lib/systemd/system/sshd.service /etc/systemd/system/multiuser.target.wants/</span><br><span class="line"><span class="comment"># å–æ¶ˆå¼€æœºè‡ªå¯</span></span><br><span class="line">[root@localhost ~]# systemctl <span class="built_in">disable</span> sshd</span><br><span class="line">Removed symlink /etc/systemd/system/multi-user.target.wants/sshd.service</span><br><span class="line"><span class="built_in">rm</span> -f /etc/systemd/system/multi-user.target.wants/sshd.service</span><br></pre></td></tr></table></figure>
<p><strong>systemctlæœåŠ¡çŠ¶æ€è¯´æ˜</strong></p>
<table>
<thead>
<tr>
<th>æœåŠ¡çŠ¶æ€</th>
<th>çŠ¶æ€è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>loaded</td>
<td>æœåŠ¡å•å…ƒçš„é…ç½®æ–‡ä»¶å·²ç»è¢«å¤„ç†</td>
</tr>
<tr>
<td>active(running)</td>
<td>æœåŠ¡çš„ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹åœ¨è¿è¡Œä¸­</td>
</tr>
<tr>
<td>active(exited)</td>
<td>ä¸€æ¬¡æ€§è¿è¡Œçš„æœåŠ¡æˆåŠŸè¢«æ‰§è¡Œå¹¶é€€å‡º(æœåŠ¡è¿è¡Œåå®Œæˆä»»åŠ¡,ç›¸å…³è¿›ç¨‹ä¼šè‡ªåŠ¨é€€å‡º)</td>
</tr>
<tr>
<td>active(waiting)</td>
<td>æœåŠ¡å·²ç»è¿è¡Œä½†åœ¨ç­‰å¾…æŸä¸ªäº‹ä»¶</td>
</tr>
<tr>
<td>inactive</td>
<td>æœåŠ¡æ²¡æœ‰åœ¨è¿è¡Œ</td>
</tr>
<tr>
<td>enable</td>
<td>æœåŠ¡è®¾å®šä¸ºå¼€æœºè¿è¡Œ</td>
</tr>
<tr>
<td>disabled</td>
<td>æœåŠ¡è®¾å®šä¸ºå¼€æœºä¸è¿è¡Œ</td>
</tr>
<tr>
<td>static</td>
<td>æœåŠ¡ä¸èƒ½è¢«è®¾å®šå¼€æœºå¯åŠ¨,ä½†å¯ä»¥ç”±å…¶ä»–æœåŠ¡å¯åŠ¨è¯¥æœåŠ¡</td>
</tr>
</tbody>
</table>
<h3 id="6-å®šæ—¶ä»»åŠ¡">6.å®šæ—¶ä»»åŠ¡</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä»€ä¹ˆæ˜¯crond</span></span><br><span class="line">crondå°±æ˜¯è®¡åˆ’ä»»åŠ¡ï¼Œç±»ä¼¼äºæˆ‘ä»¬å¹³æ—¶ç”Ÿæ´»ä¸­çš„é—¹é’Ÿï¼Œå®šç‚¹æ‰§è¡Œã€‚</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# ps aux|grep crond</span><br><span class="line">root 6349 0.0 0.1 126284 1612 ? Ss 16:00 0:00 /usr/sbin/crond -n</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#free æŸ¥çœ‹å†…å­˜æƒ…å†µ</span></span><br><span class="line">[root@lb01 ~]# free -mï¼ˆä»¥mæ˜¾ç¤ºå†…å­˜å¤šå°‘ï¼‰</span><br><span class="line">			æ€»å†…å­˜		 å·²ä½¿ç”¨		ç©ºé—²							å¯ä½¿ç”¨å†…å­˜</span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:            972          89         760           7         123         737</span><br><span class="line">Swap:          1023           0        1023</span><br><span class="line"></span><br><span class="line"><span class="comment">#Centos6å¯ä½¿ç”¨å†…å­˜</span></span><br><span class="line">[root@localhost ~]# free</span><br><span class="line">			æ€»å†…å­˜		 å·²ä½¿ç”¨	ç©ºé—²</span><br><span class="line">             total       used       free     shared    buffers     cached</span><br><span class="line">Mem:       1004768     170984     833784        220      13336      48440</span><br><span class="line">-/+ buffers/cache:     109208     895560(å¯ä½¿ç”¨å†…å­˜) </span><br><span class="line">Swap:      1048572          0    1048572</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#æˆªå–éœ€è¦çš„å†…å­˜ä¿¡æ¯</span></span><br><span class="line">æ€»å†…å­˜ï¼šfree -m|awk <span class="string">&#x27;/^Mem/&#123;print $2&#125;&#x27;</span></span><br><span class="line">å·²ä½¿ç”¨å†…å­˜ï¼šfree -m|awk <span class="string">&#x27;/^Mem/&#123;print $3&#125;&#x27;</span></span><br><span class="line">å¯ç”¨å†…å­˜ï¼šfree -m|awk <span class="string">&#x27;/^Mem/&#123;print $NF&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å†™è¿›è„šæœ¬</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">mem_total=`free -m|awk <span class="string">&#x27;/^Mem/&#123;print $2&#125;&#x27;</span>`</span><br><span class="line">mem_used=`free -m|awk <span class="string">&#x27;/^Mem/&#123;print $3&#125;&#x27;</span>`</span><br><span class="line">mem_ava=`free -m|awk <span class="string">&#x27;/^Mem/&#123;print $NF&#125;&#x27;</span>`</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;------ å†…å­˜ä¿¡æ¯ ------&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æ€»å†…å­˜ï¼š<span class="variable">$&#123;mem_total&#125;</span>M&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;å·²ä½¿ç”¨å†…å­˜ï¼š<span class="variable">$&#123;mem_used&#125;</span>M&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;å¯ç”¨å†…å­˜ï¼š<span class="variable">$&#123;mem_ava&#125;</span>M&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="1-å®šæ—¶ä»»åŠ¡è¯­æ³•">1.å®šæ—¶ä»»åŠ¡è¯­æ³•</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ï¼ï¼å®šæ—¶ä»»åŠ¡æœ€å°åªèƒ½è¾¾åˆ°åˆ†é’Ÿçº§</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## å®šæ—¶ä»»åŠ¡é…ç½®æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">cat</span> /etc/crontab</span><br><span class="line"><span class="comment">## å®šæ—¶ä»»åŠ¡ç¼–å†™çš„è¯­æ³•</span></span><br><span class="line">SHELL=/bin/bash</span><br><span class="line"><span class="comment">## å¯ç›´æ¥æ‰§è¡Œçš„å‘½ä»¤ï¼ˆä»¥åå†™åœ¨å®šæ—¶ä»»åŠ¡ä¸­çš„å‘½ä»¤ï¼Œæœ€å¥½åŠ ä¸Šç»å¯¹è·¯å¾„ï¼‰</span></span><br><span class="line">PATH=/sbin:/bin:/usr/sbin:/usr/bin</span><br><span class="line"><span class="comment">## å®šæ—¶ä»»åŠ¡è¾“å‡ºçš„å†…å®¹ï¼Œä¼šä»¥é‚®ä»¶çš„å½¢å¼å‘ç»™rootç”¨æˆ·</span></span><br><span class="line">MAILTO=root</span><br><span class="line"><span class="comment"># For details see man 4 crontabs</span></span><br><span class="line"><span class="comment"># Example of job definition:</span></span><br><span class="line"><span class="comment"># .---------------- minute (0 - 59)</span></span><br><span class="line"><span class="comment"># | .------------- hour (0 - 23)</span></span><br><span class="line"><span class="comment"># | | .---------- day of month (1 - 31)</span></span><br><span class="line"><span class="comment"># | | | .------- month (1 - 12) OR jan,feb,mar,apr ...</span></span><br><span class="line"><span class="comment"># | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR</span></span><br><span class="line">sun,mon,tue,wed,thu,fri,sat</span><br><span class="line"><span class="comment"># | | | | |</span></span><br><span class="line"><span class="comment"># * * * * * user-name command to be executed</span></span><br><span class="line"><span class="comment"># PATHçš„ä½œç”¨ï¼šæ˜¯ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œæ‰€æœ‰çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯ä»¥ä¸åŠ è·¯å¾„ç›´æ¥æ‰§è¡Œ</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line">* * * * * [ç”¨æˆ·] å¯æ‰§è¡Œçš„å‘½ä»¤</span><br><span class="line"></span><br><span class="line">åˆ† æ—¶ æ—¥ æœˆ å‘¨</span><br><span class="line">00 02 * * * <span class="built_in">ls</span> <span class="comment"># æ¯å¤©å‡Œæ™¨ä¸¤ç‚¹æ•´æ‰§è¡Œ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">00 02 1 * * <span class="built_in">ls</span> <span class="comment"># æ¯æœˆçš„1å·å‡Œæ™¨ä¸¤ç‚¹æ‰§è¡Œ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">00 02 14 2 * <span class="built_in">ls</span> <span class="comment"># æ¯å¹´çš„2æœˆ14å·å‡Œæ™¨2ç‚¹æ‰§è¡Œ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">00 02 * * 7 <span class="built_in">ls</span> <span class="comment"># æ¯å‘¨å‘¨æ—¥å‡Œæ™¨2ç‚¹æ‰§è¡Œ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">00 02 * 6 5 <span class="built_in">ls</span> <span class="comment"># æ¯ä¸ª6æœˆä»½çš„å‘¨äº”å‡Œæ™¨2ç‚¹æ‰§è¡Œ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">00 02 14 * 7 <span class="built_in">ls</span> <span class="comment"># æ¯ä¸ªæœˆçš„14å·æ°å·§æ˜¯å‘¨æ—¥æ—¶å‡Œæ™¨2ç‚¹æ‰§è¡Œ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">00 02 14 2 7 <span class="built_in">ls</span> <span class="comment"># æ¯å¹´2æœˆ14æ—¥æ°å·§æ˜¯å‘¨æ—¥çš„å‡Œæ™¨2ç‚¹æ‰§è¡Œ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">*/10 02 * * * <span class="built_in">ls</span> <span class="comment"># æ¯å¤©å‡Œæ™¨2ç‚¹å¼€å§‹æ¯éš”10åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">* * * * * <span class="built_in">ls</span> <span class="comment"># æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡lså‘½ä»¤</span></span><br><span class="line">*/1 * * * * <span class="built_in">ls</span> <span class="comment"># æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡lså‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">00 00 14 2 * <span class="built_in">ls</span> <span class="comment"># æ¯ä¸ª2æœˆ14æ—¥é›¶ç‚¹æ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">*/5 * * * * <span class="built_in">ls</span> <span class="comment"># æ¯éš”äº”åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">00 02 * 1,5,8 * <span class="built_in">ls</span> <span class="comment"># æ¯å¹´çš„1æœˆ5æœˆ8æœˆçš„æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">00 02 1-8 * * <span class="built_in">ls</span> <span class="comment"># æ¯ä¸ªæœˆçš„1å·åˆ°8å·çš„å‡Œæ™¨2ç‚¹æ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">0 21 * * * <span class="built_in">ls</span> <span class="comment"># æ¯å¤©æ™šä¸Š9ç‚¹æ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤</span></span><br><span class="line">* 21 * * * <span class="built_in">ls</span> <span class="comment"># æ¯å¤©æ™šä¸Š9ç‚¹å¼€å§‹æ¯ä¸€åˆ†é’Ÿéƒ½æ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">45 4 1,10,22 * * <span class="built_in">ls</span> <span class="comment"># æ¯ä¸ªæœˆçš„1å· 10å· 22å·çš„å‡Œæ™¨4ç‚¹45åˆ†æ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">45 4 1-10 * * <span class="built_in">ls</span> <span class="comment"># æ¯ä¸ªæœˆçš„1å·åˆ°10å·çš„å‡Œæ™¨4ç‚¹45åˆ†æ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">3,15 8-11 */2 * * <span class="built_in">ls</span> <span class="comment"># æ¯éš”ä¸¤å¤©çš„8ç‚¹03 8ç‚¹15 ... 11ç‚¹03 11ç‚¹15æ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">0 23-7/1 * * * <span class="built_in">ls</span> <span class="comment"># æ¯å¤©çš„0ç‚¹åˆ°7ç‚¹å’Œ23ç‚¹åˆ°0ç‚¹æ•´æ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">15 21 * * 1-5 <span class="built_in">ls</span> <span class="comment"># æ¯å‘¨ä¸€åˆ°å‘¨äº”æ™šä¸Š9ç‚¹15åˆ†æ‰§è¡Œä¸€æ¬¡ ls å‘½ä»¤</span></span><br></pre></td></tr></table></figure>
<h4 id="2-crontabå‘½ä»¤é€‰é¡¹">2.crontabå‘½ä»¤é€‰é¡¹</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">-eï¼šedit ç¼–è¾‘</span><br><span class="line">-lï¼šæŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·éƒ½æœ‰å“ªäº›å®šæ—¶ä»»åŠ¡</span><br><span class="line">-uï¼šæŒ‡å®šç”¨æˆ·æŸ¥çœ‹å®šæ—¶ä»»åŠ¡</span><br><span class="line">-rï¼šæ¸…ç©ºæ‰€æœ‰å®šæ—¶ä»»åŠ¡</span><br><span class="line"><span class="comment">## æ¯åˆ†é’Ÿï¼ŒåŒæ­¥ä¸€ä¸‹ç³»ç»Ÿæ—¶é—´</span></span><br><span class="line">[root@localhost ~]# crontab -e</span><br><span class="line"><span class="comment"># By: zls Date: 2024-05-06 Name: sync system time</span></span><br><span class="line">* * * * * /usr/sbin/ntpdate ntp1.aliyun.com &amp;&gt;/dev/null</span><br><span class="line"><span class="comment"># æ³¨æ„ï¼š</span></span><br><span class="line">1ï¼‰å‘½ä»¤ç»å¯¹è·¯å¾„</span><br><span class="line">2ï¼‰è¾“å‡ºå®šå‘åˆ°ç©º</span><br><span class="line">3ï¼‰å®šæ—¶ä»»åŠ¡åŠ æ³¨é‡Š</span><br><span class="line"><span class="comment">## æ¯å¤©åšå¤‡ä»½ï¼Œå°†/etcç›®å½•æ‰“åŒ…ä¸ºï¼š2024-05-06_hostname_etc.tar.gz</span></span><br><span class="line">[root@web01 /]# <span class="built_in">cd</span> / &amp;&amp; tar zcf /tmp/$(<span class="built_in">date</span> +%F)_$(hostname -s)_etc.tar.gz etc</span><br><span class="line">[root@web01 ~]# vi /opt/backup.sh</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">cd</span> / &amp;&amp; tar zcf /tmp/$(<span class="built_in">date</span> +%F)_$(hostname -s)_etc.tar.gz etc</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®æ—¶æŸ¥çœ‹å®šæ—¶ä»»åŠ¡æ‰§è¡Œç»“æœ</span></span><br><span class="line">[root@lb01 ~]# <span class="built_in">tail</span> -f /var/log/cron</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¶é—´æ ¼å¼åŒ–è¾“å‡ºï¼š</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]# <span class="built_in">date</span> +%F-%H:%M:%S</span><br><span class="line">2024-05-13-17:35:25</span><br><span class="line"></span><br><span class="line">%Fï¼šå¹´æœˆæ—¥</span><br><span class="line">%Yï¼šyear å¹´</span><br><span class="line">%mï¼šmouth æœˆ</span><br><span class="line">%dï¼šday æ—¥</span><br><span class="line">%Hï¼šhouræ—¶</span><br><span class="line">%Mï¼šminuteåˆ†</span><br><span class="line">%Sï¼šsecondsç§’</span><br><span class="line">%A:æ˜ŸæœŸ</span><br><span class="line">%wï¼šæ˜ŸæœŸï¼ˆé˜¿æ‹‰ä¼¯æ•°å­—æ˜¾ç¤ºï¼‰</span><br></pre></td></tr></table></figure>
<h4 id="3-crontabæ³¨æ„äº‹é¡¹">3.crontabæ³¨æ„äº‹é¡¹</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1) ç»™å®šæ—¶ä»»åŠ¡æ³¨é‡Š</span><br><span class="line">2) å°†éœ€è¦å®šæœŸæ‰§è¡Œçš„ä»»åŠ¡å†™å…¥Shellè„šæœ¬ä¸­ï¼Œé¿å…ç›´æ¥ä½¿ç”¨å‘½ä»¤æ— æ³•æ‰§è¡Œçš„æƒ…å†µtar <span class="built_in">date</span></span><br><span class="line">3) å®šæ—¶ä»»åŠ¡çš„ç»“å°¾ä¸€å®šè¦æœ‰&amp;&gt;/dev/nullæˆ–è€…å°†ç»“æœè¿½åŠ é‡å®šå‘&gt;&gt;/tmp/date.logæ–‡ä»¶</span><br><span class="line">4) æ³¨æ„æœ‰äº›å‘½ä»¤æ˜¯æ— æ³•æˆåŠŸæ‰§è¡Œçš„ <span class="built_in">echo</span> <span class="string">&quot;123&quot;</span> &gt;&gt;/tmp/test.log &amp;&gt;/dev/null</span><br><span class="line">5.å¦‚æœä¸€å®šè¦æ˜¯ç”¨å‘½ä»¤ï¼Œå‘½ä»¤å¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„</span><br></pre></td></tr></table></figure>
<h4 id="4-å®šæ—¶ä»»åŠ¡â€”åšå¤‡ä»½">4.å®šæ—¶ä»»åŠ¡â€”åšå¤‡ä»½</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@web01 ~]# ll /var/spool/cron/</span><br><span class="line">total 8</span><br><span class="line">-rw------- 1 root root 165 May 6 11:32 root</span><br><span class="line">-rw------- 1 zls zls 27 May 6 2024 zls</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‹’ç»ç”¨æˆ·ä½¿ç”¨å®šæ—¶ä»»åŠ¡</span></span><br><span class="line">[root@web01 ~]# <span class="built_in">echo</span> <span class="string">&#x27;username&#x27;</span> &gt; /etc/cron.deny</span><br></pre></td></tr></table></figure>
<h4 id="5-è®¡åˆ’ä»»åŠ¡è°ƒè¯•æ€è·¯">5.è®¡åˆ’ä»»åŠ¡è°ƒè¯•æ€è·¯</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">1.crondè°ƒè¯•</span><br><span class="line">1) è°ƒæ•´ä»»åŠ¡æ¯åˆ†é’Ÿæ‰§è¡Œçš„é¢‘ç‡, ä»¥ä¾¿åšåç»­çš„è°ƒè¯•ã€‚</span><br><span class="line">2) å¦‚æœä½¿ç”¨cronè¿è¡Œè„šæœ¬ï¼Œè¯·å°†è„šæœ¬æ‰§è¡Œçš„ç»“æœå†™å…¥æŒ‡å®šæ—¥å¿—æ–‡ä»¶, è§‚å¯Ÿæ—¥å¿—å†…å®¹æ˜¯å¦æ­£å¸¸ã€‚</span><br><span class="line">3) å‘½ä»¤ä½¿ç”¨ç»å¯¹è·¯å¾„, é˜²æ­¢æ— æ³•æ‰¾åˆ°å‘½ä»¤å¯¼è‡´å®šæ—¶ä»»åŠ¡æ‰§è¡Œäº§ç”Ÿæ•…éšœã€‚</span><br><span class="line">4) é€šè¿‡æŸ¥çœ‹/var/log/cronæ—¥å¿—ï¼Œä»¥ä¾¿æ£€æŸ¥æˆ‘ä»¬æ‰§è¡Œçš„ç»“æœï¼Œæ–¹ä¾¿è¿›è¡Œè°ƒè¯•ã€‚</span><br><span class="line">2.crondç¼–å†™æ€è·¯</span><br><span class="line">1.æ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤ï¼Œç„¶åä¿ç•™æ‰§è¡ŒæˆåŠŸçš„ç»“æœã€‚</span><br><span class="line">2.ç¼–å†™è„šæœ¬</span><br><span class="line">è„šæœ¬éœ€è¦ç»Ÿä¸€è·¯å¾„/scripts</span><br><span class="line">è„šæœ¬å†…å®¹å¤åˆ¶æ‰§è¡ŒæˆåŠŸçš„å‘½ä»¤(å‡å°‘æ¯ä¸ªç¯èŠ‚å‡ºé”™å‡ ç‡)</span><br><span class="line">è„šæœ¬å†…å®¹å°½å¯èƒ½çš„ä¼˜åŒ–, ä½¿ç”¨ä¸€äº›å˜é‡æˆ–ä½¿ç”¨ç®€å•çš„åˆ¤æ–­è¯­å¥</span><br><span class="line">è„šæœ¬æ‰§è¡Œçš„è¾“å‡ºä¿¡æ¯å¯ä»¥é‡å®šå‘è‡³å…¶ä»–ä½ç½®ä¿ç•™æˆ–å†™å…¥/dev/null</span><br><span class="line">3.æ‰§è¡Œè„šæœ¬</span><br><span class="line">ä½¿ç”¨bashå‘½ä»¤æ‰§è¡Œ, é˜²æ­¢è„šæœ¬æ²¡æœ‰å¢åŠ æ‰§è¡Œæƒé™(/usr/bin/bash)</span><br><span class="line">æ‰§è¡Œè„šæœ¬æˆåŠŸåï¼Œå¤åˆ¶è¯¥æ‰§è¡Œçš„å‘½ä»¤ï¼Œä»¥ä¾¿å†™å…¥cron</span><br><span class="line">4.ç¼–å†™è®¡åˆ’ä»»åŠ¡</span><br><span class="line">åŠ ä¸Šå¿…è¦çš„æ³¨é‡Šä¿¡æ¯, äººã€æ—¶é—´ã€ä»»åŠ¡</span><br><span class="line">è®¾å®šè®¡åˆ’ä»»åŠ¡æ‰§è¡Œçš„å‘¨æœŸ</span><br><span class="line">ç²˜è´´æ‰§è¡Œè„šæœ¬çš„å‘½ä»¤(ä¸è¦æ‰‹æ•²)</span><br><span class="line">5.è°ƒè¯•è®¡åˆ’ä»»åŠ¡</span><br><span class="line">å¢åŠ ä»»åŠ¡é¢‘ç‡æµ‹è¯•</span><br><span class="line">æ£€æŸ¥ç¯å¢ƒå˜é‡é—®é¢˜</span><br><span class="line">æ£€æŸ¥crondæœåŠ¡æ—¥å¿—</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="6-ä½¿ç”¨å®šæ—¶ä»»åŠ¡å‘é‚®ä»¶">6.ä½¿ç”¨å®šæ—¶ä»»åŠ¡å‘é‚®ä»¶</h4>
<p><strong>é…ç½®é‚®ç®±</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.å®‰è£…å‘é€é‚®ä»¶çš„å·¥å…·</span></span><br><span class="line"></span><br><span class="line">[root@web01 ~]# yum install -y mailx</span><br><span class="line"><span class="comment"># 2.é…ç½®é‚®ç®±</span></span><br><span class="line">[root@web01 ~]# vi /etc/mail.rc</span><br><span class="line"><span class="built_in">set</span> from=é‚®ç®±							<span class="comment">#å‘ä»¶äºº</span></span><br><span class="line"><span class="built_in">set</span> smtp=smtps://smtp.qq.com:465	    <span class="comment">#é‚®ç®±åè®®ï¼Œç«¯å£</span></span><br><span class="line"><span class="built_in">set</span> smtp-auth-user=é‚®ç®±				 <span class="comment">#ç™»å½•é‚®ç®±è´¦å·</span></span><br><span class="line"><span class="built_in">set</span> smtp-auth-password=å®¢æˆ·ç«¯æˆæƒç 	   <span class="comment">#é‚®ç®±æˆæƒç </span></span><br><span class="line"><span class="built_in">set</span> smtp-auth=login</span><br><span class="line"><span class="built_in">set</span> ssl-verify=ignore</span><br><span class="line"><span class="built_in">set</span> nss-config-dir=/etc/pki/nssdb/</span><br></pre></td></tr></table></figure>
<p><strong>é‚®ç®±ç”Ÿæˆæˆæƒç </strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240506170025656.png" alt="image-20240506170025656"></p>
<p><strong>å‘é‚®ä»¶</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@web01 ~]# <span class="built_in">echo</span> <span class="string">&#x27;é‚®ä»¶å†…å®¹&#x27;</span> |mail -s <span class="string">&#x27;é‚®ä»¶æ ‡é¢˜&#x27;</span> 3078155561@qq.com</span><br><span class="line">[root@web01 ~]# <span class="built_in">cat</span> /etc/passwd|mail -s <span class="string">&#x27;test&#x27;</span> 3078155561@qq.com</span><br><span class="line"><span class="built_in">cat</span> /root/backup.log.txt|mail -s <span class="string">&#x27;å¤‡ä»½æ–‡ä»¶&#x27;</span> 3078155561@qq.com</span><br></pre></td></tr></table></figure>
<h4 id="7-å®šæ—¶ä»»åŠ¡å®ä¾‹">7.å®šæ—¶ä»»åŠ¡å®ä¾‹</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">éœ€æ±‚ï¼šå°†å¤‡ä»½å‘½ä»¤å†™å…¥ä¸€ä¸ªè„šæœ¬ä¸­ </span><br><span class="line">1.æ¯å¤©å¤‡ä»½æ–‡ä»¶åè¦æ±‚æ ¼å¼ï¼š2018-0220_hostname_etc.tar.gz </span><br><span class="line">2.å­˜æ”¾å¤‡ä»½å†…å®¹çš„ç›®å½•è¦æ±‚åªä¿ç•™3å¤©çš„æ•°æ® </span><br><span class="line">3.åœ¨æ‰§è¡Œè®¡åˆ’ä»»åŠ¡æ—¶ï¼Œä¸è¦è¾“å‡ºä»»åŠ¡ä¿¡æ¯ </span><br><span class="line">4.å¤‡ä»½æ˜¯å¦æˆåŠŸç»“æœï¼Œå‘é€é‚®ä»¶ </span><br><span class="line"><span class="comment">## é‚®ä»¶å†…å®¹ï¼š</span></span><br><span class="line">å¤‡ä»½æ—¶é—´ï¼šç²¾ç¡®åˆ°ç§’</span><br><span class="line">å¤‡ä»½æ–‡ä»¶åï¼š2024-05-06_web01_etc.tar.gz </span><br><span class="line">å¤‡ä»½è·¯å¾„ï¼š/tmp </span><br><span class="line">æ˜¯å¦æˆåŠŸï¼š</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vim backup.sh</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="comment">#æ‰¾åˆ°æœ€è¿‘ä¸‰å¤©æ–‡ä»¶å¹¶æ‰“åŒ…</span></span><br><span class="line">find /etc/* -<span class="built_in">type</span> d -mtime -3|xargs tar zcf /tmp/$(<span class="built_in">date</span> +%F)_$(hostname -s)_etc.tar.gz</span><br><span class="line"><span class="comment">#echo &#x27;Backup Success!!!!&#x27;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;å¤‡ä»½æ—¶é—´ï¼š<span class="subst">$(date +%Y/%m/%d\ %H:%M:%S)</span>&quot;</span> &gt;&gt;backuplog.txt</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;å¤‡ä»½æ–‡ä»¶åï¼š<span class="subst">$(date +%F)</span>_<span class="subst">$(hostname -s)</span>_etc.tar.gz&quot;</span> &gt;&gt;backuplog.txt</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;å¤‡ä»½è·¯å¾„ï¼š/tmp&quot;</span> &gt;&gt;backuplog.txt</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æ˜¯å¦å¤‡ä»½æˆåŠŸï¼šæ˜¯&quot;</span> &gt;&gt;backuplog.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ›å»ºå®šæ—¶ä»»åŠ¡å¹¶å‘é‚®ä»¶</span></span><br><span class="line">[root@lb01 ~]# crontab -e</span><br><span class="line"><span class="comment"># By: lgj Date: 2024-05-06 Name:Backup</span></span><br><span class="line"></span><br><span class="line">0 23 * * * /usr/bin/sh backup.sh  &amp;&gt;/dev/null</span><br><span class="line">0 00 * * * /usr/bin/cat /root/backup.log.txt|mail -s <span class="string">&#x27;å¤‡ä»½æ–‡ä»¶&#x27;</span> 3078155561@qq.com</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">éœ€æ±‚ï¼šå°†å¤‡ä»½å‘½ä»¤å†™å…¥ä¸€ä¸ªè„šæœ¬ä¸­</span><br><span class="line">ä»»åŠ¡ï¼š</span><br><span class="line">1.æ¯å¤©å¤‡ä»½æ–‡ä»¶åè¦æ±‚æ ¼å¼ï¼š2018-02-20_hostname_etc.tar.gz</span><br><span class="line">2.å­˜æ”¾å¤‡ä»½å†…å®¹çš„ç›®å½•è¦æ±‚åªä¿ç•™3å¤©çš„æ•°æ®</span><br><span class="line">3.åœ¨æ‰§è¡Œè®¡åˆ’ä»»åŠ¡æ—¶ï¼Œä¸è¦è¾“å‡ºä»»åŠ¡ä¿¡æ¯</span><br><span class="line">4.å¤‡ä»½æ˜¯å¦æˆåŠŸç»“æœï¼Œå‘é€é‚®ä»¶</span><br><span class="line"><span class="comment">## é‚®ä»¶å†…å®¹ï¼š</span></span><br><span class="line">å¤‡ä»½æ–‡ä»¶åï¼š2024-05-06_web01_etc.tar.gz</span><br><span class="line">å¤‡ä»½è·¯å¾„ï¼š/tmp</span><br><span class="line">æ˜¯å¦æˆåŠŸï¼š</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> / &amp;&amp; tar zcf $(<span class="built_in">date</span> +%F)_$(hostname -s)_etc.tar.gz</span><br><span class="line"></span><br><span class="line">find /etc/* -<span class="built_in">type</span> d -mtime -3</span><br><span class="line"></span><br><span class="line">tar zcf /tmp/$(<span class="built_in">date</span> +%F)_$(hostname -s)_etc.tar.gz /etc/*</span><br><span class="line"></span><br><span class="line">find /etc/* -<span class="built_in">type</span> d -mtime -3|xargs tar zcf /tmp/$(<span class="built_in">date</span> +%F)_$(hostname -s)_etc.tar.gz</span><br></pre></td></tr></table></figure>
<h3 id="7-ä¿®æ”¹ç½‘å¡å">7.ä¿®æ”¹ç½‘å¡å</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240501114139869.png" alt="image-20240501114139869"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/Pic/image-20240501114157577.png" alt="image-20240501114157577"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">biosdevname=0 net.ifnames=0</span><br><span class="line">net.ifnames=0	<span class="comment">#ä¸æ˜¯dellç‰©ç†æœºç¯å¢ƒ</span></span><br></pre></td></tr></table></figure>
<h2 id="ã€9ã€‘ä¸‰å‰‘å®¢">ã€9ã€‘ä¸‰å‰‘å®¢</h2>
<h3 id="æ­£åˆ™è¡¨è¾¾å¼">æ­£åˆ™è¡¨è¾¾å¼</h3>
<h4 id="1-æ­£åˆ™ç¬¦å·">1. æ­£åˆ™ç¬¦å·</h4>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>åŸºç¡€æ­£åˆ™  Basic RE (BRE)</td>
<td>^   $   ^$  .   *  .*   [a-z]   [^abc  ]</td>
</tr>
<tr>
<td>æ‰©å±•æ­£åˆ™ Extended RE (ERE)</td>
<td>+   |    ()     ?</td>
</tr>
</tbody>
</table>
<h4 id="æ‰©å±•æ­£åˆ™">æ‰©å±•æ­£åˆ™</h4>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>å‰ä¸€ä¸ªå­—è¿ç»­å‡ºç°1æ¬¡æˆ–è€…1æ¬¡ä»¥ä¸Š</td>
</tr>
<tr>
<td>|</td>
<td>è¡¨ç¤ºæˆ–è€…</td>
</tr>
<tr>
<td>()</td>
<td>ï¼ˆï¼‰é‡Œé¢çš„å†…å®¹å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªæ•´ä½“</td>
</tr>
<tr>
<td>{}</td>
<td>æŒ‡å®šå‡ºç°çš„æ¬¡æ•°</td>
</tr>
<tr>
<td>ï¼Ÿ</td>
<td>å‰ä¸€ä¸ªå­—ç¬¦å‡ºç°äº†0æ¬¡æˆ–1æ¬¡</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[a-z]+   åŒ¹é…è¿ç»­å‡ºç°çš„å•è¯ï¼Œè´ªå©ªåŒ¹é…</span><br><span class="line">[0-9]+   åŒ¹é…è¿ç»­å‡ºç°çš„æ•°å­—ï¼Œè´ªå©ªåŒ¹é…</span><br><span class="line"><span class="comment">#ï¼ˆï¼‰</span></span><br><span class="line">è¿‡æ»¤å‡ºoldboyæˆ–è€…oldbey</span><br><span class="line">[root@lb01 ~s]#egrep <span class="string">&#x27;oldb(o|e)y&#x27;</span> oldboy.txt</span><br><span class="line">[root@lb01 ~s]#egrep <span class="string">&#x27;oldb[oe]y&#x27;</span> oldboy.txt</span><br><span class="line"><span class="comment">#&#123;&#125;</span></span><br><span class="line">0&#123;m,n&#125;  0è‡³å°‘å‡ºç°mæ¬¡ï¼Œè‡³å¤šå‡ºç°næ¬¡ </span><br><span class="line">0&#123;3&#125;0å‡ºç°äº†3æ¬¡</span><br><span class="line">0&#123;m,&#125;0è‡³å°‘å‡ºç°mæ¬¡ï¼Œæœ€å¤šå‡ºç°æ¬¡æ•°ä¸é™</span><br><span class="line">0&#123;,n&#125;0è‡³å¤šå‡ºç°næ¬¡ï¼Œæœ€å°‘å‡ºç°æ¬¡æ•°ä¸é™</span><br><span class="line"><span class="comment">#?</span></span><br><span class="line">[root@lb01 ~s]#egrep <span class="string">&#x27;go?d&#x27;</span> oldboy.txt</span><br><span class="line">god</span><br><span class="line">gd</span><br></pre></td></tr></table></figure>
<h4 id="2-æ­£åˆ™-é€šé…ç¬¦">2.æ­£åˆ™&amp;é€šé…ç¬¦</h4>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>ç”¨é€”</th>
<th>æ”¯æŒçš„å‘½ä»¤</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ­£åˆ™(re)</td>
<td>ä¸‰å‰‘å®¢ï¼Œé«˜çº§è¯­è¨€ï¼Œè¿›è¡Œè¿‡æ»¤ï¼ˆåŒ¹é…å­—ç¬¦ï¼‰</td>
<td>ä¸‰å‰‘å®¢grep sedï¼Œawkï¼Œfindï¼Œrenameï¼Œexpr</td>
</tr>
<tr>
<td>é€šé…ç¬¦(pathname extension æˆ– glob)</td>
<td>åŒ¹é…æ–‡ä»¶/æ–‡ä»¶å   *.txt</td>
<td>linuxä¸‹å¤§éƒ¨åˆ†éƒ½æ”¯æŒ</td>
</tr>
</tbody>
</table>
<h3 id="ä¸‰å‰‘å®¢">ä¸‰å‰‘å®¢</h3>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ç‰¹ç‚¹</th>
<th>åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>grep</td>
<td>è¿‡æ»¤</td>
<td>grepå‘½ä»¤è¿‡æ»¤é€Ÿåº¦æ˜¯æœ€å¿«çš„</td>
</tr>
<tr>
<td>sed</td>
<td>æ›¿æ¢ï¼Œä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼Œå–è¡Œ</td>
<td>å¦‚æœè¦è¿›è¡Œæ›¿æ¢/ä¿®æ”¹æ–‡ä»¶å†…å®¹å–<br />å–å‡ºæŸä¸ªèŒƒå›´çš„å†…å®¹(ä»æ—©ä¸Š10:00åˆ°11:00)</td>
</tr>
<tr>
<td>awk</td>
<td>å–åˆ—ï¼Œç»Ÿè®¡</td>
<td>å–åˆ—ï¼Œå¯¹æ¯”ï¼Œæ¯”è¾ƒ<br />ç»Ÿè®¡ï¼Œè®¡ç®—</td>
</tr>
</tbody>
</table>
<h4 id="grepä¸“åŒº">grepä¸“åŒº</h4>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>-n</td>
<td>æ˜¾ç¤ºè¡Œå·</td>
</tr>
<tr>
<td>-A</td>
<td>After è¿‡æ»¤å…³é”®å­—å¹¶æ‰“å°å‡ºåNè¡Œ</td>
</tr>
<tr>
<td>-B</td>
<td>Before è¿‡æ»¤å…³é”®å­—å¹¶æ‰“å°å‡ºå‰Nè¡Œ</td>
</tr>
<tr>
<td>-C</td>
<td>Center è¿‡æ»¤å…³é”®å­—å¹¶æ‰“å°å‡ºå‰åNè¡Œ</td>
</tr>
<tr>
<td>-v</td>
<td>å–å</td>
</tr>
<tr>
<td>-o</td>
<td>åªæ˜¾ç¤ºå…³é”®å­—å†…å®¹</td>
</tr>
<tr>
<td>-i</td>
<td>å¿½ç•¥å¤§å°å†™</td>
</tr>
<tr>
<td>-w</td>
<td>ç²¾ç¡®åŒ¹é…</td>
</tr>
<tr>
<td>-c</td>
<td>ç›¸å½“äºcountï¼Œç”¨äºç»Ÿè®¡è¡Œæ•°</td>
</tr>
<tr>
<td>-r/-R</td>
<td>é€’å½’æœç´¢ç›®å½•åŠç›®å½•ä¸‹å¾—æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<h5 id="å­—ç¬¦">å­—ç¬¦</h5>
<table>
<thead>
<tr>
<th>å…³é”®å­—å¯ä»¥ä½¿ç”¨çš„ç¬¦å·</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>^</td>
<td>ä»¥â€¦å¼€å¤´    [^ abc]è¡¨ç¤ºéabcçš„å†…å®¹</td>
</tr>
<tr>
<td>$</td>
<td>ä»¥â€¦ç»“å°¾     ^$å¯ä»¥è¡¨ç¤ºç©ºè¡Œ</td>
</tr>
<tr>
<td>.</td>
<td>ä»»æ„ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>*</td>
<td>*å·å‰é¢çš„å•ä¸ªå­—ç¬¦åŒ¹é…0æ¬¡æˆ–å¤šæ¬¡</td>
</tr>
<tr>
<td>|</td>
<td>æ­£åˆ™è¡¨è¾¾å¼é‡Œé¢æˆ–è€…æ„æ€ï¼Œgrepé»˜è®¤ä¸æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œéœ€è¦ç”¨-E</td>
</tr>
<tr>
<td>\b</td>
<td>è¾¹ç•Œç¬¦  ä¾‹:\boldboy\b</td>
</tr>
<tr>
<td>æ³¨æ„:[]é‡Œçš„å†…å®¹ä¸€èˆ¬éƒ½ä¼šå»æ‰ç‰¹æ®Šå«ä¹‰ï¼Œåšè‡ªå·±</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>è½¬ä¹‰å­—ç¬¦  \</p>
<p>\n  å›è½¦æ¢è¡Œ</p>
<p>\t  tabé”®</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">&#x27;/K.*D/ &#123;print $6&#125;&#x27;</span>  /K.*D/è¿™æ˜¯æœç´¢Aå¼€å¤´Då¼€å¤´çš„å­—ç¬¦</span><br><span class="line">å¦‚æœæœç´¢å†…å®¹é‡Œé¢å«æœ‰/ï¼Œéœ€è¦ä½¿ç”¨è½¬ä¹‰ç¬¦ï¼Œä¾‹å¦‚awk <span class="string">&#x27;/\/sbin\/nologin/ &#123;print $6&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line">grep -ré€çº§æœç´¢</span><br><span class="line">[root@lb01 ~]# grep -r <span class="string">&#x27;K.*D&#x27;</span> /root</span><br><span class="line">/root/11.txt:47 Oct 3ZL1998 LPSX 43.00 KVM9D 512</span><br><span class="line">/root/11.txt:483 may 5PA1998 USP 37.00 KVM9D 644</span><br><span class="line"></span><br><span class="line">grep -rlåªæ˜¾ç¤ºæ–‡ä»¶å</span><br><span class="line">[root@lb01 ~]# grep -rl <span class="string">&#x27;K.*D&#x27;</span> /root</span><br><span class="line">/root/anaconda-ks.cfg</span><br><span class="line">/root/11.txt</span><br></pre></td></tr></table></figure>
<p><strong>grepä¸“åŒº</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">KabcD  è¿‡æ»¤Kå¼€å¤´Dç»“å°¾çš„å†…å®¹  .*ä»£è¡¨ä»»æ„å­—ç¬¦</span><br><span class="line">[root@lb02 ~]# grep <span class="string">&#x27;K.*D&#x27;</span> 1.txt </span><br><span class="line"></span><br><span class="line">è¿‡æ»¤è‡³å°‘ä»¥ä¸€ä¸ªç©ºç™½å­—ç¬¦å¼€å¤´çš„è¡Œï¼Œ+ä»£è¡¨è´ªå©ªåŒ¹é…</span><br><span class="line">[root@lb02 ~]# grep -E <span class="string">&#x27;^[ ]+&#x27;</span> 1.txt</span><br><span class="line"><span class="comment"># ^&amp;å¯ä»¥è¡¨ç¤ºç©ºè¡Œ</span></span><br><span class="line"></span><br><span class="line">è¿‡æ»¤ä»¥aæˆ–è€…bå¼€å¤´çš„è¡Œ</span><br><span class="line">1.[root@lb02 ~]# grep <span class="string">&#x27;^[ab]&#x27;</span> 1.txt </span><br><span class="line">2.[root@lb02 ~]# grep -E <span class="string">&#x27;^(a|b)&#x27;</span> 1.txt    grep -E <span class="string">&#x27;^a|^b&#x27;</span> 1.txt </span><br><span class="line"></span><br><span class="line">è¿‡æ»¤a11abç±»å‹çš„å†…å®¹ï¼ˆå­—æ¯ æ•°å­— æ•°å­— å­—æ¯ å­—æ¯ï¼‰</span><br><span class="line">[root@lb02 ~]# grep -E <span class="string">&#x27;[a-z][0-9][0-9][a-z][a-z]&#x27;</span> 1.txt</span><br><span class="line">[root@lb02 ~]# grep -E <span class="string">&#x27;[a-z][0-9]&#123;2&#125;[a-z]&#123;2&#125;&#x27;</span> 1.txt 	&#123;2&#125;è¡¨ç¤ºå‰é¢çš„å‡ºç°äº†2æ¬¡</span><br><span class="line"></span><br><span class="line">è¿‡æ»¤ å­—æ¯å¼€å¤´ä¸”åé¢è·Ÿè‡³å°‘2ä¸ªåˆ°4ä¸ªæ•°å­—çš„å†…å®¹</span><br><span class="line">[root@lb02 ~]# grep -Eo <span class="string">&#x27;^[a-z][0-9]&#123;2,4&#125;&#x27;</span> 1.txt </span><br><span class="line">a11</span><br><span class="line">b1232</span><br><span class="line"><span class="comment">##åˆ©ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼åˆ†åˆ«è¡¨ç¤º</span></span><br><span class="line">0-9ã€   10-99ã€      100-199ã€    200-249ã€    250-255</span><br><span class="line">[0-9]  [1-9][0-9]   1[0-9][0-9]   2[0-4][0-9]  25[0-5]</span><br><span class="line">è¿‡æ»¤éå­—æ¯å¼€å¤´çš„å†…å®¹</span><br><span class="line">[root@lb02 ~]# grep <span class="string">&#x27;^[^a-zA-Z]&#x27;</span> 1.txt</span><br></pre></td></tr></table></figure>
<h5 id="å’Œ-è¡¨æˆ–è€…çš„åŒºåˆ«">| å’Œ[ ]è¡¨æˆ–è€…çš„åŒºåˆ«</h5>
<table>
<thead>
<tr>
<th>ç¬¦åˆ</th>
<th>åŒºåˆ«</th>
</tr>
</thead>
<tbody>
<tr>
<td>|</td>
<td>1æ¬¡åŒ¹é…1ä¸ªå­—ç¬¦    [abc] ==&gt; æˆ–è€…aæˆ–è€…bæˆ–è€…c</td>
</tr>
<tr>
<td>[ ]</td>
<td>åŒ¹é…1ä¸ªæˆ–å¤šä¸ªå­—ç¬¦  a|b|c    abc|bcd</td>
</tr>
</tbody>
</table>
<h5 id="ä½¿ç”¨">( )ä½¿ç”¨</h5>
<ul>
<li>è¢«æ‹¬èµ·æ¥çš„å†…å®¹ï¼Œè¡¨ç¤ºä¸€ä¸ªæ•´ä½“ï¼ˆä¸€ä¸ªå­—ç¬¦ï¼‰</li>
<li>åå‘å¼•ç”¨ï¼ˆåå‘å¼•ç”¨sedï¼‰</li>
</ul>
<h4 id="sedå‘½ä»¤">sedå‘½ä»¤</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ä½œç”¨:</span><br><span class="line">1.æ¨¡ç³Šè¿‡æ»¤æ–‡ä»¶çš„å†…å®¹</span><br><span class="line">2.æŸ¥æ‰¾æŒ‡å®šçš„è¡Œ</span><br><span class="line">3.å¯¹æ–‡ä»¶è¿›è¡Œå¢åˆ æ”¹æŸ¥</span><br><span class="line">4.æ›¿æ¢</span><br><span class="line">5.æ ¼å¼åŒ–è¾“å‡ºå†…å®¹,åå‘å¼•ç”¨</span><br><span class="line">sed è¯­æ³•æ ¼å¼:</span><br><span class="line">	grep <span class="string">&#x27;è¿‡æ»¤å†…å®¹&#x27;</span> æ–‡ä»¶</span><br><span class="line">	sed <span class="string">&#x27;/è¿‡æ»¤å†…å®¹/&#x27;</span> æ–‡ä»¶</span><br><span class="line">	sed <span class="string">&#x27;æ¨¡å¼ åŠ¨ä½œ&#x27;</span> æ–‡ä»¶</span><br><span class="line">	sed <span class="string">&#x27;æ‰¾è° å¹²å•¥&#x27;</span> æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>s</td>
<td>æ›¿æ¢substitute</td>
</tr>
<tr>
<td>p</td>
<td>æ˜¾ç¤ºprint</td>
</tr>
<tr>
<td>d</td>
<td>åˆ é™¤delete</td>
</tr>
<tr>
<td>cai</td>
<td>å¢åŠ c/a/i</td>
</tr>
</tbody>
</table>
<h5 id="sed-æŸ¥æ‰¾p">sed-æŸ¥æ‰¾p</h5>
<table>
<thead>
<tr>
<th>â€˜2pâ€™</th>
<th>æŒ‡å®šè¡Œå·è¿›è¡ŒæŸ¥æ‰¾</th>
</tr>
</thead>
<tbody>
<tr>
<td>â€˜1,5pâ€™</td>
<td>æŒ‡å®šè¡Œå·èŒƒå›´æŸ¥æ‰¾</td>
</tr>
<tr>
<td>â€˜/oldboy/pâ€™</td>
<td>ç±»ä¼¼äºgrepè¿‡æ»¤ï¼Œ//é‡Œé¢å¯ä»¥å†™æ­£åˆ™</td>
</tr>
<tr>
<td>â€˜/10:00/,/11:00/pâ€™</td>
<td>è¡¨ç¤ºèŒƒå›´çš„è¿‡æ»¤</td>
</tr>
</tbody>
</table>
<p><strong>==æŸ¥æ‰¾æ˜¾ç¤º==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•æ ¼å¼ï¼š</span><br><span class="line">sed -n <span class="string">&#x27;3p&#x27;</span> æ–‡ä»¶ <span class="comment"># print æ‰“å°è¾“å‡º</span></span><br><span class="line"><span class="built_in">cat</span> æ–‡ä»¶|sed -n <span class="string">&#x27;3p&#x27;</span></span><br><span class="line">[root@db01 ~]# <span class="built_in">head</span> -5 /etc/passwd &gt; test.txt</span><br><span class="line">[root@db01 ~]# sed -n <span class="string">&#x27;3p&#x27;</span> test.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ˜¾ç¤ºæ–‡ä»¶çš„æœ€åä¸€è¡Œ:</span></span><br><span class="line">[root@db01 ~]# sed -n <span class="string">&#x27;$p&#x27;</span> test.txt</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿‡æ»¤æ–‡ä»¶çš„2-4è¡Œ</span></span><br><span class="line">[root@db01 ~]# sed -n <span class="string">&#x27;2,4p&#x27;</span> test.txt</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ˜¾ç¤ºæ–‡ä»¶çš„ç¬¬2è¡Œåˆ°æœ€åä¸€è¡Œ</span></span><br><span class="line">[root@db01 ~]# sed -n <span class="string">&#x27;2,$p&#x27;</span> test.txt</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¤„ç†å±å¹•ä¸Šæ˜¾ç¤ºçš„å†…å®¹</span></span><br><span class="line">[root@db01 ~]# ifconfig eth0|sed -n <span class="string">&#x27;2p&#x27;</span></span><br><span class="line">inet 10.0.0.200 netmask 255.255.255.0 broadcast 10.0.0.255</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>==è¿‡æ»¤==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ç»“æ„: sed -n <span class="string">&#x27;/è¿‡æ»¤çš„å†…å®¹/p&#x27;</span> file</span><br><span class="line">[root@db01 ~]# sed -n <span class="string">&#x27;/root/p&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨æ­£åˆ™:</span><br><span class="line">[root@db01 ~]# sed -n <span class="string">&#x27;/^r/p&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br><span class="line">è¿‡æ»¤ä»¥aæˆ–bæˆ–cå¼€å¤´çš„è¡Œ</span><br><span class="line">[root@db01 ~]# sed -n <span class="string">&#x27;/^[a-c]/p&#x27;</span> test.txt</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line"></span><br><span class="line">è¿‡æ»¤ä»¥ä»€ä¹ˆç»“å°¾çš„è¡Œ</span><br><span class="line">[root@db01 ~]# sed -n <span class="string">&#x27;/h$/p&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# sed -n <span class="string">&#x27;/n$/p&#x27;</span> test.txt</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">è¿‡æ»¤åŒºé—´èŒƒå›´:</span><br><span class="line">sed -n <span class="string">&#x27;//,//p&#x27;</span> æ–‡ä»¶</span><br><span class="line">sed -n <span class="string">&#x27;2,4p&#x27;</span> æ–‡ä»¶</span><br><span class="line">è¿‡æ»¤å­—ç¬¦ä¸²åŒºé—´èŒƒå›´:</span><br><span class="line">[root@db01 ~]# sed -n <span class="string">&#x27;/^bin/,/^a/p&#x27;</span> test.txt</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹: è¿‡æ»¤æ—¶é—´ ç»Ÿè®¡ä¸Šåˆ8ç‚¹åˆ°ä¸­åˆ12ç‚¹ä¸­é—´æ•°æ®</span><br><span class="line">[root@linuxnc ~]# sed -n <span class="string">&#x27;/2024:08:00:15/,/2024:09:30:42/p&#x27;</span> /var/log/nginx/access.log</span><br><span class="line"></span><br><span class="line">æ³¨æ„åŒ¹é…æ–¹å¼:</span><br><span class="line">[root@db01 ~]# <span class="built_in">cat</span> a.txt</span><br><span class="line">aaa</span><br><span class="line">bbb</span><br><span class="line">ccc</span><br><span class="line">bbb</span><br><span class="line">uuu</span><br><span class="line">ddd</span><br><span class="line">eee</span><br><span class="line">fff</span><br><span class="line">ddd</span><br><span class="line">xxx</span><br><span class="line">[root@db01 ~]# sed -n <span class="string">&#x27;/bbb/,/ddd/p&#x27;</span> a.txt</span><br><span class="line">bbb</span><br><span class="line">ccc</span><br><span class="line">bbb</span><br><span class="line">uuu</span><br><span class="line">ddd</span><br></pre></td></tr></table></figure>
<h5 id="sed-åˆ é™¤d">sed-åˆ é™¤d</h5>
<table>
<thead>
<tr>
<th>â€˜1,5dâ€™</th>
<th>æŒ‡å®šè¡Œå·èŒƒå›´æŸ¥æ‰¾</th>
</tr>
</thead>
<tbody>
<tr>
<td>â€˜/oldboy/dâ€™</td>
<td>ç±»ä¼¼äºgrepè¿‡æ»¤ï¼Œ//é‡Œé¢å¯ä»¥å†™æ­£åˆ™</td>
</tr>
<tr>
<td>â€˜2dâ€™</td>
<td>æŒ‡å®šè¡Œå·è¿›è¡ŒæŸ¥æ‰¾</td>
</tr>
<tr>
<td>â€˜/10:00/,/11:00/dâ€™</td>
<td>è¡¨ç¤ºèŒƒå›´çš„è¿‡æ»¤</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">æŒ‡å®šè¡Œåˆ é™¤:</span><br><span class="line">è¯­æ³•æ ¼å¼: sed <span class="string">&#x27;3d&#x27;</span> file <span class="comment"># é»˜è®¤ä¸ä¼šä¿®æ”¹æºæ–‡ä»¶</span></span><br><span class="line">ä¿®æ”¹æºæ–‡ä»¶ sed -i <span class="string">&#x27;3d&#x27;</span> file</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹1.åˆ é™¤æ–‡ä»¶çš„ç¬¬3è¡Œ</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;3d&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹2.åˆ é™¤2åˆ°4è¡Œ</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;2,4d&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹3.åˆ é™¤2åˆ°æœ€åä¸€è¡Œ</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;2,$d&#x27;</span> test.txt</span><br><span class="line"></span><br><span class="line">æ¨¡ç³Šè¿‡æ»¤å†…å®¹ï¼Œç„¶ååˆ é™¤</span><br><span class="line">è¯­æ³•ç»“æ„: sed <span class="string">&#x27;/å­—ç¬¦ä¸²/d&#x27;</span> file</span><br><span class="line">åˆ é™¤åŒ…å«rootçš„è¡Œ</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;/root/d&#x27;</span> test.txt</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">åˆ é™¤bå¼€å¤´çš„è¡Œ</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;/^b/d&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">-r æ”¯æŒæ‰©å±•æ­£åˆ™ |æˆ–è€…çš„æ„æ€</span><br><span class="line">[root@db01 ~]# sed -rn <span class="string">&#x27;/^bin|^p/p&#x27;</span> test.txt</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">p:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">åˆ é™¤binå¼€å¤´æˆ–è€…lpå¼€å¤´çš„è¡Œ</span><br><span class="line">[root@db01 ~]# sed -r <span class="string">&#x27;/^bin|^lp/d&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line"></span><br><span class="line">åŒ¹é…åŒºé—´èŒƒå›´è¿›è¡Œåˆ é™¤:</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;/^bin/,/^adm/d&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="comment"># !å¦™ç”¨</span></span><br><span class="line">sed -nr <span class="string">&#x27;/^&amp;|#/!p&#x27;</span> /etc/ssh/sshd_config   é‡åˆ°ç©ºè¡Œå’Œ#è¡Œä¸æ˜¾ç¤º</span><br></pre></td></tr></table></figure>
<h5 id="sed-å¢åŠ ">sed-å¢åŠ </h5>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>c</td>
<td>replaceæ›¿ä»£è¿™ä¸€è¡Œ</td>
</tr>
<tr>
<td>a</td>
<td>appendè¿½åŠ ï¼Œå‘æŒ‡å®šçš„è¡Œæˆ–æ¯ä¸€è¡Œæ’å…¥å†…å®¹ï¼ˆè¡Œåï¼‰</td>
</tr>
<tr>
<td>i</td>
<td>insertæ’å…¥ï¼Œå‘æŒ‡å®šçš„è¡Œæˆ–æ¯ä¸€è¡Œæ’å…¥å†…å®¹ï¼ˆè¡Œå‰ï¼‰</td>
</tr>
<tr>
<td>w</td>
<td>å°†æ‰¾åˆ°çš„å†…å®¹ä¿å­˜åˆ°æ–°æ–‡ä»¶å†…</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">&#x27;3a root&#x27;</span> /text.txt    <span class="comment">#å‘ç¬¬ä¸‰è¡Œåé¢è¿½åŠ rootè¿™ä¸€è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å‘æ–‡ä»¶æœ€åä¸€è¡Œä¸­è¿½å†…å®¹</span></span><br><span class="line">1.</span><br><span class="line"><span class="built_in">cat</span> &gt;&gt;test.txt&lt;&lt;<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">abc</span><br><span class="line">cdf</span><br><span class="line">EOF</span><br><span class="line">2.</span><br><span class="line">sed <span class="string">&#x27;$a abc\nsdf&#x27;</span> test.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨æ–¹æ³•</span></span><br><span class="line">1. i æ’å…¥ åœ¨ç¬¬3è¡Œå‰å†™å…¥aaa</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;3i aaa&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">aaa</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">2. aè¿½åŠ  åœ¨ç¬¬3è¡Œçš„ä¸‹ä¸€è¡Œ åœ¨ç¬¬4è¡Œå†™å…¥aaa</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;3a aaa&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">aaa</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">3. cæ›¿æ¢ æ›¿æ¢æ•´è¡Œå†…å®¹</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;3c aaa&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">aaa</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">æ›¿æ¢ç¬¬7è¡Œçš„å†…å®¹å…³é—­selinux</span><br><span class="line">[root@db01 ~]# sed -i <span class="string">&#x27;7c SELINUX=disabled&#x27;</span> /etc/selinux/config</span><br><span class="line"></span><br><span class="line">4. w ä¿å­˜ å°†æ‰¾åˆ°çš„è¡Œä¿å­˜åˆ°æ–°çš„æ–‡ä»¶ä¸­</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;4w new.txt&#x27;</span> test.txt</span><br><span class="line">ä¿å­˜2åˆ°4è¡Œçš„å†…å®¹åˆ°new.txt</span><br><span class="line">[root@db01 ~]# sed -n <span class="string">&#x27;2,4w new.txt&#x27;</span> test.txt</span><br><span class="line">[root@db01 ~]# <span class="built_in">cat</span> new.txt</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="sed-æ›¿æ¢s">sed-æ›¿æ¢s</h5>
<ul>
<li>
<p>s --&gt; sub substitute æ›¿æ¢</p>
</li>
<li>
<p>g --&gt; global å…¨å±€æ›¿æ¢ï¼Œæ›¿æ¢æ‰€æœ‰çš„åŒ¹é…çš„sedé»˜è®¤åªæ›¿æ¢æ¯è¡Œç¬¬ä¸€ä¸ªåŒ¹é…çš„</p>
</li>
<li>
<p><code>sedä¸­   \uè¡¨ç¤ºå¤§å†™     \lè¡¨ç¤ºå°å†™</code></p>
</li>
</ul>
<blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1. æŠŠæ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå°å†™å­—æ¯å˜å¤§å†™ï¼š</span><br><span class="line">sed <span class="string">&#x27;s/\b[a-z]/\u&amp;/g&#x27;</span> filename</span><br><span class="line"></span><br><span class="line">2. æŠŠæ‰€æœ‰å°å†™å˜å¤§å†™ï¼š</span><br><span class="line">sed <span class="string">&#x27;s/[a-z]/\u&amp;/g&#x27;</span> filename</span><br><span class="line"></span><br><span class="line">3. å¤§å†™å˜å°å†™ï¼š</span><br><span class="line">sed <span class="string">&#x27;s/[A-Z]/\l&amp;/g&#x27;</span> filename</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ç»“æ„ï¼š</span><br><span class="line">sed <span class="string">&#x27;s#å°†è°#æ›¿æ¢æˆè°#g&#x27;</span> æ–‡ä»¶</span><br><span class="line">sed <span class="string">&#x27;s@@@g&#x27;</span> æ–‡ä»¶</span><br><span class="line">sed <span class="string">&#x27;s///g&#x27;</span> æ–‡ä»¶</span><br><span class="line">æ¡ˆä¾‹: åªæ›¿æ¢æ¯è¡Œçš„ç¬¬ä¸€ä¸ªå•è¯ rootä¸ºoldboy</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;s#root#oldboy#&#x27;</span> test.txt</span><br><span class="line">oldboy:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹: æ›¿æ¢æ‰€æœ‰çš„rootä¸ºoldboy</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;s#root#oldboy#g&#x27;</span> test.txt</span><br><span class="line">oldboy:x:0:0:oldboy:/oldboy:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹: å°†rootæ›¿æ¢æˆç©º</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;s#root##g&#x27;</span> test.txt</span><br><span class="line">:x:0:0::/:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹: åˆ é™¤æ‰€æœ‰çš„æ•°å­—</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;s#[0-9]##g&#x27;</span> test.txt</span><br><span class="line">root:x:::root:/root:/bin/bash</span><br><span class="line">bin:x:::bin:/bin:/sbin/nologin</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹: åˆ é™¤æ‰€æœ‰çš„å­—ç¬¦ä¸²</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;s#[a-z]##g&#x27;</span> test.txt</span><br><span class="line">::0:0::/://</span><br><span class="line">::1:1::/://</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;s#[0-z]##g&#x27;</span> test.txt</span><br><span class="line">:::::/://</span><br><span class="line">:::::/://</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹: ç»Ÿè®¡passwdä¸­æ¯ä¸ªå•è¯å‡ºç°çš„æ¬¡æ•° top10</span><br><span class="line">å°†ç‰¹æ®Šç¬¦å·æ›¿æ¢æˆç©º</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;s#[:/0-9x]# #g&#x27;</span> test.txt</span><br><span class="line">root root root bin bash</span><br><span class="line">bin bin bin sbin nologin</span><br><span class="line">daemon daemon sbin sbin nologin</span><br><span class="line">adm adm var adm sbin nologin</span><br><span class="line">root root root bin bash</span><br><span class="line">lp lp var spool lpd sbin nologin</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;s#[:/0-9x]# #g&#x27;</span> test.txt |xargs -n1|<span class="built_in">sort</span> |<span class="built_in">uniq</span> -c|<span class="built_in">sort</span> -rn|<span class="built_in">head</span></span><br><span class="line">6 root</span><br><span class="line">5 sbin</span><br><span class="line">5 bin</span><br><span class="line">4 nologin</span><br><span class="line">3 adm</span><br><span class="line">2 var</span><br><span class="line">2 lp</span><br><span class="line">2 daemon</span><br><span class="line">2 bash</span><br><span class="line">1 spool</span><br><span class="line"></span><br><span class="line">è¾¹ç•Œç¬¦:</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;s#\bbin\b#oldboy#g&#x27;</span> test.txt</span><br><span class="line">æˆ–è€…:</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;s#\&lt;bin\&gt;#oldboy#g&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/oldboy/bash</span><br><span class="line">oldboy:x:1:1:oldboy:/oldboy:/sbin/nologin</span><br><span class="line"></span><br><span class="line">æ³¨æ„: è¯­æ³•å†²çªéœ€è¦ä½¿ç”¨æ’¬æ£\ æˆ–è€…æ¢ä¸ªè¯­æ³•</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;s/\/root/\/oldboy/g&#x27;</span> test.txt</span><br><span class="line">æˆ–è€…</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;s#/root#/oldboy#g&#x27;</span> test.txt</span><br><span class="line"></span><br><span class="line">åŠ¨ä½œ:</span><br><span class="line">sed -n <span class="string">&#x27;3p&#x27;</span> æ–‡ä»¶</span><br><span class="line">sed <span class="string">&#x27;s###g&#x27;</span> æ–‡ä»¶</span><br><span class="line">æ¨¡å¼+åŠ¨ä½œ</span><br><span class="line">æ¨¡å¼: æ‰¾è°ï¼Œå¦‚ä½•æ‰¾</span><br><span class="line">sed -n <span class="string">&#x27;3p&#x27;</span> <span class="comment"># æ‰¾ç¬¬3è¡Œ</span></span><br><span class="line">æ¼”å˜: å°†pè¾“å‡ºåŠ¨ä½œ ä¿®æ”¹ä¸ºæ›¿æ¢åŠ¨ä½œ</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;3s#sbin#oldboy#g&#x27;</span> test.txt <span class="comment"># å°†ç¬¬3è¡Œçš„sbinæ›¿æ¢æˆoldboy</span></span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹: å°†2åˆ°4è¡Œçš„nologinæ›¿æ¢æˆoldboy</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;2,4s#nologin#oldboy#g&#x27;</span> test.txt</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/oldboy</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/oldboy</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/oldboy</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;/adm/s#adm#oldboy#g&#x27;</span> test.txt</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/oldboy</span><br><span class="line">	â†“          â†˜         â†˜</span><br><span class="line">oldboy:x:3:4:oldboy:/var/oldboy:/sbin/nologin</span><br><span class="line"></span><br><span class="line">åŒºé—´èŒƒå›´:</span><br><span class="line">[root@db01 ~]# sed <span class="string">&#x27;/adm/,/lp/s#[a-z]##g&#x27;</span> test.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">::3:4:://://</span><br><span class="line">::0:0::/://</span><br><span class="line">::4:7::///://</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="sed-åå‘å¼•ç”¨">sed-åå‘å¼•ç”¨</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">sedåå‘å¼•ç”¨:</span><br><span class="line">è¯­æ³•ç»“æ„: sed s#()()()#\1\2\3#g     -ræ”¯æŒæ‰©å±•æ­£åˆ™</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> oldboy|sed -r <span class="string">&#x27;s#(.*)#\1#g&#x27;</span></span><br><span class="line">oldboy</span><br><span class="line">[root@db01 ~]#</span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> oldboy|sed -r <span class="string">&#x27;s#ol(.*)oy#\1#g&#x27;</span></span><br><span class="line">db</span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> oldboy|sed -r <span class="string">&#x27;s#ol(.*)(oy)#\2#g&#x27;</span></span><br><span class="line">oy</span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> oldboy|sed -r <span class="string">&#x27;s#(ol)(.*)(oy)#\1#g&#x27;</span></span><br><span class="line">ol</span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> oldboy <span class="built_in">test</span>|sed -r <span class="string">&#x27;s#(.*)#\1#g&#x27;</span></span><br><span class="line">oldboy <span class="built_in">test</span></span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> oldboy <span class="built_in">test</span>|sed -r <span class="string">&#x27;s#(.*) test#\1#g&#x27;</span></span><br><span class="line">oldboy</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹: å–å‡ºIPåœ°å€</span><br><span class="line">[root@db01 ~]# ifconfig eth0|sed -n <span class="string">&#x27;2p&#x27;</span>|sed -r <span class="string">&#x27;s#^.*t (.*)  netm.*$#\1#g&#x27;</span></span><br><span class="line">10.0.0.200</span><br><span class="line"></span><br><span class="line">ç¬¬äºŒç§ç”¨æ³•: å‘½ä»¤æ‹¼æ¥åäº¤ç»™bashæ‰§è¡Œ</span><br><span class="line">[root@db01 ~]# <span class="built_in">seq</span> 5|sed -r <span class="string">&#x27;s#(.*)#touch \1.txt#g&#x27;</span></span><br><span class="line"><span class="built_in">touch</span> 1.txt</span><br><span class="line"><span class="built_in">touch</span> 2.txt</span><br><span class="line"><span class="built_in">touch</span> 3.txt</span><br><span class="line"><span class="built_in">touch</span> 4.txt</span><br><span class="line"><span class="built_in">touch</span> 5.txt</span><br><span class="line">[root@db01 ~]# <span class="built_in">seq</span> 5|sed -r <span class="string">&#x27;s#(.*)#touch \1.txt#g&#x27;</span>|bash</span><br><span class="line">-rw-r--r-- 1 root root 18 Mar 18 11:46 1.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Mar 18 11:46 2.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Mar 18 11:46 3.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Mar 18 11:46 4.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Mar 18 11:46 5.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¹é‡åˆ›å»ºç”¨æˆ·</span></span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> <span class="built_in">test</span>&#123;1..3&#125;</span><br><span class="line">test1 test2 test3</span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> <span class="built_in">test</span>&#123;1..3&#125;|xargs -n1</span><br><span class="line">test1</span><br><span class="line">test2 </span><br><span class="line">test3</span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> <span class="built_in">test</span>&#123;1..3&#125;|xargs -n1|sed -r <span class="string">&#x27;s#(.*)#\1#g&#x27;</span></span><br><span class="line">test1</span><br><span class="line">test2</span><br><span class="line">test3</span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> <span class="built_in">test</span>&#123;1..3&#125;|xargs -n1|sed -r <span class="string">&#x27;s#(.*)#useradd \1#g&#x27;</span></span><br><span class="line">useradd test1</span><br><span class="line">useradd test2</span><br><span class="line">useradd test3</span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> <span class="built_in">test</span>&#123;1..3&#125;|xargs -n1|sed -r <span class="string">&#x27;s#(.*)#useradd \1#g&#x27;</span>|bash</span><br><span class="line"></span><br><span class="line"><span class="comment">#å–å‡º/etc/passwdæ–‡ä»¶æƒé™</span></span><br><span class="line"><span class="built_in">stat</span> /etc/passwd|sed -n <span class="string">&#x27;4p&#x27;</span>|sed -r <span class="string">&#x27;s#^.*(\(0)(.*)/-.*$#\2#g&#x27;</span></span><br><span class="line">æˆ–è€…</span><br><span class="line"><span class="built_in">stat</span> /etc/passwd|sed -nr <span class="string">&#x27;4s#^.*(\(0)(.*)/-.*$#\2#pg&#x27;</span></span><br><span class="line">644</span><br></pre></td></tr></table></figure>
<h3 id="awkå‘½ä»¤">awkå‘½ä»¤</h3>
<table>
<thead>
<tr>
<th>å†…ç½®å˜é‡</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td>NR</td>
<td>Number of Recordè®°å½•è¡Œå·</td>
</tr>
<tr>
<td>NF</td>
<td>Number of Fieldæ¯è¡Œæœ‰å¤šå°‘å­å­—æ®µï¼ˆåˆ—ï¼‰$NFè¡¨ç¤ºæœ€åä¸€åˆ—</td>
</tr>
<tr>
<td>FS</td>
<td>-Fï¼šå­—æ®µåˆ†éš”ç¬¦ï¼Œæ¯ä¸ªå­—æ®µç»“æŸæ ‡è®°</td>
</tr>
<tr>
<td>OFS</td>
<td>Output Field Separator è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼ˆawkæ˜¾ç¤ºæ¯ä¸€åˆ—çš„æ—¶å€™é€šè¿‡ä»€ä¹ˆæ¥åˆ†å‰²ï¼Œé»˜è®¤æ˜¯ç©ºæ ¼ï¼‰</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">awk: ç¼–ç¨‹è¯­è¨€ GNU/awk</span><br><span class="line">ä½œç”¨:</span><br><span class="line">1.å–è¡Œ</span><br><span class="line">2.å–åˆ—</span><br><span class="line">3.æ¨¡ç³Šè¿‡æ»¤</span><br><span class="line">4.æ•°æ®ç»Ÿè®¡ æ•°æ®è¿ç®—</span><br><span class="line">5.æ”¯æŒ<span class="keyword">for</span>å¾ªç¯ <span class="keyword">if</span>åˆ¤æ–­ æ•°ç»„..</span><br><span class="line">6.æ ¼å¼åŒ–è¾“å‡º sedåå‘å¼•ç”¨</span><br><span class="line">è¯­æ³•ç»“æ„:</span><br><span class="line">awk <span class="string">&#x27;æ¨¡å¼&#x27;</span> file <span class="comment"># ä¸åŠ ä»»ä½•åŠ¨ä½œï¼Œé»˜è®¤ä¸ºè¾“å‡ºçš„åŠ¨ä½œ</span></span><br><span class="line">awk <span class="string">&#x27;æ¨¡å¼&#123;print&#125;&#x27;</span> file <span class="comment"># æ¨¡å¼+åŠ¨ä½œ</span></span><br><span class="line">å…¶ä»–çš„å‘½ä»¤è¾“å‡º|awk <span class="string">&#x27;æ¨¡å¼&#x27;</span></span><br><span class="line">æ¨¡å¼: æ‰¾è°ï¼Œæ€ä¹ˆæ‰¾</span><br><span class="line">æŒ‡å®šè¡Œï¼ŒæŒ‡å®šåˆ—æ‰¾ï¼Œæ¨¡ç³Šè¿‡æ»¤çš„æ‰¾</span><br><span class="line"></span><br><span class="line"><span class="comment">#OFSæŒ‡å®šåˆ†éš”ç¬¦  -v OFS=:   æˆ–è€…OFS=:    (-vä¿®æ”¹å‚æ•°)</span></span><br><span class="line">[root@web01 ~]# awk -F: <span class="string">&#x27;&#123;print $1,$3,$4&#125;&#x27;</span> OFS=:  /etc/passwd</span><br><span class="line">root:0:0</span><br><span class="line">bin:1:1</span><br></pre></td></tr></table></figure>
<h4 id="1-æŸ¥æ‰¾-è¿‡æ»¤">1.æŸ¥æ‰¾/è¿‡æ»¤</h4>
<p><strong>==1.awkæŒ‰ç…§è¡Œè¿›è¡ŒæŸ¥æ‰¾==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ­£åˆ™æœç´¢æŸä¸€åˆ—</span></span><br><span class="line">//</span><br><span class="line"><span class="variable">$1</span> ~//  åŒ¹é…ç¬¬ä¸€åˆ—çš„å†…å®¹</span><br><span class="line"></span><br><span class="line">è¯­æ³•ç»“æ„:</span><br><span class="line">sed -n <span class="string">&#x27;3p&#x27;</span> file <span class="comment"># sed è¾“å‡ºæŒ‡å®šçš„è¡Œ</span></span><br><span class="line">awk <span class="string">&#x27;NR==3&#x27;</span> file <span class="comment"># awkè¾“å‡ºæŒ‡å®šçš„è¡Œ</span></span><br><span class="line">awkçš„å†…ç½®å˜é‡:</span><br><span class="line">NRå­˜æ”¾ç€æ–‡ä»¶ä¸­æ¯è¡Œçš„è¡Œå·</span><br><span class="line">NRçš„è¡¨è¾¾å¼:</span><br><span class="line">== ç­‰äºç¬¬å‡ è¡Œ</span><br><span class="line">&gt; å¤§äºç¬¬å‡ è¡Œ</span><br><span class="line">&lt; å°äºç¬¬å‡ è¡Œ</span><br><span class="line">&gt;= ç­‰äºç­‰äºç¬¬å‡ è¡Œ</span><br><span class="line">&lt;= å°äºç­‰äºç¬¬å‡ è¡Œ</span><br><span class="line">!= ä¸ç­‰äº</span><br><span class="line">&amp;&amp; å¹¶ä¸”</span><br><span class="line">|| æˆ–è€…</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# <span class="built_in">cat</span> 1.txt</span><br><span class="line">1 root:x:0:0:root:/root:/bin/bash</span><br><span class="line">2 bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">3 daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">4 adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">5 lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">åªæ˜¾ç¤ºæ–‡ä»¶çš„ç¬¬3è¡Œ</span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;NR==3&#x27;</span> 1.txt</span><br><span class="line">3 daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸ºä»€ä¹ˆè¦åŠ ä¸¤ä¸ªç­‰å·ï¼Ÿ</span></span><br><span class="line">ä¸€ä¸ªç­‰å·åœ¨ç³»ç»Ÿä¸­ç§°ä¸ºå®šä¹‰å˜é‡</span><br><span class="line"></span><br><span class="line">åªæ˜¾ç¤ºæ–‡ä»¶ä¸­å°äº3çš„è¡Œ</span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;NR&lt;3&#x27;</span> 1.txt</span><br><span class="line">1 root:x:0:0:root:/root:/bin/bash</span><br><span class="line">2 bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line"></span><br><span class="line">åªæ˜¾ç¤ºæ–‡ä»¶ä¸­å¤§äº3çš„è¡Œ</span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;NR&gt;3&#x27;</span> 1.txt</span><br><span class="line">4 adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">5 lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;NR&lt;=3&#x27;</span> 1.txt</span><br><span class="line">1 root:x:0:0:root:/root:/bin/bash</span><br><span class="line">2 bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">3 daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line"></span><br><span class="line">æ˜¾ç¤ºæ–‡ä»¶ä¸­ä¸ç­‰äº3çš„è¡Œ</span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;NR!=3&#x27;</span> 1.txt</span><br><span class="line">1 root:x:0:0:root:/root:/bin/bash</span><br><span class="line">2 bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">4 adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">5 lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">å¹¶ä¸”å’Œæˆ–è€…:</span><br><span class="line">&amp;&amp; å¹¶ä¸”</span><br><span class="line">æ¡ˆä¾‹: æŸ¥æ‰¾å¤§äºç¬¬2è¡Œ å¹¶ä¸”å°äº5çš„è¡Œ</span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;NR&gt;2&amp;&amp;NR&lt;5&#x27;</span> 1.txt</span><br><span class="line">3 daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">4 adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line"></span><br><span class="line">|| æˆ–è€…</span><br><span class="line">æ¡ˆä¾‹: æŸ¥æ‰¾å°äºç¬¬2è¡Œï¼Œæˆ–è€…å¤§äºç¬¬4è¡Œ</span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;NR&lt;2||NR&gt;4&#x27;</span> 1.txt</span><br><span class="line">1 root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>==2.æ¨¡ç³Šè¿‡æ»¤æ–‡ä»¶å†…å®¹==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ç»“æ„:</span><br><span class="line">grep <span class="string">&#x27;&#x27;</span> æ–‡ä»¶</span><br><span class="line">sed -n <span class="string">&#x27;/å†…å®¹/p&#x27;</span> æ–‡ä»¶</span><br><span class="line">awk <span class="string">&#x27;/å†…å®¹/&#x27;</span> æ–‡ä»¶</span><br><span class="line">awk <span class="string">&#x27;//,//&#x27;</span> æ–‡ä»¶</span><br><span class="line"></span><br><span class="line"><span class="comment">#awkè¡¨ç¤ºèŒƒå›´</span></span><br><span class="line">awk <span class="string">&#x27;/10:00/,/11:00/&#x27;</span> access.log</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹1.æŸ¥æ‰¾åŒ…å«rootçš„è¡Œ</span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;/root/&#x27;</span> 1.txt</span><br><span class="line">1 root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹2.æŸ¥æ‰¾ä»¥1å¼€å¤´çš„è¡Œ</span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;/^r/&#x27;</span> 1.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;/h$/&#x27;</span> 1.txt</span><br><span class="line">1 root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;/^[1-3]/&#x27;</span> 1.txt</span><br><span class="line">1 root:x:0:0:root:/root:/bin/bash</span><br><span class="line">2 bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">3 daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹3.åŒºé—´èŒƒå›´ å·¥ä½œä¸­å–æ—¶é—´èŒƒå›´è¾ƒå¤š</span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;/^2/,/^4/&#x27;</span> 1.txt</span><br><span class="line">2 bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">3 daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">4 adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">æ³¨æ„: ä¸‰å‰‘å®¢æ”¯æŒæ‰©å±•æ­£åˆ™å†™æ³•</span><br><span class="line">grep -E æˆ–è€…egrep</span><br><span class="line">sed -r</span><br><span class="line">awk é»˜è®¤æ”¯æŒæ‰©å±•æ­£åˆ™</span><br></pre></td></tr></table></figure>
<h4 id="2-awkå–åˆ—">2.awkå–åˆ—</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ç»“æ„:</span><br><span class="line">awk <span class="string">&#x27;&#123;print $n&#125;&#x27;</span> file</span><br><span class="line"><span class="variable">$0</span> awkçš„å†…ç½®å˜é‡é‡Œé¢å­˜æ”¾ç€æ¯è¡Œçš„å†…å®¹,(å¯ä»¥åˆ¤æ–­awkæ‰§è¡Œçš„å“ªäº›è¡Œå†…å®¹)</span><br><span class="line"><span class="variable">$1</span> è¡¨ç¤ºç¬¬1åˆ— é»˜è®¤ä»¥ç©ºæ ¼å’Œtabé”®ä¸ºåˆ†éš”ç¬¦ï¼Œå¦‚æœæ–‡ä»¶ä¸­æ²¡æœ‰ç©ºæ ¼å’Œtabé”®åˆ™æ–‡ä»¶å†…å®¹è¢«å½“åšç¬¬ä¸€åˆ—</span><br><span class="line"><span class="variable">$2</span> è¡¨ç¤ºç¬¬2åˆ—</span><br><span class="line">ï¼Œé€—å· å†…ç½®å˜é‡ï¼Œè¡¨ç¤ºç©ºæ ¼</span><br><span class="line">NF è¡¨ç¤ºæœ€åä¸€åˆ—çš„åˆ—å·</span><br><span class="line"><span class="variable">$NF</span> è¡¨ç¤ºæœ€åä¸€åˆ—çš„å†…å®¹</span><br><span class="line">æ³¨æ„: æ‰€æœ‰çš„å­—ç¬¦ä¸²åœ¨awkä¸­è¢«è¯†åˆ«ä¸ºå˜é‡ï¼Œæ‰€ä»¥è¾“å‡ºå­—ç¬¦ä¸²å¿…é¡»åŠ åŒå¼•å·</span><br><span class="line"></span><br><span class="line">awkæŒ‡å®šåˆ†éš”ç¬¦: é»˜è®¤ä»¥tabé”®æˆ–ç©ºæ ¼åˆ†éš”</span><br><span class="line">-F</span><br><span class="line">awk -F: <span class="comment"># æ–¹æ³•1</span></span><br><span class="line">awk -F <span class="string">&quot;:&quot;</span> <span class="comment"># æ–¹æ³•2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#$0ç”¨æ³•ï¼ŒåŠ ä¸Š$0å°±å¯ä»¥çœ‹awkå–çš„æ˜¯å“ªäº›å†…å®¹</span></span><br><span class="line">[root@web01 zzz]# <span class="built_in">cat</span> /etc/passwd|awk -F <span class="string">&#x27;[ :]+&#x27;</span> <span class="string">&#x27;NR&gt;5&amp;&amp;NR&lt;8&#123;print $1,$2&#125;&#x27;</span></span><br><span class="line"><span class="built_in">sync</span> x</span><br><span class="line">shutdown x</span><br><span class="line">[root@web01 zzz]# <span class="built_in">cat</span> /etc/passwd|awk -F <span class="string">&#x27;[ :]+&#x27;</span> <span class="string">&#x27;NR&gt;5&amp;&amp;NR&lt;8&#123;print $1,$2,$0&#125;&#x27;</span></span><br><span class="line"><span class="built_in">sync</span> x <span class="built_in">sync</span>:x:5:0:<span class="built_in">sync</span>:/sbin:/bin/sync</span><br><span class="line">shutdown x shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚ä½•æŸ¥çœ‹æ¯ä¸€è¡Œæœ‰å¤šå°‘åˆ—</span></span><br><span class="line">[root@web01 zzz]# awk -F: <span class="string">&#x27;&#123;print NF&#125;&#x27;</span> 1.txt </span><br><span class="line">7</span><br><span class="line">7</span><br><span class="line">7</span><br><span class="line">7</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹1.æ˜¾ç¤ºæ–‡ä»¶çš„ç¬¬ä¸€åˆ—</span><br><span class="line">[root@db01 ~]# <span class="built_in">cat</span> 1.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"><span class="built_in">sync</span>:x:5:0:<span class="built_in">sync</span>:/sbin:/bin/sync</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹1.æ‰“å°å‡ºç¬¬ä¸€åˆ—</span><br><span class="line">[root@db01 ~]# awk -F: <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> 1.txt</span><br><span class="line">root</span><br><span class="line">bin</span><br><span class="line">daemon</span><br><span class="line">adm</span><br><span class="line">lp</span><br><span class="line"><span class="built_in">sync</span></span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹2.æ˜¾ç¤ºæ–‡ä»¶çš„ç¬¬1åˆ—å’Œç¬¬3åˆ—</span><br><span class="line">[root@db01 ~]# awk -F: <span class="string">&#x27;&#123;print $1,$3&#125;&#x27;</span> 1.txt</span><br><span class="line">root 0</span><br><span class="line">bin 1</span><br><span class="line">daemon 2</span><br><span class="line">adm 3</span><br><span class="line">lp 4</span><br><span class="line"><span class="built_in">sync</span> 5</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# awk -F: <span class="string">&#x27;&#123;print $1&quot;---&quot;$3&#125;&#x27;</span> 1.txt</span><br><span class="line">root---0</span><br><span class="line">bin---1</span><br><span class="line">daemon---2</span><br><span class="line">adm---3</span><br><span class="line">lp---4</span><br><span class="line">sync---5</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹.å…ˆè¾“å‡ºç¬¬3åˆ— åé¢è¾“å‡ºç¬¬1åˆ—</span><br><span class="line">[root@db01 ~]# awk -F: <span class="string">&#x27;&#123;print $3&quot; &quot;$1&#125;&#x27;</span> 1.txt</span><br><span class="line">0 root</span><br><span class="line">1 bin</span><br><span class="line">2 daemon</span><br><span class="line">3 adm</span><br><span class="line">4 lp</span><br><span class="line">5 <span class="built_in">sync</span></span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹: å–å‡ºæœ€åä¸€åˆ—çš„å†…å®¹:</span><br><span class="line">[root@db01 ~]# awk -F: <span class="string">&#x27;&#123;print $NF&#125;&#x27;</span> 1.txt</span><br><span class="line">/bin/bash</span><br><span class="line">/sbin/nologin</span><br><span class="line">/sbin/nologin</span><br><span class="line">/sbin/nologin</span><br><span class="line">/sbin/nologin</span><br><span class="line">/bin/sync</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@web01 zzz]# <span class="built_in">df</span> -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sda3        19G  1.9G   17G  11% /</span><br><span class="line">devtmpfs        476M     0  476M   0% /dev</span><br><span class="line">tmpfs           487M     0  487M   0% /dev/shm</span><br><span class="line">tmpfs           487M   20M  467M   5% /run</span><br><span class="line">tmpfs           487M     0  487M   0% /sys/fs/cgroup</span><br><span class="line">/dev/sda1       497M  120M  378M  25% /boot</span><br><span class="line">tmpfs            98M     0   98M   0% /run/user/0</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹: å–å‡ºç£ç›˜ä¸­çš„ç¬¬5åˆ—</span><br><span class="line">[root@db01 ~]# <span class="built_in">df</span> -h|awk <span class="string">&#x27;&#123;print $5&#125;&#x27;</span></span><br><span class="line">Use%</span><br><span class="line">11%</span><br><span class="line">0%</span><br><span class="line">0%</span><br><span class="line">5%</span><br><span class="line">0%</span><br><span class="line">25%</span><br><span class="line">0%</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹: å–å‡ºsda3çš„è¡Œçš„æ–¹æ³•</span><br><span class="line">[root@db01 ~]# <span class="built_in">df</span> -h|grep <span class="string">&#x27;/$&#x27;</span></span><br><span class="line">/dev/sda3        19G  1.9G   17G  11% /</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# <span class="built_in">df</span> -h|grep <span class="string">&#x27;sda3&#x27;</span></span><br><span class="line">/dev/sda3        19G  1.9G   17G  11% /</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# <span class="built_in">df</span> -h|sed -n <span class="string">&#x27;2p&#x27;</span></span><br><span class="line">/dev/sda3        19G  1.9G   17G  11% /</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# <span class="built_in">df</span> -h|sed -n <span class="string">&#x27;/sda3/p&#x27;</span></span><br><span class="line">/dev/sda3        19G  1.9G   17G  11% /</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# <span class="built_in">df</span> -h|sed -n <span class="string">&#x27;/\/$/p&#x27;</span></span><br><span class="line">/dev/sda3        19G  1.9G   17G  11% /</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# <span class="built_in">df</span> -h|awk <span class="string">&#x27;NR==2&#x27;</span></span><br><span class="line">/dev/sda3        19G  1.9G   17G  11% /</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# <span class="built_in">df</span> -h|awk <span class="string">&#x27;/\/$/&#x27;</span></span><br><span class="line">/dev/sda3        19G  1.9G   17G  11% /</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# <span class="built_in">df</span> -h|awk <span class="string">&#x27;/sda3/&#x27;</span></span><br><span class="line">/dev/sda3        19G  1.9G   17G  11% /</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¡ˆä¾‹ï¼šå–å‡ºå€’æ•°ç¬¬äºŒåˆ—</span></span><br><span class="line">[root@db01 ~]# <span class="built_in">df</span> -h|awk <span class="string">&#x27;&#123;print $(NF-1)&#125;&#x27;</span></span><br><span class="line">Mounted</span><br><span class="line">11%</span><br><span class="line">0%</span><br><span class="line">0%</span><br><span class="line">5%</span><br><span class="line">0%</span><br><span class="line">25%</span><br><span class="line">0%</span><br><span class="line"></span><br><span class="line">å–å‡ºæ¯è¡Œçš„å€’æ•°ç¬¬2åˆ—çš„å†…å®¹</span><br><span class="line">[root@db01 ~]# <span class="built_in">cat</span> 1.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"><span class="built_in">sync</span>:x:5:0:<span class="built_in">sync</span>:/sbin:/bin/sync</span><br><span class="line"></span><br><span class="line">[root@web01 zzz]# awk -F: <span class="string">&#x27;&#123;print $(NF-1)&#125;&#x27;</span> 1.txt</span><br><span class="line">/root</span><br><span class="line">/bin</span><br><span class="line">/sbin</span><br><span class="line">/var/adm</span><br><span class="line">/var/spool/lpd</span><br><span class="line">/sbin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹.æŒ‡å®šå¤šåˆ†éš”ç¬¦</span><br><span class="line">[root@db01 ~]# <span class="built_in">cat</span> 2.txt</span><br><span class="line">root:x:0:0:root:/oldboy:/bin/bash</span><br><span class="line">[root@db01 ~]# awk -F <span class="string">&quot;:/&quot;</span> <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> 2.txt</span><br><span class="line">oldboy</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹.å–å‡º<span class="built_in">test</span>å’Œoldboy</span><br><span class="line">æ¡ˆä¾‹.+è¿ç»­å‡ºç°1æ¬¡åŠ1æ¬¡ä»¥ä¸Šçš„ä½œä¸º1ä¸ªæ•´ä½“</span><br><span class="line">[root@db01 ~]# <span class="built_in">cat</span> 2.txt</span><br><span class="line">root:x:0:0:<span class="built_in">test</span>:/oldboy:/bin/bash</span><br><span class="line">[root@db01 ~]# awk -F <span class="string">&quot;[:/]+&quot;</span> <span class="string">&#x27;&#123;print $5,$6&#125;&#x27;</span> 2.txt</span><br><span class="line"><span class="built_in">test</span> oldboy</span><br><span class="line"></span><br><span class="line">ç†è§£æ­£åˆ™è¡¨è¾¾å¼+</span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> ---<span class="built_in">test</span>-+oldboy++::|awk -F <span class="string">&quot;-&quot;</span> <span class="string">&#x27;&#123;print $4&#125;&#x27;</span></span><br><span class="line"><span class="built_in">test</span></span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> ---<span class="built_in">test</span>-+oldboy++::|awk -F <span class="string">&quot;[-]+&quot;</span> <span class="string">&#x27;&#123;print $2&#125;&#x27;</span></span><br><span class="line"><span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> ---<span class="built_in">test</span>-+oldboy++::|awk -F <span class="string">&quot;[-+]&quot;</span> <span class="string">&#x27;&#123;print $6&#125;&#x27;</span></span><br><span class="line">oldboy</span><br><span class="line">[root@db01 ~]# <span class="built_in">echo</span> ---<span class="built_in">test</span>-+oldboy++::|awk -F <span class="string">&quot;[-+]+&quot;</span> <span class="string">&#x27;&#123;print $3&#125;&#x27;</span></span><br><span class="line">oldboy</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸åŠ +ä¸ä¼šè´ªå©ªåŒ¹é…ï¼Œè¦æ•°åˆ†éš”ç¬¦ï¼ˆå­—ç¬¦ä¸²åè·Ÿçš„ç¬¬ä¸€ä¸ªåˆ†éš”ç¬¦ä¸æ•°é‡ï¼Œå†æœ‰åˆ†éš”ç¬¦è¦æ•°ï¼‰</span></span><br><span class="line">[root@web01 ~]# <span class="built_in">echo</span> ---<span class="built_in">test</span>-+--oldboy++::|awk -F <span class="string">&quot;[-+]&quot;</span> <span class="string">&#x27;&#123;print $4&#125;&#x27;</span></span><br><span class="line"><span class="built_in">test</span></span><br><span class="line">[root@web01 ~]# <span class="built_in">echo</span> ---<span class="built_in">test</span>-+--oldboy++::|awk -F <span class="string">&quot;[-+]&quot;</span> <span class="string">&#x27;&#123;print $8&#125;&#x27;</span></span><br><span class="line">oldboy</span><br><span class="line">[root@web01 ~]# <span class="built_in">echo</span> ---<span class="built_in">test</span>-+--oldboy++::|awk -F <span class="string">&quot;[-+]&quot;</span> <span class="string">&#x27;&#123;print $10&#125;&#x27;</span></span><br><span class="line">::</span><br><span class="line">[root@web01 ~]# <span class="built_in">echo</span> ---<span class="built_in">test</span>-+--oldboy++::|awk -F <span class="string">&quot;[-+]+&quot;</span> <span class="string">&#x27;&#123;print $2,$3,$4&#125;&#x27;</span></span><br><span class="line"><span class="built_in">test</span> oldboy ::</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ‰©å±•ï¼šè®©å–å‡ºçš„åˆ—æ’åˆ—æ•´é½  column -t</span><br><span class="line">[root@web01 ~]# awk -F: <span class="string">&#x27;&#123;print $1,$3&#125;&#x27;</span>  /etc/passwd|column -t</span><br><span class="line">root             0</span><br><span class="line">bin              1</span><br><span class="line">daemon           2</span><br><span class="line">adm              3</span><br><span class="line">lp               4</span><br><span class="line"><span class="built_in">sync</span>             5</span><br><span class="line">shutdown         6</span><br></pre></td></tr></table></figure>
<h4 id="3-awkæ¨¡å¼-åŠ¨ä½œ">3.awkæ¨¡å¼+åŠ¨ä½œ</h4>
<ul>
<li>print</li>
<li>gsub</li>
<li>å˜é‡èµ‹å€¼</li>
<li>ç»Ÿè®¡è®¡ç®—</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç»Ÿè®¡ /etc/servicesæœ‰å¤šå°‘è¡Œ</span></span><br><span class="line">[root@web01 ~]# <span class="built_in">cat</span> /etc/services |<span class="built_in">wc</span> -l</span><br><span class="line">11176</span><br><span class="line"></span><br><span class="line">[root@web01 ~]# awk <span class="string">&#x27;&#123;i++&#125;END&#123;print i&#125;&#x27;</span> /etc/services </span><br><span class="line">11176</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">[root@db01 ~]# <span class="built_in">cat</span> 1.txt</span><br><span class="line">1 root:x:0:0:root:/root:/bin/bash</span><br><span class="line">2 bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">3 daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">4 adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">:5 lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;NR==3&#x27;</span> 1.txt</span><br><span class="line">3 daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">[root@db01 ~]# awk -F: <span class="string">&#x27;NR==3&#123;print $3 &#125;&#x27;</span> 1.txt</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹2.å–å‡ºç”¨æˆ·åå’Œæœ€åä¸€åˆ—</span><br><span class="line">[root@db01 ~]# <span class="built_in">cat</span> 1.txt</span><br><span class="line">1 root:x:0:0:root:/root:/bin/bash</span><br><span class="line">2 bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">3 daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">4 adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">5 lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# awk -F <span class="string">&quot;[ :]&quot;</span> <span class="string">&#x27;&#123;print $2,$NF &#125;&#x27;</span> 1.txt</span><br><span class="line">root /bin/bash</span><br><span class="line">bin /sbin/nologin</span><br><span class="line">daemon /sbin/nologin</span><br><span class="line">adm /sbin/nologin</span><br><span class="line">lp /sbin/nologin</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# awk -F <span class="string">&quot;[ :]&quot;</span> <span class="string">&#x27;&#123;print $2&quot;\t&quot;$NF &#125;&#x27;</span> 1.txt</span><br><span class="line">root /bin/bash</span><br><span class="line">bin /sbin/nologin</span><br><span class="line">daemon /sbin/nologin</span><br><span class="line">adm /sbin/nologin</span><br><span class="line">lp /sbin/nologin</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹.å–å‡º/ç£ç›˜ä½¿ç”¨è¡Œçš„ ç¬¬4åˆ—</span><br><span class="line">æŒ‡å®šè¡Œ+åŠ¨ä½œ</span><br><span class="line">[root@web01 zzz]# <span class="built_in">df</span> -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sda3        19G  1.9G   17G  11% /</span><br><span class="line">devtmpfs        476M     0  476M   0% /dev</span><br><span class="line">tmpfs           487M     0  487M   0% /dev/shm</span><br><span class="line">tmpfs           487M   20M  467M   5% /run</span><br><span class="line">tmpfs           487M     0  487M   0% /sys/fs/cgroup</span><br><span class="line">/dev/sda1       497M  120M  378M  25% /boot</span><br><span class="line">tmpfs            98M     0   98M   0% /run/user/0</span><br><span class="line"></span><br><span class="line">[root@web01 zzz]# <span class="built_in">df</span> -h|awk <span class="string">&#x27;NR==2&#x27;</span></span><br><span class="line">/dev/sda3        19G  1.9G   17G  11% /</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ¨¡ç³Šè¿‡æ»¤+åŠ¨ä½œ</span><br><span class="line">[root@db01 ~]# <span class="built_in">df</span> -h|awk <span class="string">&#x27;/\/$/&#123;print $4,$1&#125;&#x27;</span></span><br><span class="line">17G /dev/sda3</span><br><span class="line">[root@db01 ~]# <span class="built_in">df</span> -h|awk <span class="string">&#x27;/sda3/&#123;print $4,$1&#125;&#x27;</span></span><br><span class="line">17G /dev/sda3</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹.å–å‡ºdevç›¸å…³çš„è¡Œçš„ç¬¬1è¡Œå’Œç¬¬2è¡Œ</span><br><span class="line">[root@web01 zzz]# <span class="built_in">df</span> -h|awk <span class="string">&#x27;/sda3/,/devtmpfs/&#x27;</span></span><br><span class="line">/dev/sda3        19G  1.9G   17G  11% /</span><br><span class="line">devtmpfs        476M     0  476M   0% /dev</span><br><span class="line"></span><br><span class="line"><span class="comment">#å–å‡ºç¬¬6åˆ—å’Œç¬¬7åˆ—</span></span><br><span class="line"><span class="built_in">cat</span> -n /etc/passwd|awk <span class="string">&#x27;NR&gt;5&amp;&amp;NR&lt;8&#x27;</span></span><br><span class="line">     6  <span class="built_in">sync</span>:x:5:0:<span class="built_in">sync</span>:/sbin:/bin/sync</span><br><span class="line">     7  shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line"></span><br><span class="line"><span class="comment">#å–å‡ºç¬¬6è¡Œå’Œç¬¬ä¸ƒè¡Œçš„ ç¬¬1åˆ—å’Œç¬¬2åˆ—</span></span><br><span class="line">[root@web01 zzz]# <span class="built_in">cat</span> /etc/passwd|awk -F <span class="string">&#x27;[ :]+&#x27;</span> <span class="string">&#x27;NR&gt;5&amp;&amp;NR&lt;8&#123;print $1,$2&#125;&#x27;</span></span><br><span class="line"><span class="built_in">sync</span> x</span><br><span class="line">shutdown x</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="4-å­—ç¬¦ä¸²å¯¹æ¯”">4.å­—ç¬¦ä¸²å¯¹æ¯”</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">æ‰©å±•: å­—ç¬¦ä¸²æ¯”å¯¹</span><br><span class="line">[root@db01 ~]# <span class="built_in">cat</span> 1.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">root:hehe:xx</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# awk -F: <span class="string">&#x27;$NF==&quot;/bin/bash&quot;&#x27;</span> 1.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br><span class="line">æŸ¥æ‰¾å‡ºä»¥roå¼€å¤´çš„è¡Œ</span><br><span class="line">[root@db01 ~]# awk -F: <span class="string">&#x27;/^ro/&#x27;</span> 1.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">root:hehe:xx</span><br><span class="line"></span><br><span class="line"><span class="comment">#åŒ¹é…ç¬¬5åˆ—æ˜¯rå¼€å¤´çš„å†…å®¹</span></span><br><span class="line">[root@web01 zzz]# awk -F: <span class="string">&#x27;$5 ~ /^r/&#x27;</span> 1.txt </span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment">#åŒ¹é…ç¬¬5åˆ—æ˜¯tç»“å°¾çš„å†…å®¹</span></span><br><span class="line">[root@web01 zzz]# awk -F: <span class="string">&#x27;$5 ~ /t$/&#x27;</span> 1.txt </span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br><span class="line">æ•°å­—æ¯”è¾ƒ:</span><br><span class="line">[root@db01 ~]# awk -F: <span class="string">&#x27;$3&gt;0&#x27;</span> 1.txt</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# awk -F: <span class="string">&#x27;$3&lt;2&#x27;</span> 1.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line"></span><br><span class="line">[root@db01 ~]# awk -F: <span class="string">&#x27;$3&lt;=2&#x27;</span> 1.txt</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line"></span><br><span class="line">[root@db01 ~]#</span><br><span class="line">æˆç»©å•ç»Ÿè®¡:ï¼ˆå‡å®šç¬¬äºŒåˆ—æ˜¯æˆç»©ï¼‰</span><br><span class="line">æ¡ˆä¾‹ã€‚å¤§äºç­‰äº90çš„äººæ•°</span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;$2&gt;=90&#x27;</span> 1.txt|<span class="built_in">wc</span> -l</span><br><span class="line">16</span><br><span class="line">æ¡ˆä¾‹. å¤§äºç­‰äº80å¹¶ä¸”å°äº90çš„äººæ•°</span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;$2&gt;=80&amp;&amp;$2&lt;90&#x27;</span> 1.txt |<span class="built_in">wc</span> -l</span><br><span class="line">29</span><br><span class="line">æ¡ˆä¾‹.å°äº60åˆ†çš„äººæ•°</span><br><span class="line">[root@db01 ~]# awk <span class="string">&#x27;$2&lt;60&#x27;</span> 1.txt|<span class="built_in">wc</span> -l</span><br></pre></td></tr></table></figure>
<h4 id="5-awkæ›¿æ¢">5.awkæ›¿æ¢</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åªæ›¿æ¢åŒ¹é…åˆ°ä»¥ä¸€ä¸ªå†…å®¹</span></span><br><span class="line">awk <span class="string">&#x27;&#123; sub(/apple/, &quot;pear&quot;, $1); print &#125;&#x27;</span> file.txt</span><br><span class="line"><span class="comment">#å…¨å±€æ›¿æ¢</span></span><br><span class="line">awk <span class="string">&#x27;&#123; gsub(/apple/, &quot;pear&quot;, $1); print &#125;&#x27;</span> file.txt</span><br><span class="line"><span class="comment">#æ›¿æ¢å®Œæ¯•ä¹‹åä¿å­˜åˆ°æ–°æ–‡ä»¶</span></span><br><span class="line">awk <span class="string">&#x27;&#123; sub(/apple/, &quot;pear&quot;, $1); print &#125;&#x27;</span> file.txt &gt; new_file.txt</span><br></pre></td></tr></table></figure>
<h4 id="æ€»ç»“">==æ€»ç»“==</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">1.awkå–è¡Œ</span><br><span class="line">awk <span class="string">&#x27;NR==3&#x27;</span> file</span><br><span class="line">NR==</span><br><span class="line">NR!=</span><br><span class="line">NR&gt;=</span><br><span class="line">NR&lt;=</span><br><span class="line">NR&gt;</span><br><span class="line">NR&lt;</span><br><span class="line">&amp;&amp;</span><br><span class="line">||</span><br><span class="line">2.awkæ¨¡ç³Šè¿‡æ»¤</span><br><span class="line">awk <span class="string">&#x27;/è¿‡æ»¤çš„å†…å®¹/&#x27;</span> file</span><br><span class="line">awk <span class="string">&#x27;//,//&#x27;</span> file</span><br><span class="line">æ”¯æŒæ­£åˆ™</span><br><span class="line">3.awkå–åˆ—</span><br><span class="line">awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> file</span><br><span class="line">awk <span class="string">&#x27;&#123;print $NF&#125;&#x27;</span> file æœ€åä¸€åˆ—</span><br><span class="line">4.awkæŒ‡å®šåˆ†éš”ç¬¦</span><br><span class="line">awk -F:</span><br><span class="line">awk -F <span class="string">&quot;:&quot;</span></span><br><span class="line">awk -F <span class="string">&quot;[:/]+&quot;</span></span><br><span class="line">5.awkæ¨¡å¼+åŠ¨ä½œ</span><br><span class="line">awk <span class="string">&#x27;NR==6&#123;print $3&#125;&#x27;</span></span><br><span class="line">awk <span class="string">&#x27;//&#123;print $3&#125;&#x27;</span></span><br><span class="line">6.å­—ç¬¦ä¸²æ¯”è¾ƒ</span><br><span class="line">awk <span class="string">&#x27;$3==&quot;root&quot;&#x27;</span> file</span><br><span class="line">awk <span class="string">&#x27;$3!=&quot;root&quot;&#x27;</span> file ä¸ç­‰äº</span><br><span class="line">7.awkæ•°å€¼æ¯”è¾ƒ</span><br><span class="line">awk <span class="string">&#x27;$3==0&#x27;</span> file</span><br><span class="line">awk <span class="string">&#x27;$3&gt;90&#x27;</span> file</span><br><span class="line">awk <span class="string">&#x27;$3&gt;80&amp;&amp;$3&lt;90&#x27;</span> file</span><br><span class="line">|| æˆ–è€…</span><br></pre></td></tr></table></figure>
<h4 id="å¾ªç¯-åˆ¤æ–­">å¾ªç¯&amp;åˆ¤æ–­</h4>
<p><strong>==forå¾ªç¯==</strong></p>
<blockquote>
<p>for i in 1 2 3</p>
<p>do</p>
<p>echo $i</p>
<p>done</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#shellç¼–ç¨‹cè¯­è¨€forå¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span>(i=1;i&lt;10;i++)</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#awk forå¾ªç¯  ,  ç”¨æ¥å¾ªç¯æ¯ä¸ªå­—æ®µ</span></span><br><span class="line"><span class="keyword">for</span>(i=1;i&lt;10;i++)</span><br><span class="line"><span class="built_in">print</span> i</span><br><span class="line"></span><br><span class="line">æ¡ˆä¾‹ 1+...+100</span><br><span class="line">[root@web01 zzz]# awk <span class="string">&#x27;BEGIN&#123;for(i=1;i&lt;=100;i++)sum+=i;print sum&#125;&#x27;</span></span><br><span class="line">5050</span><br><span class="line"></span><br><span class="line">awk <span class="string">&#x27;BEGIN&#123;</span></span><br><span class="line"><span class="string">for(i=1;i&lt;=100;i++)</span></span><br><span class="line"><span class="string">  sum+=i;</span></span><br><span class="line"><span class="string">print sum</span></span><br><span class="line"><span class="string">&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<p><strong>==ifåˆ¤æ–­==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#shell if åˆ¤æ–­</span></span><br><span class="line"><span class="keyword">if</span> &#123; $? -eq 0 &#125;;<span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;æ­£å¸¸&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;å‘½ä»¤æ‰§è¡Œé”™è¯¯&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#awk if åˆ¤æ–­</span></span><br><span class="line"><span class="keyword">if</span>(æ¡ä»¶)</span><br><span class="line">  <span class="built_in">print</span> <span class="string">&quot;abc&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">print</span> <span class="string">&quot;cc&quot;</span></span><br><span class="line">awk -F: <span class="string">&#x27;&#123; if ($3 &gt; 100) &#123; print &quot;å¤§äº100: &quot; $0 &#125; else &#123; print &quot;å°äºç­‰äº100: &quot; $0 &#125; &#125;&#x27;</span> /etc/passwd</span><br></pre></td></tr></table></figure>
<h4 id="awkæ­£åˆ™">awkæ­£åˆ™</h4>
<ul>
<li>æ”¯æŒæ‰©å±•æ­£åˆ™</li>
<li>awkå¯ä»¥ç²¾ç¡®åˆ°æŸä¸€åˆ— ï¼ŒæŸä¸€åˆ—åŒ…å«çš„å†…å®¹/ä¸åŒ…å«çš„å†…å®¹</li>
<li>~ åŒ…å«</li>
<li>!~ä¸åŒ…å«</li>
</ul>
<table>
<thead>
<tr>
<th>æ­£åˆ™</th>
<th>awkæ­£åˆ™</th>
</tr>
</thead>
<tbody>
<tr>
<td>^è¡¨ç¤ºä»¥â€¦å¼€å¤´çš„è¡Œ</td>
<td>æŸä¸€åˆ—å¼€çš„è¡Œ $3~/^root/</td>
</tr>
<tr>
<td>$è¡¨ç¤ºä»¥â€¦ç»“å°¾çš„è¡Œ</td>
<td>æŸä¸€åˆ—å¼€çš„è¡Œ $3~/bash$/</td>
</tr>
<tr>
<td>^$è¡¨ç¤ºç©ºè¡Œ</td>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ‰¾å‡ºç¬¬ä¸€åˆ—ä»¥rootå¼€å¤´çš„è¡Œ</span></span><br><span class="line">[root@web01 ~]# awk -F: <span class="string">&#x27;$1~/^root/&#x27;</span> /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"><span class="comment">#æ‰¾å‡ºç¬¬ä¸€åˆ—ä»¥rootå¼€å¤´çš„è¡Œï¼Œå¹¶è¾“å‡ºç¬¬1åˆ—ï¼Œç¬¬3åˆ—ï¼Œç¬¬5åˆ—</span></span><br><span class="line">[root@web01 ~]# awk -F: <span class="string">&#x27;$1~/root/&#123;print $1,$3,$5&#125;&#x27;</span> /etc/passwd</span><br><span class="line">root 0 root</span><br><span class="line"><span class="comment">#æ‰¾å‡ºç¬¬3åˆ—ä»¥1æˆ–è€…3å¼€å¤´çš„è¡Œï¼Œ</span></span><br><span class="line">[root@web01 ~]# awk -F: <span class="string">&#x27;$3~/^[13]/&#x27;</span> /etc/passwd</span><br><span class="line">[root@web01 ~]# awk -F: <span class="string">&#x27;$3~/^(1|3)/&#x27;</span> /etc/passwd</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br></pre></td></tr></table></figure>
<h4 id="ç‰¹æ®Šæ¨¡å¼BEGIN-END">ç‰¹æ®Šæ¨¡å¼BEGIN{} END{}</h4>
<table>
<thead>
<tr>
<th>æ¨¡å¼</th>
<th>å«ä¹‰</th>
<th>åº”ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>BEGIN{}</td>
<td>é‡Œé¢å†…å®¹ä¼šåœ¨awk<strong>è¯»å–æ–‡ä»¶ä¹‹å‰</strong>æ‰§è¡Œ</td>
<td>1)è¿›è¡Œç®€å•ç»Ÿè®¡ï¼Œä¸æ¶‰åŠè¯»å–æ–‡ä»¶<br />2)ç”¨æ¥å¤„ç†æ–‡ä»¶ä¹‹å‰ï¼Œæ·»åŠ ä¸ªè¡¨å¤´<br />3)ç”¨æ¥å®šä¹‰awkå˜é‡</td>
</tr>
<tr>
<td>END{}</td>
<td>é‡Œé¢å†…å®¹ä¼šåœ¨awk<strong>è¯»å–æ–‡ä»¶ä¹‹å</strong>æ‰§è¡Œ</td>
<td>1)awkè¿›è¡Œç»Ÿè®¡ï¼Œ<font color=red>ä¸€èˆ¬è¿‡ç¨‹ï¼Œå…ˆè¿›è¡Œè®¡ç®—ï¼Œæœ€åENDé‡Œé¢è¾“å‡º</font>&gt;ç»“æœ<br />3)awkä½¿ç”¨æ•°ç»„ï¼Œç”¨æ¥è¾“å‡ºæ•°ç»„ç»“æœ</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>ç»Ÿè®¡æ–¹æ³•</th>
<th>ç®€å†™</th>
<th>åº”ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>i=i+1</td>
<td>i++</td>
<td>è®¡æ•°ï¼Œç»Ÿè®¡æ¬¡æ•°</td>
</tr>
<tr>
<td>sum=sum+i</td>
<td>sum+=i</td>
<td>æ±‚å’Œï¼Œç´¯åŠ </td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä½¿ç”¨awkç»Ÿè®¡æœ‰å¤šå°‘ç©ºè¡Œ</span></span><br><span class="line">[root@web01 ~]# awk <span class="string">&#x27;/^$/&#123;i++&#125;END&#123;print i&#125;&#x27;</span> /etc/services</span><br><span class="line">17</span><br></pre></td></tr></table></figure>
<h4 id="awkæ•°ç»„">awkæ•°ç»„</h4>
<table>
<thead>
<tr>
<th></th>
<th>shellæ•°ç»„</th>
<th>awkæ•°ç»„</th>
</tr>
</thead>
<tbody>
<tr>
<td>å½¢å¼</td>
<td>array[0]=oldboy array[1]=996</td>
<td>array[0]=oldboy array[1]=996</td>
</tr>
<tr>
<td>ä½¿ç”¨</td>
<td>echo $array[0]   $array[1]</td>
<td>print $array[0]   $array[1]</td>
</tr>
<tr>
<td>æ‰¹é‡è¾“å‡ºæ•°ç»„å†…å®¹</td>
<td>for i in ${array[*]}<br />do<br />  echo $i<br />done</td>
<td>for(i in array)<br />print array[i]</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">awkæ•°ç»„ä¸“ç”¨å¾ªç¯ï¼Œå˜é‡è·å–åˆ°çš„æ˜¯æ•°ç»„çš„ä¸‹æ ‡ï¼Œæƒ³è¦è·å–æ•°ç»„å†…å®¹ï¼Œarray[i]</span><br><span class="line">[root@web01 ~]# awk <span class="string">&#x27;BEGIN&#123;a[0]=123;a[1]=&quot;creat&quot;; for(i in a) print i,a[i]&#125;&#x27;</span></span><br><span class="line">0 123</span><br><span class="line">1 creat</span><br><span class="line"></span><br><span class="line">[root@web01 ~]# <span class="built_in">cat</span> 1.txt</span><br><span class="line">http://www.driverzeng.com/index.html</span><br><span class="line">http://www.driverzeng.com/1.html</span><br><span class="line">http://post.driverzeng.com/index.html</span><br><span class="line">http://mp3.driverzeng.com/index.html</span><br><span class="line">http://www.driverzeng.com/3.html</span><br><span class="line">http://post.driverzeng.com/2.html</span><br><span class="line"></span><br><span class="line">[root@web01 ~]# awk -F <span class="string">&#x27;[./]+&#x27;</span> <span class="string">&#x27;&#123;array[$2]++&#125;END&#123;for(i in array)print i,array[i]&#x27;</span> 1.txt </span><br><span class="line">www 3</span><br><span class="line">mp3 1</span><br><span class="line">post 2</span><br><span class="line"><span class="comment">####</span></span><br><span class="line">array[<span class="variable">$2</span>]++  ==&gt;[ ]é‡Œæ˜¯æ•°ç»„æƒ³è¦ç»Ÿè®¡çš„å†…å®¹</span><br><span class="line">&#123;<span class="keyword">for</span>(i <span class="keyword">in</span> array) ==&gt;å¾ªç¯æ•°ç»„</span><br><span class="line"><span class="built_in">print</span> i  ==&gt;è¿™é‡Œçš„iæ˜¯[ ]é‡Œçš„å†…å®¹</span><br><span class="line">array[i] ==&gt;æ•°ç»„+ä¸‹æ ‡è¡¨ç¤ºçš„æ˜¯å†…å®¹ï¼Œè¿™é‡Œçš„å†…å®¹è¡¨ç¤ºçš„æ˜¯æ¬¡æ•°</span><br><span class="line"></span><br><span class="line">[root@web02 ~]# awk <span class="string">&#x27;&#123;array[$10]++&#125;END&#123;for(i in array)print $1,i,array[i]&#125;&#x27;</span> access.log|<span class="built_in">sort</span> -nrk3</span><br><span class="line">115.223.23.182 200 710</span><br><span class="line">115.223.23.182 304 250</span><br><span class="line">115.223.23.182 302 223</span><br><span class="line">115.223.23.182 404 186</span><br><span class="line">115.223.23.182 301 65</span><br><span class="line">115.223.23.182 403 45</span><br><span class="line">115.223.23.182 503 4</span><br></pre></td></tr></table></figure>
<p><strong>==æ¡ˆä¾‹==</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">[root@web01 ~]# <span class="built_in">cat</span> 123.txt </span><br><span class="line">Zeng Laoshi       133411023        :110:100:75</span><br><span class="line">Deng Ziqi            44002231        :250:10:88</span><br><span class="line">Zhang Xinyu      877623568      :120:300:200</span><br><span class="line">Gu Linazha         11029987         :120:30:79</span><br><span class="line">Di Lireba             253097001      :220:100:200</span><br><span class="line">Jiang Shuying    535432779       :309:10:2</span><br><span class="line">Ju Jingyi             68005178         :130:280:385</span><br><span class="line">Zhang Yuqi         376788757       :500:290:33</span><br><span class="line">Wen Zhang         259872003      :100:200:300</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰¾å‡ºæ‰€æœ‰å§“Zhangçš„äººï¼Œæ˜¾ç¤ºä»–ä»¬çš„åå­—è¿˜æœ‰ç¬¬äºŒæ¬¡ææ¬¾æ•°</span></span><br><span class="line">[root@web01 ~]# awk -F <span class="string">&#x27;[ :]+&#x27;</span> <span class="string">&#x27;/^Zhang/&#123;print $1,$2&quot; ç¬¬äºŒæ¬¡ææ¬¾ï¼š&quot;$5&#125;&#x27;</span> 123.txt </span><br><span class="line">Zhang Xinyu ç¬¬äºŒæ¬¡ææ¬¾ï¼š300</span><br><span class="line">Zhang Yuqi ç¬¬äºŒæ¬¡ææ¬¾ï¼š290</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰¾å‡ºæ‰€æœ‰25å¼€å¤´çš„è”ç³»æ–¹å¼ï¼Œå¹¶ä¸”è¾“å‡ºä»–ä»¬çš„å§“å</span></span><br><span class="line">[root@web01 ~]# awk <span class="string">&#x27;$3~ /^25/&#123;print $1,$2,$3&#125;&#x27;</span> 123.txt </span><br><span class="line">Di Lireba 253097001</span><br><span class="line">Wen Zhang 259872003</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ˜¾ç¤ºQQå·æ˜¯1æˆ–3ç»“å°¾çš„å§“åå’ŒQQå·</span></span><br><span class="line">[root@web01 ~]# awk <span class="string">&#x27;$3~ /(1|3)$/&#123;print $1,$2,$3&#125;&#x27;</span> 123.txt </span><br><span class="line">Zeng Laoshi 133411023</span><br><span class="line">Deng Ziqi 44002231</span><br><span class="line">Di Lireba 253097001</span><br><span class="line">Wen Zhang 259872003</span><br><span class="line"></span><br><span class="line"><span class="comment">#ææ¬¾æ•°æ˜¾ç¤ºä»¥$ä¸ºåˆ†å‰²</span></span><br><span class="line">[root@web01 ~]# awk <span class="string">&#x27;&#123;gsub(&quot;:&quot;,&quot;$&quot;);print $0 &#125;&#x27;</span> 123.txt </span><br><span class="line">Zeng Laoshi       133411023        $110$100<span class="variable">$75</span></span><br><span class="line">Deng Ziqi            44002231        $250$10<span class="variable">$88</span></span><br><span class="line">Zhang Xinyu      877623568      $120$300<span class="variable">$200</span></span><br><span class="line">Gu Linazha         11029987         $120$30<span class="variable">$79</span></span><br><span class="line">Di Lireba             253097001      $220$100<span class="variable">$200</span></span><br><span class="line">Jiang Shuying    535432779       $309$10<span class="variable">$2</span></span><br><span class="line">Ju Jingyi             68005178         $130$280<span class="variable">$385</span></span><br><span class="line">Zhang Yuqi         376788757       $500$290<span class="variable">$33</span></span><br><span class="line">Wen Zhang         259872003      $100$200<span class="variable">$300</span></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>LinuxåŸºç¡€æ€»ç»“ç‰ˆ</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://lukme.top/posts/4c7367cf.html">https://lukme.top/posts/4c7367cf.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>ä½œè€…</h><div class="post-copyright-cc-info"><h>LuayğŸ¥</h></div></div><div class="post-copyright-c"><h>å‘å¸ƒäº</h><div class="post-copyright-cc-info"><h>2024-07-25</h></div></div><div class="post-copyright-u"><h>æ›´æ–°äº</h><div class="post-copyright-cc-info"><h>2024-10-13</h></div></div><div class="post-copyright-c"><h>è®¸å¯åè®®</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">æŠ•å–‚ä½œè€…</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cos.lukme.top/lukme/wechat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/lukme/wechat.png" alt="å¾®ä¿¡"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://cos.lukme.top/lukme/alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/lukme/alipay.png" alt="æ”¯ä»˜å®"/></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></button></div><audio id="coinAudio" src="https://npm.elemecdn.com/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer="defer" src="/js/coin.js"></script><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/d58f4e80.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/lukme/article_cover/cover_7.webp" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">22.å®šæ—¶ä»»åŠ¡</div></div></a></div><div class="next-post pull-right"><a href="/posts/2013454d.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/lukme/article_cover/cover_1.webp" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Markdownè¯­æ³•ä¸å¤–æŒ‚æ ‡ç­¾å†™æ³•æ±‡æ€»</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:bold">ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%80%901%E3%80%91Linux%E5%9F%BA%E7%A1%80"><span class="toc-text">ã€1ã€‘LinuxåŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3"><span class="toc-text">1.ç½‘ç»œç›¸å…³</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%BC%8F"><span class="toc-text">1.è™šæ‹Ÿæœºçš„ç½‘ç»œæ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E5%8D%A1%E9%85%8D%E7%BD%AE"><span class="toc-text">2.è™šæ‹Ÿæœºç½‘å¡é…ç½®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%B3%BB%E7%BB%9F%E5%86%85%E9%85%8D%E7%BD%AE%E7%BD%91%E5%8D%A1"><span class="toc-text">3.ç³»ç»Ÿå†…é…ç½®ç½‘å¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Xshell%E8%BF%9E%E6%8E%A5%E4%B8%8D%E4%B8%8A%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%8E%92%E6%9F%A5"><span class="toc-text">4.Xshellè¿æ¥ä¸ä¸Šè™šæ‹Ÿæœºæ’æŸ¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-C6-C7%E5%AE%89%E8%A3%85"><span class="toc-text">2.C6 &amp; C7å®‰è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Centos-6-%E5%AE%89%E8%A3%85"><span class="toc-text">1. Centos 6 å®‰è£…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%85%8D%E7%BD%AECentOS6%E7%BD%91%E5%8D%A1"><span class="toc-text">2.é…ç½®CentOS6ç½‘å¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-CentOS7%E5%AE%89%E8%A3%85"><span class="toc-text">3.CentOS7å®‰è£…</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%8F%98%E9%87%8F"><span class="toc-text">3.å˜é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BASH%E7%89%B9%E6%80%A7"><span class="toc-text">BASHç‰¹æ€§</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%8D%95%E7%94%A8%E6%88%B7%E6%A8%A1%E5%BC%8F"><span class="toc-text">4.å•ç”¨æˆ·æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81"><span class="toc-text">1.ä¿®æ”¹å¯†ç </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BF%AE%E6%94%B9%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB"><span class="toc-text">2.ä¿®æ”¹è¿è¡Œçº§åˆ«</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%80%902%E3%80%91%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86"><span class="toc-text">ã€2ã€‘æ–‡ä»¶å’Œç›®å½•ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-text">1.ç›®å½•ç»“æ„</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-dev%E7%9B%AE%E5%BD%95"><span class="toc-text">â‘  &#x2F;devç›®å½•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-etc%E7%9B%AE%E5%BD%95"><span class="toc-text">â‘¡ &#x2F;etcç›®å½•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-etc%E5%85%B6%E5%AE%83%E7%9B%AE%E5%BD%95-%E4%BA%86%E8%A7%A3"><span class="toc-text">â‘¢ &#x2F;etcå…¶å®ƒç›®å½•     *äº†è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-proc%E5%92%8C-var%E7%9B%AE%E5%BD%95"><span class="toc-text">â‘£ &#x2F;procå’Œ&#x2F;varç›®å½•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4-%E5%85%B6%E5%AE%83%E7%9B%AE%E5%BD%95"><span class="toc-text">â‘¤ å…¶å®ƒç›®å½•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%9F%A5%E7%9C%8B%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">2.æŸ¥çœ‹ç›¸å…³å‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-cat"><span class="toc-text">â‘  cat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-tail-head"><span class="toc-text">â‘¡ tail &amp; head</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-more-less"><span class="toc-text">â‘¢ more &amp; less</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-grep"><span class="toc-text">â‘£ grep</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4-ls"><span class="toc-text">â‘¤ ls</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A5-tree"><span class="toc-text">â‘¥ tree</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%A2%9E%E5%88%A0%E6%94%B9%E6%93%8D%E4%BD%9C"><span class="toc-text">3.å¢åˆ æ”¹æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-cp"><span class="toc-text">â‘  cp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-mv"><span class="toc-text">â‘¡ mv</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-rm"><span class="toc-text">â‘¢ rm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-touch"><span class="toc-text">â‘£ touch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4-mkdir"><span class="toc-text">â‘¤ mkdir</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A5-tr-%E6%9B%BF%E6%8D%A2"><span class="toc-text">â‘¥ tr æ›¿æ¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-text">4.æ–‡ä»¶å¤„ç†å‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-sort"><span class="toc-text">â‘  sort</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-uniq-%E5%8E%BB%E9%87%8D"><span class="toc-text">â‘¡ uniq å»é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-cut-%E6%88%AA%E5%8F%96"><span class="toc-text">â‘¢ cut æˆªå–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-wc-%E7%BB%9F%E8%AE%A1"><span class="toc-text">â‘£ wc ç»Ÿè®¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4-wget-curl-%E4%B8%8B%E8%BD%BD"><span class="toc-text">â‘¤ wget &amp; curl ä¸‹è½½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="toc-text">6.æ–‡ä»¶å±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0-%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="toc-text">â‘  æŸ¥çœ‹æ–‡ä»¶ç±»å‹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1-%E7%B3%BB%E7%BB%9F%E9%93%BE%E6%8E%A5%E6%96%87%E4%BB%B6"><span class="toc-text">â‘¡ ç³»ç»Ÿé“¾æ¥æ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A2-%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%B5%81%E7%A8%8B"><span class="toc-text">â‘¢ æ–‡ä»¶è¯»å–æµç¨‹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A3-block%E4%BB%8B%E7%BB%8D"><span class="toc-text">â‘£ blockä»‹ç»</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A4-%E8%BD%AF%E9%93%BE%E6%8E%A5"><span class="toc-text">â‘¤ è½¯é“¾æ¥</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A5-%E7%A1%AC%E9%93%BE%E6%8E%A5"><span class="toc-text">â‘¥ ç¡¬é“¾æ¥</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A6-%E8%BD%AF%E7%A1%AC%E9%93%BE%E6%8E%A5%E5%8C%BA%E5%88%AB"><span class="toc-text">â‘¦ è½¯ç¡¬é“¾æ¥åŒºåˆ«</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-vim%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-text">3.vimç¼–è¾‘å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-text">1.å‘½ä»¤æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BC%96%E8%BE%91%E6%A8%A1%E5%BC%8F"><span class="toc-text">2.ç¼–è¾‘æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%9C%AB%E8%A1%8C%E6%A8%A1%E5%BC%8F"><span class="toc-text">3.æœ«è¡Œæ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E8%A7%86%E5%9B%BE%E6%A8%A1%E5%BC%8F"><span class="toc-text">4.è§†å›¾æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-vim%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86"><span class="toc-text">5.vimæ‰©å±•çŸ¥è¯†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-vim%E5%86%99%E5%85%A5%E6%B5%81%E7%A8%8B"><span class="toc-text">6.vimå†™å…¥æµç¨‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-find%E5%91%BD%E4%BB%A4"><span class="toc-text">4. findå‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E5%90%8D%E6%9F%A5%E6%89%BE"><span class="toc-text">1.æ ¹æ®æ–‡ä»¶åæŸ¥æ‰¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E6%9F%A5%E6%89%BE"><span class="toc-text">2.æ ¹æ®æ–‡ä»¶ç±»å‹æŸ¥æ‰¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F%E6%9F%A5%E6%89%BE"><span class="toc-text">3.æ ¹æ®æ–‡ä»¶å¤§å°æŸ¥æ‰¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E7%9A%84%E6%97%B6%E9%97%B4%E6%9F%A5%E6%89%BE"><span class="toc-text">4.æ ¹æ®æ–‡ä»¶çš„æ—¶é—´æŸ¥æ‰¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E6%A0%B9%E6%8D%AE%E7%94%A8%E6%88%B7%E6%9F%A5%E6%89%BE"><span class="toc-text">5.æ ¹æ®ç”¨æˆ·æŸ¥æ‰¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E6%9F%A5%E6%89%BE"><span class="toc-text">6.æ ¹æ®æ–‡ä»¶æƒé™æŸ¥æ‰¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E6%A0%B9%E6%8D%AE%E6%B7%B1%E5%BA%A6%E6%9F%A5%E6%89%BE"><span class="toc-text">7.æ ¹æ®æ·±åº¦æŸ¥æ‰¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E5%8A%A8%E4%BD%9C"><span class="toc-text">8.åŠ¨ä½œ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%80%903%E3%80%91%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-text">ã€3ã€‘ç”¨æˆ·ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E4%BF%A1%E6%81%AF"><span class="toc-text">1.ç”¨æˆ·ç®¡ç†ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E7%94%A8%E6%88%B7%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4"><span class="toc-text">â‘  ç”¨æˆ·æŸ¥çœ‹å‘½ä»¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-etc-passwd"><span class="toc-text">â‘¡ &#x2F;etc&#x2F;passwd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-etc-shadow"><span class="toc-text">â‘¢ etc&#x2F;shadow</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-text">2.ç”¨æˆ·ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E6%A1%88%E4%BE%8B"><span class="toc-text">â‘  åˆ›å»ºç”¨æˆ·æ¡ˆä¾‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-%E7%94%A8%E6%88%B7%E7%BA%A6%E5%AE%9A%E5%92%8C%E8%A7%84%E8%8C%83"><span class="toc-text">â‘¡ ç”¨æˆ·çº¦å®šå’Œè§„èŒƒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81-chage"><span class="toc-text">â‘¢ ä¿®æ”¹å¯†ç  chage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%EF%BC%88%E5%A2%9E%EF%BC%89"><span class="toc-text">â‘£ åˆ›å»ºç”¨æˆ·ï¼ˆå¢ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF-%E6%94%B9%EF%BC%89"><span class="toc-text">â‘¤ ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯(æ”¹ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A5-%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%EF%BC%88%E5%88%A0%EF%BC%89"><span class="toc-text">â‘¥ åˆ é™¤ç”¨æˆ·ï¼ˆåˆ ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A6-%E7%94%A8%E6%88%B7%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86"><span class="toc-text">â‘¦ ç”¨æˆ·æ‰©å±•çŸ¥è¯†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A7%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86"><span class="toc-text">â‘§ç”¨æˆ·å¯†ç ç®¡ç†</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86"><span class="toc-text">3.ç”¨æˆ·ç»„ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">ç»„ç›¸å…³å‘½ä»¤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%94%A8%E6%88%B7%E5%88%87%E6%8D%A2-%E6%8F%90%E6%9D%83"><span class="toc-text">4.ç”¨æˆ·åˆ‡æ¢ &amp; ææƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E7%94%A8%E6%88%B7%E5%88%87%E6%8D%A2"><span class="toc-text">â‘ ç”¨æˆ·åˆ‡æ¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E7%94%A8%E6%88%B7%E8%BA%AB%E4%BB%BD%E6%8F%90%E6%9D%83"><span class="toc-text">â‘¡ç”¨æˆ·èº«ä»½ææƒ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%80%904%E3%80%91%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-text">ã€4ã€‘æƒé™ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%9D%83%E9%99%90"><span class="toc-text">1.åŸºæœ¬æƒé™</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E4%BF%AE%E6%94%B9%E6%9D%83%E9%99%90%E5%91%BD%E4%BB%A4"><span class="toc-text">â‘  ä¿®æ”¹æƒé™å‘½ä»¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-%E6%9D%83%E9%99%90%E5%AF%B9%E6%96%87%E4%BB%B6%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-text">â‘¡ æƒé™å¯¹æ–‡ä»¶çš„å½±å“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-%E6%9D%83%E9%99%90%E5%AF%B9%E7%9B%AE%E5%BD%95%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-text">â‘¢ æƒé™å¯¹ç›®å½•çš„å½±å“</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%89%B9%E6%AE%8A%E6%9D%83%E9%99%90"><span class="toc-text">2.ç‰¹æ®Šæƒé™</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SUID"><span class="toc-text">SUID</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SGID"><span class="toc-text">SGID</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SBIT"><span class="toc-text">SBIT</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chattr%E6%9D%83%E9%99%90"><span class="toc-text">chattræƒé™</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%BF%9B%E7%A8%8B%E6%8E%A9%E7%A0%81umask"><span class="toc-text">3.è¿›ç¨‹æ©ç umask</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%96%87%E4%BB%B6%E5%B1%9E%E4%B8%BB%E5%B1%9E%E7%BB%84%E4%BF%AE%E6%94%B9"><span class="toc-text">4.æ–‡ä»¶å±ä¸»å±ç»„ä¿®æ”¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%80%905%E3%80%91%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">ã€5ã€‘é‡å®šå‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%87%8D%E5%AE%9A%E5%90%91%E4%BD%BF%E7%94%A8"><span class="toc-text">1.é‡å®šå‘ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">2.è¾“å…¥é‡å®šå‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%B8%A4%E6%9D%A1%E5%91%BD%E4%BB%A4%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">3.ä¸¤æ¡å‘½ä»¤é‡å®šå‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%AE%A1%E9%81%93%E6%8A%80%E6%9C%AF"><span class="toc-text">4.ç®¡é“æŠ€æœ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-xargs%E4%BC%A0%E5%8F%82"><span class="toc-text">5.xargsä¼ å‚</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%80%906%E3%80%91%E6%96%87%E4%BB%B6%E8%A7%A3%E5%8E%8B%E7%BC%A9"><span class="toc-text">ã€6ã€‘æ–‡ä»¶è§£å‹ç¼©</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%B8%B8%E8%A7%81%E5%8E%8B%E7%BC%A9%E5%8C%85%E7%B1%BB%E5%9E%8B"><span class="toc-text">1.å¸¸è§å‹ç¼©åŒ…ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%E5%91%BD%E4%BB%A4%E2%80%94gzip"><span class="toc-text">2.å‹ç¼©è§£å‹å‘½ä»¤â€”gzip</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%E5%91%BD%E4%BB%A4%E2%80%94zip"><span class="toc-text">3.å‹ç¼©è§£å‹å‘½ä»¤â€”zip</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%E5%91%BD%E4%BB%A4%E2%80%94tar"><span class="toc-text">4.å‹ç¼©è§£å‹å‘½ä»¤â€”tar</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%80%907%E3%80%91%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="toc-text">ã€7ã€‘è½¯ä»¶å®‰è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-rpm%E5%8C%85"><span class="toc-text">1.rpmåŒ…</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%8E%B7%E5%8F%96RPM%E5%8C%85"><span class="toc-text">1. è·å–RPMåŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-RPM%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-text">2.RPMåŒ…ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0-%E5%AE%89%E8%A3%85"><span class="toc-text">â‘  å®‰è£…</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1-%E6%9F%A5%E8%AF%A2"><span class="toc-text">â‘¡ æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A2%E5%8D%B8%E8%BD%BD"><span class="toc-text">â‘¢å¸è½½</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A3%E5%8D%87%E7%BA%A7RPM%E5%8C%85"><span class="toc-text">â‘£å‡çº§RPMåŒ…</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-yum%E5%B7%A5%E5%85%B7"><span class="toc-text">2.yumå·¥å…·</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E6%8D%A2%E6%BA%90"><span class="toc-text">â‘  æ¢æº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-yum%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-text">â‘¡ yumç®¡ç†å‘½ä»¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-yum%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4"><span class="toc-text">â‘¢ yumå®‰è£…å‘½ä»¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-yum%E9%87%8D%E8%A3%85-%E6%9B%B4%E6%96%B0-%E5%88%A0%E9%99%A4"><span class="toc-text">â‘£ yumé‡è£…&#x2F;æ›´æ–°&#x2F;åˆ é™¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-yum%E9%80%86%E5%90%91%E6%9F%A5%E8%AF%A2-%E7%BC%93%E5%AD%98"><span class="toc-text">â‘£ yumé€†å‘æŸ¥è¯¢&#x2F;ç¼“å­˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4-%E7%88%AC%E5%8F%96rpm%E5%8C%85"><span class="toc-text">â‘¤ çˆ¬å–rpmåŒ…</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-yum%E6%96%87%E4%BB%B6-%E5%91%BD%E4%BB%A4"><span class="toc-text">3.yumæ–‡ä»¶&amp;å‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-yum%E7%A8%8B%E5%BA%8F%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">â‘  yumç¨‹åºçš„é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1yum%E7%BB%84%E5%91%BD%E4%BB%A4"><span class="toc-text">â‘¡yumç»„å‘½ä»¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-yum%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4"><span class="toc-text">â‘¢ yumå†å²å‘½ä»¤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%88%B6%E4%BD%9Cyum%E4%BB%93%E5%BA%93"><span class="toc-text">4.åˆ¶ä½œyumä»“åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E5%88%B6%E4%BD%9C%E6%9C%AC%E5%9C%B0yum%E4%BB%93%E5%BA%93"><span class="toc-text">â‘  åˆ¶ä½œæœ¬åœ°yumä»“åº“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-%E5%88%B6%E4%BD%9C%E8%BF%9C%E7%A8%8Byum%E4%BB%93%E5%BA%93"><span class="toc-text">â‘¡ åˆ¶ä½œè¿œç¨‹yumä»“åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ftp%E5%88%B6%E4%BD%9C%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-text">ftpåˆ¶ä½œè¿œç¨‹ä»“åº“</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#nginx%E5%88%B6%E4%BD%9C%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-text">nginxåˆ¶ä½œè¿œç¨‹ä»“åº“</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%80%908%E3%80%91%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-text">ã€8ã€‘è¿›ç¨‹ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-text">1.è¿›ç¨‹ç®¡ç†å‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-ps%E5%91%BD%E4%BB%A4%EF%BC%88%E9%9D%99%E6%80%81%EF%BC%89"><span class="toc-text">â‘  pså‘½ä»¤ï¼ˆé™æ€ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-stat%E5%91%BD%E4%BB%A4"><span class="toc-text">â‘¡ statå‘½ä»¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-%E5%86%85%E5%AD%98-%E7%AB%AF%E5%8F%A3"><span class="toc-text">â‘¢ å†…å­˜&#x2F;ç«¯å£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-ps%E5%85%B6%E4%BB%96%E9%80%89%E9%A1%B9"><span class="toc-text">â‘£ pså…¶ä»–é€‰é¡¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4-top%EF%BC%88%E5%8A%A8%E6%80%81%E5%91%BD%E4%BB%A4%EF%BC%89"><span class="toc-text">â‘¤ topï¼ˆåŠ¨æ€å‘½ä»¤ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A5-top%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">â‘¥ topå‘½ä»¤çš„ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A6-%E4%B8%AD%E6%96%AD"><span class="toc-text">â‘¦ ä¸­æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A7-kill%E4%BF%A1%E5%8F%B7%E7%AE%A1%E7%90%86"><span class="toc-text">â‘§ killä¿¡å·ç®¡ç†</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BC%98%E5%85%88%E7%BA%A7-%E8%B4%9F%E8%BD%BD"><span class="toc-text">2.ä¼˜å…ˆçº§&amp;è´Ÿè½½</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%BF%9B%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">1.è¿›ç¨‹ä¼˜å…ˆçº§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Linux%E5%90%8E%E5%8F%B0%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-text">2.Linuxåå°è¿›ç¨‹ç®¡ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%B3%BB%E7%BB%9F%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD"><span class="toc-text">3.ç³»ç»Ÿå¹³å‡è´Ÿè½½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-CPU%E5%AF%B9%E8%B4%9F%E8%BD%BD%E5%BD%B1%E5%93%8D"><span class="toc-text">4.CPUå¯¹è´Ÿè½½å½±å“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E7%A3%81%E7%9B%98IO%E5%AF%B9%E8%B4%9F%E8%BD%BD%E5%BD%B1%E5%93%8D"><span class="toc-text">5.ç£ç›˜IOå¯¹è´Ÿè½½å½±å“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%AF%B9%E8%B4%9F%E8%BD%BD%E5%BD%B1%E5%93%8D"><span class="toc-text">6.å¤šè¿›ç¨‹å¯¹è´Ÿè½½å½±å“</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B"><span class="toc-text">3.ç³»ç»Ÿå¯åŠ¨æµç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Centos6%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B"><span class="toc-text">1.Centos6å¯åŠ¨æµç¨‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%B3%BB%E7%BB%9F%E5%85%B3%E6%9C%BA%E5%91%BD%E4%BB%A4"><span class="toc-text">2.ç³»ç»Ÿå…³æœºå‘½ä»¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%8D%95%E7%94%A8%E6%88%B7%E6%A8%A1%E5%BC%8F"><span class="toc-text">3.å•ç”¨æˆ·æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-CentOS7%E5%90%AF%E5%8A%A8%E9%A1%BA%E5%BA%8F"><span class="toc-text">4.CentOS7å¯åŠ¨é¡ºåº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-CentOS7%E5%8D%95%E7%94%A8%E6%88%B7%E6%A8%A1%E5%BC%8F"><span class="toc-text">5.CentOS7å•ç”¨æˆ·æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB"><span class="toc-text">6.ä¿®æ”¹é»˜è®¤è¿è¡Œçº§åˆ«</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%95%91%E6%8F%B4%E6%A8%A1%E5%BC%8F"><span class="toc-text">4.æ•‘æ´æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-MBR%E5%BC%95%E5%AF%BC%E8%A2%AB%E7%A0%B4%E5%9D%8F%E8%A7%A3%E5%86%B3"><span class="toc-text">1.MBRå¼•å¯¼è¢«ç ´åè§£å†³</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-grub%E8%8F%9C%E5%8D%95%E8%AF%AF%E5%88%A0%E8%A7%A3%E5%86%B3"><span class="toc-text">2.grubèœå•è¯¯åˆ è§£å†³</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%B3%BB%E7%BB%9F%E6%8D%9F%E5%9D%8F%E6%8B%B7%E8%B4%9D%E6%96%87%E4%BB%B6"><span class="toc-text">3.ç³»ç»ŸæŸåæ‹·è´æ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Systemd-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-text">5.Systemd è¿›ç¨‹ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#systemd%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">systemdç›¸å…³å‘½ä»¤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"><span class="toc-text">6.å®šæ—¶ä»»åŠ¡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E8%AF%AD%E6%B3%95"><span class="toc-text">1.å®šæ—¶ä»»åŠ¡è¯­æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-crontab%E5%91%BD%E4%BB%A4%E9%80%89%E9%A1%B9"><span class="toc-text">2.crontabå‘½ä»¤é€‰é¡¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-crontab%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">3.crontabæ³¨æ„äº‹é¡¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E2%80%94%E5%81%9A%E5%A4%87%E4%BB%BD"><span class="toc-text">4.å®šæ—¶ä»»åŠ¡â€”åšå¤‡ä»½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E8%B0%83%E8%AF%95%E6%80%9D%E8%B7%AF"><span class="toc-text">5.è®¡åˆ’ä»»åŠ¡è°ƒè¯•æ€è·¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E4%BD%BF%E7%94%A8%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%8F%91%E9%82%AE%E4%BB%B6"><span class="toc-text">6.ä½¿ç”¨å®šæ—¶ä»»åŠ¡å‘é‚®ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%AE%9E%E4%BE%8B"><span class="toc-text">7.å®šæ—¶ä»»åŠ¡å®ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D"><span class="toc-text">7.ä¿®æ”¹ç½‘å¡å</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%80%909%E3%80%91%E4%B8%89%E5%89%91%E5%AE%A2"><span class="toc-text">ã€9ã€‘ä¸‰å‰‘å®¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">æ­£åˆ™è¡¨è¾¾å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%AD%A3%E5%88%99%E7%AC%A6%E5%8F%B7"><span class="toc-text">1. æ­£åˆ™ç¬¦å·</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E6%AD%A3%E5%88%99"><span class="toc-text">æ‰©å±•æ­£åˆ™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%AD%A3%E5%88%99-%E9%80%9A%E9%85%8D%E7%AC%A6"><span class="toc-text">2.æ­£åˆ™&amp;é€šé…ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%89%91%E5%AE%A2"><span class="toc-text">ä¸‰å‰‘å®¢</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#grep%E4%B8%93%E5%8C%BA"><span class="toc-text">grepä¸“åŒº</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6"><span class="toc-text">å­—ç¬¦</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%92%8C-%E8%A1%A8%E6%88%96%E8%80%85%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">| å’Œ[ ]è¡¨æˆ–è€…çš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-text">( )ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sed%E5%91%BD%E4%BB%A4"><span class="toc-text">sedå‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#sed-%E6%9F%A5%E6%89%BEp"><span class="toc-text">sed-æŸ¥æ‰¾p</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sed-%E5%88%A0%E9%99%A4d"><span class="toc-text">sed-åˆ é™¤d</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sed-%E5%A2%9E%E5%8A%A0"><span class="toc-text">sed-å¢åŠ </span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sed-%E6%9B%BF%E6%8D%A2s"><span class="toc-text">sed-æ›¿æ¢s</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sed-%E5%90%8E%E5%90%91%E5%BC%95%E7%94%A8"><span class="toc-text">sed-åå‘å¼•ç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#awk%E5%91%BD%E4%BB%A4"><span class="toc-text">awkå‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%9F%A5%E6%89%BE-%E8%BF%87%E6%BB%A4"><span class="toc-text">1.æŸ¥æ‰¾&#x2F;è¿‡æ»¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-awk%E5%8F%96%E5%88%97"><span class="toc-text">2.awkå–åˆ—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-awk%E6%A8%A1%E5%BC%8F-%E5%8A%A8%E4%BD%9C"><span class="toc-text">3.awkæ¨¡å¼+åŠ¨ä½œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AF%B9%E6%AF%94"><span class="toc-text">4.å­—ç¬¦ä¸²å¯¹æ¯”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-awk%E6%9B%BF%E6%8D%A2"><span class="toc-text">5.awkæ›¿æ¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">&#x3D;&#x3D;æ€»ç»“&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF-%E5%88%A4%E6%96%AD"><span class="toc-text">å¾ªç¯&amp;åˆ¤æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#awk%E6%AD%A3%E5%88%99"><span class="toc-text">awkæ­£åˆ™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E6%A8%A1%E5%BC%8FBEGIN-END"><span class="toc-text">ç‰¹æ®Šæ¨¡å¼BEGIN{} END{}</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#awk%E6%95%B0%E7%BB%84"><span class="toc-text">awkæ•°ç»„</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-color: transparent;"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">æ ¼è¨€ğŸ§¬</p><div class="bg-ad"><div>å†çœ‹çœ‹é‚£ä¸ªå…‰ç‚¹ï¼Œå®ƒå°±åœ¨è¿™é‡Œï¼Œè¿™æ˜¯å®¶å›­ï¼Œè¿™æ˜¯æˆ‘ä»¬ â€”â€” ä½ æ‰€çˆ±çš„æ¯ä¸€ä¸ªäººï¼Œä½ è®¤è¯†çš„ä¸€ä¸ªäººï¼Œä½ å¬è¯´è¿‡çš„æ¯ä¸€ä¸ªäººï¼Œæ›¾ç»æœ‰è¿‡çš„æ¯ä¸€ä¸ªäººï¼Œéƒ½åœ¨å®ƒä¸Šé¢åº¦è¿‡ä»–ä»¬çš„ä¸€ç”Ÿâœ¨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">ç‚¹å‡»å¼€å¯æ˜Ÿè¾°ä¹‹æ—…</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">çŒœä½ æƒ³çœ‹ğŸ’¡</p><ul class="ft-links"><li><a href="/posts/eec9786.html">é­”æ”¹æŒ‡å—</a><a href="/box/nav/">ç½‘å€å¯¼èˆª</a></li><li><a href="/social/link/">æˆ‘çš„æœ‹å‹</a><a href="/comments/">ç•™ç‚¹ä»€ä¹ˆ</a></li><li><a href="/personal/about/">å…³äºä½œè€…</a><a href="/archives/">æ–‡ç« å½’æ¡£</a></li><li><a href="/categories/">æ–‡ç« åˆ†ç±»</a><a href="/tags/">æ–‡ç« æ ‡ç­¾</a></li><li><a href="/box/Gallery/">æˆ‘çš„ç”»å»Š</a><a href="/personal/bb/">æˆ‘çš„å” å¨</a></li><li><a href="/site/time/">å»ºè®¾è¿›ç¨‹</a><a href="/site/census/">ç½‘ç«™ç»Ÿè®¡</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">æ¨èå‹é“¾âŒ›</p><div class="ft-img-group"><div class="img-group-item"><a target="_blank" rel="noopener" href="https://www.fomal.cc/" title="FomalhautğŸ¥"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.bitiful.net/img/avatar.webp" alt=""/></a></div></div></div></div><div class="copyright"><span><b>&copy;2024</b></span><span><b>&nbsp;&nbsp;By LuayğŸ¥</b></span></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="åšå®¢æ¡†æ¶ä¸ºHexo_v6.3.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.bitiful.net/badge/Frame-Hexo-blue.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="ä¸»é¢˜ç‰ˆæœ¬Butterfly_v4.3.1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.bitiful.net/badge/Theme-Butterfly-6513df.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œä¸»çº¿è·¯æ‰˜ç®¡äºVercel"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.bitiful.com/badge/Hosted-Vercel-brightgreen.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://user.51.la/" style="margin-inline:5px" title="æœ¬ç«™æ•°æ®åˆ†æå¾—ç›Šäº51laæŠ€æœ¯æ”¯æŒ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.bitiful.com/badge/Analytics-51la-3db1eb.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://beian.miit.gov.cn/" style="margin-inline:5px" title="æœ¬ç«™å·²åŠ å…¥è±«ICPè±ªåå¥—é¤ï¼Œè±«ICPå¤‡2024091397å·"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://luay-1302975046.cos.ap-shanghai.myqcloud.com/lukme/ICP.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="æœ¬ç½‘ç«™æºç ç”±Githubæä¾›å­˜å‚¨ä»“åº“"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.bitiful.net/badge/Source-Github-d021d6.svg" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="å³é”®æ¨¡å¼" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="åˆ†äº«é“¾æ¥" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="ç›´è¾¾åº•éƒ¨" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>å¤åˆ¶</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>ç™¾åº¦æœç´¢</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>ç²˜è´´</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>ç©ºé™è¯„è®º</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>å¤åˆ¶æœ¬æ–‡åœ°å€</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>ä¿å­˜å›¾ç‰‡</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>åœ¨æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶å›¾ç‰‡é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>æ˜¼å¤œåˆ‡æ¢</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>å…³äºåšå®¢</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>ç¾åŒ–è®¾ç½®</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>åˆ‡æ¢å…¨å±</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>æ‰“å°é¡µé¢</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://luay.lukeme.top/',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://luay.lukeme.top/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><script id="click-heart" src="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://lukme.top/categories/ç›‘æ§/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¡ Luayã®ç³»ç»Ÿç›‘æ§ (9)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://lukme.top/categories/MySQL/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¼ Luayã®æ•°æ®åº“èµ„æº (12)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://lukme.top/categories/kubernetes/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ‰ Luayã®k8sé›†åˆ (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://lukme.top/categories/ELKæ—¥å¿—æ”¶é›†/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸŸ Luayã®æ—¥å¿—æ”¶é›†åˆ†æ (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://lukme.top/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">æŸ¥çœ‹æ›´å¤š...</a></div></div>';
    console.log('å·²æŒ‚è½½magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(33.333333333333336% - 5px);background: #e9e9e9;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--text-bg-hover)}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/24d869a6.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/lukme/article_cover/cover_9.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-03</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/24d869a6.html&quot;);" href="javascript:void(0);" alt="">MySQLè¯­å¥å‘½ä»¤</a><div class="blog-slider__text">MySQLå®¢æˆ·ç«¯åŠç»“æ„æŸ¥è¯¢è¯­å¥ä½¿ç”¨</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/24d869a6.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/lukme/article_cover/cover_1.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-06-06</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">Markdownè¯­æ³•ä¸å¤–æŒ‚æ ‡ç­¾å†™æ³•æ±‡æ€»</a><div class="blog-slider__text">Markdownè¯­æ³•ä¸å¤–æŒ‚æ ‡ç­¾å†™æ³•æ±‡æ€»</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/4c7367cf.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/lukme/article_cover/cover_1.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-25</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/4c7367cf.html&quot;);" href="javascript:void(0);" alt="">LinuxåŸºç¡€æ€»ç»“ç‰ˆ</a><div class="blog-slider__text">åŸºç¡€ä¸œè¥¿éƒ½åœ¨è¿™é‡Œäº†ï¼Œå­¦å®Œå½»åº•å‘Šåˆ«å°ç™½ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/4c7367cf.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/f007732d.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cos.lukme.top/lukme/article_cover/cover_8.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-31</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/f007732d.html&quot;);" href="javascript:void(0);" alt="">æµ‹è¯•</a><div class="blog-slider__text">ä»…ä¸ºæµ‹è¯•æ–‡ç« </div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/f007732d.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 320px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('å·²æŒ‚è½½gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/site/census/'|| '/site/census/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("/api?null",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'null')
    }
  </script><!-- hexo injector body_end end --></body></html>